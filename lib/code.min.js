!function(){var a=/\blang(?:uage)?-(?!\*)(\w+)\b/i,b=self.Prism={util:{type:function(a){return Object.prototype.toString.call(a).match(/\[object (\w+)\]/)[1]},clone:function(a){var c=b.util.type(a);switch(c){case"Object":var d={};for(var e in a)a.hasOwnProperty(e)&&(d[e]=b.util.clone(a[e]));return d;case"Array":return a.slice()}return a}},languages:{extend:function(a,c){var d=b.util.clone(b.languages[a]);for(var e in c)d[e]=c[e];return d},insertBefore:function(a,c,d,e){e=e||b.languages;var f=e[a],g={};for(var h in f)if(f.hasOwnProperty(h)){if(h==c)for(var i in d)d.hasOwnProperty(i)&&(g[i]=d[i]);g[h]=f[h]}return e[a]=g},DFS:function(a,c){for(var d in a)c.call(a,d,a[d]),"Object"===b.util.type(a)&&b.languages.DFS(a[d],c)}},highlightAll:function(a,c){for(var d,e=document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),f=0;d=e[f++];)b.highlightElement(d,a===!0,c)},highlightElement:function(d,e,f){for(var g,h,i=d;i&&!a.test(i.className);)i=i.parentNode;if(i&&(g=(i.className.match(a)||[,""])[1],h=b.languages[g]),h){d.className=d.className.replace(a,"").replace(/\s+/g," ")+" language-"+g,i=d.parentNode,/pre/i.test(i.nodeName)&&(i.className=i.className.replace(a,"").replace(/\s+/g," ")+" language-"+g);var j=d.textContent;if(j){j=j.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\u00a0/g," ");var k={element:d,language:g,grammar:h,code:j};if(b.hooks.run("before-highlight",k),e&&self.Worker){var l=new Worker(b.filename);l.onmessage=function(a){k.highlightedCode=c.stringify(JSON.parse(a.data),g),k.element.innerHTML=k.highlightedCode,f&&f.call(k.element),b.hooks.run("after-highlight",k)},l.postMessage(JSON.stringify({language:k.language,code:k.code}))}else k.highlightedCode=b.highlight(k.code,k.grammar,k.language),k.element.innerHTML=k.highlightedCode,f&&f.call(d),b.hooks.run("after-highlight",k)}}},highlight:function(a,d,e){return c.stringify(b.tokenize(a,d),e)},tokenize:function(a,c){var d=b.Token,e=[a],f=c.rest;if(f){for(var g in f)c[g]=f[g];delete c.rest}a:for(var g in c)if(c.hasOwnProperty(g)&&c[g]){var h=c[g],i=h.inside,j=!!h.lookbehind||0;h=h.pattern||h;for(var k=0;k<e.length;k++){var l=e[k];if(e.length>a.length)break a;if(!(l instanceof d)){h.lastIndex=0;var m=h.exec(l);if(m){j&&(j=m[1].length);var n=m.index-1+j,m=m[0].slice(j),o=m.length,p=n+o,q=l.slice(0,n+1),r=l.slice(p+1),s=[k,1];q&&s.push(q);var t=new d(g,i?b.tokenize(m,i):m);s.push(t),r&&s.push(r),Array.prototype.splice.apply(e,s)}}}}return e},hooks:{all:{},add:function(a,c){var d=b.hooks.all;d[a]=d[a]||[],d[a].push(c)},run:function(a,c){var d=b.hooks.all[a];if(d&&d.length)for(var e,f=0;e=d[f++];)e(c)}}},c=b.Token=function(a,b){this.type=a,this.content=b};if(c.stringify=function(a,d,e){if("string"==typeof a)return a;if("[object Array]"==Object.prototype.toString.call(a))return a.map(function(b){return c.stringify(b,d,a)}).join("");var f={type:a.type,content:c.stringify(a.content,d,e),tag:"span",classes:["token",a.type],attributes:{},language:d,parent:e};"comment"==f.type&&(f.attributes.spellcheck="true"),b.hooks.run("wrap",f);var g="";for(var h in f.attributes)g+=h+'="'+(f.attributes[h]||"")+'"';return"<"+f.tag+' class="'+f.classes.join(" ")+'" '+g+">"+f.content+"</"+f.tag+">"},!self.document)return self.addEventListener("message",function(a){var c=JSON.parse(a.data),d=c.language,e=c.code;self.postMessage(JSON.stringify(b.tokenize(e,b.languages[d]))),self.close()},!1),void 0;var d=document.getElementsByTagName("script");d=d[d.length-1],d&&(b.filename=d.src,document.addEventListener&&!d.hasAttribute("data-manual")&&document.addEventListener("DOMContentLoaded",b.highlightAll))}(),Prism.languages.clike={comment:{pattern:/(^|[^\\])(\/\*[\w\W]*?\*\/|(^|[^:])\/\/.*?(\r?\n|$))/g,lookbehind:!0},string:/("|')(\\?.)*?\1/g,keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|catch|finally|null|break|continue)\b/g,"boolean":/\b(true|false)\b/g,number:/\b-?(0x)?\d*\.?[\da-f]+\b/g,operator:/[-+]{1,2}|!|=?&lt;|=?&gt;|={1,2}|(&amp;){1,2}|\|?\||\?|\*|\//g,ignore:/&(lt|gt|amp);/gi,punctuation:/[{}[\];(),.:]/g},Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(var|let|if|else|while|do|for|return|in|instanceof|function|new|with|typeof|try|catch|finally|null|break|continue)\b/g,number:/\b(-?(0x)?\d*\.?[\da-f]+|NaN|-?Infinity)\b/g}),Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/g,lookbehind:!0}}),Prism.languages.markup&&Prism.languages.insertBefore("markup","tag",{script:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)[\w\W]*?(&lt;|<)\/script(>|&gt;)/gi,inside:{tag:{pattern:/(&lt;|<)script[\w\W]*?(>|&gt;)|(&lt;|<)\/script(>|&gt;)/gi,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.javascript}}}),function(){"use strict";Prism.languages.gorillascript=Prism.languages.extend("javascript",{keyword:/\b(yield\*?|(throw|return)\??|((all)?keys|label|require|async|fulfilled|rejected|delay)!|(to-|from-|some-|every-)?promise!)|\b(as|break|continue|return|(for|while|until)(\s+(first|every|some|filter|reduce))?|if|else|unless|switch|then|case|default|catch|finally|try|return(if|ing|unless)?|new|class|extends|private|public|protected|def|super|require|promisefor|async(if|for|unless|until|while)?|import|export|returnif|returning|returnunless|mutable|macro|const|static|var|do|of|let|enum|namespace|package|true|false|null|undefined|void|GLOBAL|this|prototype|arguments|from|__(?:FILE|LINE|COLUMN|DATEMSEC|VERSION)__)(?!-)\b/g,operator:/\b((has|owns)key|bit(and|or|xor|not|lshift|u?rshift)|and|or|xor|min|max|instanceof(some)?|typeof\!?|is(nt)?(?!\-)|in|to|til|by|not|xor|delete)(?!\-)\b|\b((and|or|min|max)=|is-(array|boolean|function|null|number|object|string|undefined|void)!|post-(dec|inc)!)|!~?=|={1,2}|:=|::|&amp;|~=|\-(>|(?![\w]))|~?[\+\*\/%\^\\]=?|~?%%|\?=?|(&lt;){2,3}|(&gt;){2,3}|&lt;=&gt;|\|&gt;|&lt;\||@|\.{3}|\-&gt;|(&lt;|&gt;)=?/g,number:/\b-?(0x[\da-f_]+(\.[\da-f_]+)?|0b[01_]+(\.[\da-f_]+)?|0o[0-7_]+(\.[\da-f_]+)?|\d{1,2}r[\w\d_]+(\.[\w\d_]+)?|\d[_\d]*(\.[\d_]*)?(_[\w\d_]*)?|NaN|Infinity)\b/g,string:{pattern:/r"(\\?.)*?"[gimy]*|r'(\\?.)*?'[gimy]*|"(\\?.)*?"|'(\\?.)*?'|\\\w[\w\d_]*(-\w[\w\d_]*)*\b/g,inside:{interpolation:/\$(\w[\d\w]*(\-\w[\d\w]*)*|\(.*?\))/g}},punctuation:/[{}[\];(),.:]/g,ident:/\b\w[\d\w]*(\-\w[\d\w]*)*(?!['"])\b/g}),Prism.languages.insertBefore("gorillascript","operator",{property:/[\.@]\w[\d\w]*(\-\w[\d\w]*)*\b|\w[\d\w]*(\-\w[\d\w]*)*\s*:/g}),Prism.languages.insertBefore("gorillascript","ident",{primordial:/\b(Object|String|Number|Boolean|Function|Array|Math|JSON|Date|RegExp|Error|RangeError|ReferenceError|SyntaxError|TypeError|URIError|escape|unescape|parse(Int|\-int|Float|\-float)|is\-?NaN|is(F|\-f)inite|decode\-?URI((C|\-c)omponent)?|encode\-?URI((C|\-c)omponent)?|Set|Map|WeakMap)\b/g})}.call(this),function(){"use strict";var a,b;a=function(a){var c;if(c=typeof a,"string"===c)return a;if("number"===c)return String(a);throw TypeError("Expected a string or number, got "+b(a))},b=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),Prism.languages.egs=Prism.languages.extend("gorillascript",{keyword:RegExp(a(Prism.languages.gorillascript.keyword.source)+"|\\b(end|block|partial|extends)\\b","g")}),Prism.languages.insertBefore("egs","operator",{property:/[\.@]\w[\d\w]*(\-\w[\d\w]*)*\b|\w[\d\w]*(\-\w[\d\w]*)*\s*(?!:\s*(?:%>|%&gt;)):/g}),Prism.languages.insertBefore("egs","keyword",{deliminator:/(%>|%&gt;|<%=?|&lt;=)/g}),Prism.languages.markup&&Prism.languages.insertBefore("egs","comment",{markup:{pattern:/(%>|%&gt;)[\w\W]*?(?=(<%|&lt;%))/g,lookbehind:!0,inside:{markup:{pattern:/&lt;\/?[\w:-]+\s*[\w\W]*?&gt;/g,inside:Prism.languages.markup.tag.inside},rest:Prism.languages.egs}}})}.call(this),function(a){"use strict";var b=function(a){function b(c){var d=Object.prototype.hasOwnProperty;if(d.call(b._cache,c))return b._cache[c];if(d.call(b,c)){var e=b[c];return delete b[c],b._cache[c]=e.call({})}return a?a(c):void 0}return b._cache={},b["./utils"]=function(){var a={exports:this},c=this;return function(a){function d(a,b){return 1>b?"":1===b?a:1&b?""+a+d(a,b-1):d(""+a+a,b/2)}function e(a,b,c){return""+d(c,b-a.length)+a}function f(a,b,c){return""+a+d(c,b-a.length)}function g(a){return C?C(a):-1===a.indexOf("'")?"'"+JSON.stringify(a).slice(1,-1)+"'":JSON.stringify(a)}function h(a){var b,c,d,e,f;for(f=[],b=w(a),c=0,d=b.length;d>c;++c)e=b[c],q(e,f)||f.push(e);return f}function i(a){var b,c;return b=F.join(a,"package.json"),B.existsSync(b)?b:(c=F.normalize(F.join(a,"..")),c!==a?i(c):void 0)}function j(a){var b,c;if("string"!=typeof a||!B||!F)return"";try{b=i(F.dirname(a))}catch(d){}if(!b)return"";try{c=JSON.parse(B.readFileSync(b)).version}catch(d){}return"string"==typeof c?c:""}function k(a){var b;return b=o(),B.exists(a,b.fulfill),b.promise}function l(a,b){return E.sync(a,b,!0)}function m(a,b,c){return I.sync(a,b,c,!0)}var n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I;n="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},o=function(){function a(){function b(a,b){var f;c&&(f=c,c=null,d=a,e=b,f.length&&G(function(){var a,b;for(b=0,a=f.length;a>b;++b)f[b]()}))}var c,d,e;return d=!1,e=null,c=[],{promise:{then:function(b,f,g){function h(){var a,c;try{a=d?f:b,"function"==typeof a?(c=a(e),c&&"function"==typeof c.then?c.then(j,l,g):j(c)):(d?l:j)(e)}catch(h){l(h)}}var i,j,k,l;return g!==!0&&(g=void 0),i=a(),k=i.promise,j=i.fulfill,l=i.reject,c?c.push(h):g?h():G(h),k},sync:function(){var a,b;switch(b=0,a=0,this.then(function(c){return b=1,a=c},function(c){return b=2,a=c},!0),b){case 0:throw Error("Promise did not execute synchronously");case 1:return a;case 2:throw a;default:throw Error("Unknown state")}}},fulfill:function(a){b(!1,a)},reject:function(a){b(!0,a)}}}return a.fulfilled=function(b){var c;return c=a(),c.fulfill(b),c.promise},a.rejected=function(b){var c;return c=a(),c.reject(b),c.promise},a}(),p=function(a,b){function c(c,f){var g;try{g=a[c](f)}catch(h){return o.rejected(h)}return g.done?o.fulfilled(g.value):g.value.then(d,e,b)}function d(a){return c("send",a)}function e(a){return c("throw",a)}if("object"!=typeof a||null===a)throw TypeError("Expected generator to be an Object, got "+y(a));if("function"!=typeof a.send)throw TypeError("Expected generator.send to be a Function, got "+y(a.send));if("function"!=typeof a["throw"])throw TypeError("Expected generator.throw to be a Function, got "+y(a["throw"]));if(null==b)b=!1;else if("boolean"!=typeof b)throw TypeError("Expected allowSync to be a Boolean, got "+y(b));return d(void 0)},q="function"==typeof Array.prototype.indexOf?function(){var a;return a=Array.prototype.indexOf,function(b,c){return-1!==a.call(c,b)}}():function(a,b){var c,d;for(d=+b.length,c=-1;++c<d;)if(a===b[c]&&c in b)return!0;return!1},r="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),s=Object.prototype.hasOwnProperty,t=function(a,b){var c;if(null==b)b=!1;else if("boolean"!=typeof b)throw TypeError("Expected allowSync to be a Boolean, got "+y(b));return"function"==typeof a?(c=function(){return p(a.apply(this,arguments))},c.sync=function(){return p(a.apply(this,arguments),!0).sync()},c.maybeSync=function(){return p(a.apply(this,arguments),!0)},c):p(a,b)},u=Array.prototype.slice,v=function(a){var b;if(b=typeof a,"string"===b)return a;if("number"===b)return String(a);throw TypeError("Expected a string or number, got "+y(a))},w=function(a){if(null==a)throw TypeError("Expected an object, got "+y(a));if(r(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return u.call(a);throw TypeError("Expected an object with a length property, got "+y(a))},x=function(a,b,c){var d;if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+y(a));return d=o(),a.apply(b,w(c).concat([function(a,b){null!=a?d.reject(a):d.fulfill(b)}])),d.promise},y=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),G="function"==typeof a.setImmediate?a.setImmediate:"undefined"!=typeof process&&"function"==typeof process.nextTick?function(){var a;return a=process.nextTick,function(b){var c;if("function"!=typeof b)throw TypeError("Expected func to be a Function, got "+y(b));return c=u.call(arguments,1),c.length?a(function(){b.apply(void 0,w(c))}):a(b)}}():function(a){var b;if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+y(a));return b=u.call(arguments,1),b.length?setTimeout(function(){a.apply(void 0,w(b))},0):setTimeout(a,0)},H="function"==typeof a.WeakMap?a.WeakMap:H=function(){function a(){var b;return b=this instanceof a?this:n(e),b._keys=[],b._values=[],b._chilly=[],b._uid=c(),b}function b(){return Math.random().toString(36).slice(2)}function c(){return v(b())+"-"+v((new Date).getTime())+"-"+v(b())+"-"+v(b())}function d(a){var b,c;c=this._uid,s.call(a,c)&&(b=this._chilly,-1===b.indexOf(a)&&(b.push(a),this._keys.push(a),this._values.push(a[c])))}var e,f,g;return e=a.prototype,a.displayName="WeakMap",g=Object.isExtensible||function(){return!0},e.get=function(a){var b,c;if(Object(a)!==a)throw TypeError("Invalid value used as weak map key");return g(a)?s.call(a,b=this._uid)?a[b]:void 0:(d.call(this,a),c=this._keys.indexOf(a),-1===c?void 0:this._values[c])},e.has=function(a){if(Object(a)!==a)throw TypeError("Invalid value used as weak map key");return g(a)?s.call(a,this._uid):(d.call(this,a),-1!==this._keys.indexOf(a))},f="function"==typeof Object.defineProperty?Object.defineProperty:function(a,b,c){a[b]=c.value},e.set=function(a,b){var c,e;if(Object(a)!==a)throw TypeError("Invalid value used as weak map key");g(a)?f(a,this._uid,{configurable:!0,writable:!0,enumerable:!1,value:b}):(d.call(this,a),e=this._keys,c=e.indexOf(a),-1===c&&(c=e.length,e[c]=a),this._values[c]=b)},e["delete"]=function(a){var b,c;if(Object(a)!==a)throw TypeError("Invalid value used as weak map key");g(a)?delete a[this._uid]:(d.call(this,a),c=this._keys,b=c.indexOf(a),-1!==b&&(c.splice(b,1),this._values.splice(b,1)))},a}(),null!=(z=b("util"))&&(C=z.inspect),F=b("path"),B=b("fs"),A=function(){function a(){var c;return c=this instanceof a?this:n(b),c.weakmap=H(),c}var b;return b=a.prototype,a.displayName="Cache",b.get=function(a){return this.weakmap.get(a)},b.getOrAdd=function(a,b){var c,d;return d=this.weakmap,c=d.get(a),void 0===c&&(c=b(a),d.set(a,c)),c},a}(),D=function(){var a;return a={Object:!0,String:!0,Number:!0,Boolean:!0,Function:!0,Array:!0,Math:!0,JSON:!0,Date:!0,RegExp:!0,Error:!0,RangeError:!0,ReferenceError:!0,SyntaxError:!0,TypeError:!0,URIError:!0,escape:!0,unescape:!0,parseInt:!0,parseFloat:!0,isNaN:!0,isFinite:!0,decodeURI:!0,decodeURIComponent:!0,encodeURI:!0,encodeURIComponent:!0},function(b){return s.call(a,b)}}(),E=t(function(a,b,c){function d(){l=14}function e(d){for(;;)switch(l){case 0:null==b&&(b=511&~+process.umask()),m="/"===a.charAt(0)?"/":"",h=w(a.split(/[\/\\]/g)),i=0,j=h.length,++l;case 1:l=j>i?2:13;break;case 2:q=h[i],n=F.resolve(F.join(m,q)),l=c?3:4;break;case 3:p=B.existsSync(n),l=6;break;case 4:return++l,{done:!1,value:k(n)};case 5:p=d,++l;case 6:l=p?11:7;break;case 7:l=c?8:9;break;case 8:B.mkdirSync(n,b),l=11;break;case 9:return l=11,{done:!1,value:x(B.mkdir,B,[n,b])};case 10:throw Error("Unable to create directory '"+n+"' (Error code: "+o.code+")");case 11:m=n,++l;case 12:++i,l=1;break;case 13:++l;case 14:return{done:!0,value:void 0};default:throw Error("Unknown state: "+l)}}function f(a){if(!(l>=7&&9>=l))throw d(),a;o=a,l=10}function g(a){for(;;)try{return e(a)}catch(b){f(b)}}var h,i,j,g,l,e,f,m,n,o,p,q;return l=0,{close:d,iterator:function(){return this},next:function(){return g(void 0)},send:g,"throw":function(a){return f(a),g(void 0)}}}),I=t(function(a,b,c,d){function e(){i=4}function f(){for(;;)switch(i){case 0:i=d?1:2;break;case 1:l(F.dirname(a)),B.writeFileSync(a,b,c),i=4;break;case 2:return++i,{done:!1,value:E(F.dirname(a))};case 3:return++i,{done:!1,value:x(B.writeFile,B,[a,b,c])};case 4:return{done:!0,value:void 0};default:throw Error("Unknown state: "+i)}}function g(a){throw e(),a}function h(a){try{return f(a)}catch(b){g(b)}}var h,i,f,g;return i=0,{close:e,iterator:function(){return this},next:function(){return h(void 0)},send:h,"throw":function(a){return g(a),h(void 0)}}}),c.stringRepeat=d,c.padLeft=e,c.padRight=f,c.Cache=A,c.quote=g,c.unique=h,c.getPackageVersion=j,c.isPrimordial=D,c.mkdirp=E,c.mkdirpSync=l,c.writeFileWithMkdirp=I,c.writeFileWithMkdirpSync=m}.call(this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:this),a.exports},b["./jsutils"]=function(){var a={exports:this},c=this;return function(){var a,d,e,f,g,h,i,j,k,l,m;a=function(a,b){var c;if(null==a)throw TypeError("Expected parent to be an object, got "+j(a));if(c=a[b],"function"!=typeof c)throw Error("Trying to bind child '"+String(b)+"' which is not a function");return function(){return c.apply(a,arguments)}},d="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},e="function"==typeof Array.prototype.indexOf?function(){var a;return a=Array.prototype.indexOf,function(b,c){return-1!==a.call(c,b)}}():function(a,b){var c,d;for(d=+b.length,c=-1;++c<d;)if(a===b[c]&&c in b)return!0;return!1},f="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),g=Object.prototype.hasOwnProperty,h=Array.prototype.slice,i=function(a){if(null==a)throw TypeError("Expected an object, got "+j(a));if(f(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return h.call(a);throw TypeError("Expected an object with a length property, got "+j(a))},j=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),l=b("./utils").padLeft,k=function(){var a,b,c;return a=/^[a-zA-Z_\$][a-zA-Z_\$0-9]*$/,b=/^[a-zA-Z_\$\u00a0-\uffff][a-zA-Z_\$0-9\u00a0-\uffff]*$/,c=["arguments","break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","export","extends","eval","false","finally","for","function","if","implements","import","in","Infinity","instanceof","interface","let","NaN","new","null","package","private","protected","public","return","static","super","switch","this","throw","true","try","typeof","undefined","var","void","while","with","yield"],function(d,f){var g;return null==f&&(f=!1),g=f?b:a,g.test(d)&&!e(d,c)}}(),m=function(){function b(a,b,c){var d;for(null==c&&(c="  "),d=0;b>d;++d)a(c)}function c(a){var b;return b=d(a),b.indent=+a.indent+1,b}function e(a){var b,c,d;if(null==a)return!1;if(a instanceof RegExp)return e(a.source);if(a instanceof Date)return!1;if(f(a))switch(a.length){case 0:return!1;case 1:return e(a[0]);default:return!0}else switch(typeof a){case"string":return a.length>=h;case"number":case"boolean":return!1;case"object":b=-1;for(c in a)if(g.call(a,c)&&(++b,d=a[c],b>=1||e(c)||e(d)))return!0;return!1;default:return!0}}var h,n,o;return h=50,n=7,o={"null":function(a,b){b("null")},undefined:function(a,b){b("void 0")},number:function(a,b){b(0===a?0>1/a?"-0":"0":isFinite(a)?String(a):a!==a?"0/0":a>0?"1/0":"-1/0")},regexp:function(a,b){b("/"),b(a.source.replace(/(\\\\)*\\?\//g,"$1\\/")||"(?:)"),b("/"),a.global&&b("g"),a.ignoreCase&&b("i"),a.multiline&&b("m")},string:function(){function a(a){switch(a){case"\b":return"\\b";case"	":return"\\t";case"\n":return"\\n";case"\f":return"\\f";case"\r":return"\\r";case"\n":return"\\n";case'"':return'\\"';case"'":return"\\'";case"\\":return"\\\\";default:return"\\u"+l(a.charCodeAt(0).toString(16),4,"0")}}function b(b){return'"'+b.replace(e,a)+'"'}function c(b){return"'"+b.replace(f,a)+"'"}function d(a,b){return a.length<=b.length?a:b}var e,f;return e=/[\u0000-\u001f"\\\u0080-\uffff]/g,f=/[\u0000-\u001f'\\\u0080-\uffff]/g,function(a,e){return e(-1===a.indexOf('"')?b(a):-1===a.indexOf("'")?c(a):d(b(a),c(a)))}}(),"boolean":function(a,b){return b(a?"true":"false")},date:function(a,b){return b("new Date("),b(String(a.getTime())),b(")")},array:function(a,d,f){var g,h,j,k,l,o,p;if(k="indent"in f,0===a.length)return d("[]");if(k&&a.length>1&&(a.length>=n||function(){var b,c,d,f,g;for(f=!1,b=i(a),c=0,d=b.length;d>c;++c)if(g=b[c],e(g)){f=!0;break}return f}())){for(d("[\n"),j=c(f),g=i(a),l=0,p=g.length;p>l;++l)o=g[l],b(d,j.indent),m(o,d,j),p-1>l&&d(","),d("\n");return b(d,f.indent),d("]")}for(d("["),g=i(a),l=0,h=g.length;h>l;++l)o=g[l],l>0&&(d(","),k&&d(" ")),m(o,d,f);return d("]")},object:function(){function a(a,b,c){var d;k(a)?b(a):(d=Number(a),d===d&&String(d)===a?b(a):m(a,b,c))}return function(d,f,h){var i,j,k,l,o,p,q,r,s,t;i=[];for(q in d)g.call(d,q)&&(t=d[q],i.push({key:q,value:t}));if(s=i,o="indent"in h,0===s.length)return f("{}");if(o&&s.length>1&&(s.length>=n||function(){var a,b,c,d,f,g;for(d=!1,a=0,b=s.length;b>a;++a)if(c=s[a],f=c.key,g=c.value,e(f)||e(g)){d=!0;break}return d}())){for(f("{\n"),l=c(h),p=0,r=s.length;r>p;++p)k=s[p],q=k.key,t=k.value,b(f,l.indent),a(q,f,l),f(": "),m(t,f,l),r-1>p&&f(","),f("\n");return b(f,h.indent),f("}")}for(f("{"),p=0,j=s.length;j>p;++p)k=s[p],q=k.key,t=k.value,p>0&&(f(","),o&&f(" ")),a(q,f,h),f(":"),o&&f(" "),m(t,f,h);return f("}")}}()},function(b,c,d){var e,h,i;if(null==c&&(c=null),null==d&&(d={}),null==c)return h=[],m(b,a(h,"push"),d),h.join("");if(null===b)o["null"](b,c,d);else if(f(b))o.array(b,c,d);else if(b instanceof RegExp)o.regexp(b,c,d);else if(b instanceof Date)o.date(b,c,d);else{if(g.call(o,e=typeof b)&&(i=o[e]),"function"!=typeof i)throw Error("Cannot convert "+j(b)+" to JS source");i(b,c,d)}}}(),c.toJSSource=m,c.isAcceptableIdent=k}.call(this),a.exports},b["./types"]=function(){var a={exports:this};return function(){var c,d,e,f,g,h,i,j,k,l,m,n;c=function(a,b){var c;if(a===b)return 0;if(c=typeof a,"number"!==c&&"string"!==c)throw TypeError("Cannot compare a non-number/string: "+c);if(c!==typeof b)throw TypeError("Cannot compare elements of different types: "+c+" vs "+typeof b);return b>a?-1:1},d="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},e="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),f=function(a){if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+k(a));return a.displayName||a.name||""},g=Object.prototype.hasOwnProperty,h=Array.prototype.slice,i=function(a){throw a},j=function(a){if(null==a)throw TypeError("Expected an object, got "+k(a));if(e(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return h.call(a);throw TypeError("Expected an object with a length property, got "+k(a))},k=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),n=b("util"),null!=n&&(l=n.inspect),a.exports=m=function(){function a(){var b;throw b=this instanceof a?this:d(v),TypeError("Type should not be instantiated")}function b(a,b){var c,d,e;for(c=j(a),d=c.length;d--;)if(e=c[d],e.equals(b))return!0;return!1}function e(a,b){var c,d,e,f,g,h,i,j;if(a===b)return a;for(j=[],d=a.length,f=b.length,h=0,i=0;d>h&&f>i;)c=a[h],e=b[i],g=c.compare(e),0===g?(j.push(c),++h,++i):0>g?(j.push(c),++h):(j.push(e),++i);for(;d>h;++h)j.push(a[h]);for(;f>i;++i)j.push(b[i]);switch(j.length){case d:return a;case f:return b;default:return j}}function m(a,b){var c,d,e,f,g,h,i,j;if(a===b)return a;for(d=a.length,f=b.length,j=[],h=0,i=0;d>h&&f>i;)c=a[h],e=b[i],g=c.compare(e),0===g?(j.push(c),++h,++i):0>g?++h:++i;switch(j.length){case d:return a;case f:return b;default:return j}}function n(a,b){var c,d,e,f,g,h,i;if(a===b)return[];if(i=[],d=a.length,0===d)return i;if(e=b.length,0===e)return a;for(g=0,h=0;d>g&&e>h;)c=a[g],f=c.compare(b[h]),0===f?(++g,++h):0>f?(i.push(c),++g):++h;for(;d>g;++g)i.push(a[g]);return i.length===d?a:i}function o(a,b){var c,d,e,f;if(a===b)return!0;if(c=a.length,0===c)return!0;if(d=b.length,c>d)return!1;for(e=0,f=0;d>f;)if(a[e].equals(b[f])){if(++e,e>=c)return!0;++f}else++f;return!1}function p(a,b){var c,d,e,f,g;if(c=a.length,a===b&&c>0)return!0;for(d=b.length,f=0,g=0;c>f&&d>g;){if(e=a[f].compare(b[g]),0===e)return!0;0>e?++f:++g}return!1}function q(a,b){var d,e,f;if(a!==b){if(f=a.length,d=c(f,b.length))return d;for(e=0;f>e;++e)if(d=a[e].compare(b[e]))return d}return 0}function r(a,b){var c,d;if(a!==b){if(d=a.length,d!==b.length)return!1;for(c=0;d>c;++c)if(!a[c].equals(b[c]))return!1}return!0}function s(a,b){return a.compare(b)}function t(a,b){switch(a.length){case 0:return E;case 1:return a[0];default:return b&&a.sort(s),I(a)}}function u(a){var b;if("string"==typeof a)return u({type:"simple",name:a});if(b=a.type,"string"!=typeof b)throw TypeError("Unspecified type");if(g.call(A,b))return A[b](a);throw TypeError("Unknown serialization type: "+b)}var v,w,x,y,z,A,B,C,D,E,F,G,H,I;return v=a.prototype,a.displayName="Type",v.isSubsetOf=function(){throw Error("Not implemented: "+f(this.constructor)+".isSubsetOf()")},v.isSupersetOf=function(a){return a.isSubsetOf(this)},v.overlaps=function(){throw Error("Not implemented: "+f(this.constructor)+".overlaps()")},v.compare=function(){throw Error("Not implemented: "+f(this.constructor)+".compare()")},v.equals=function(){throw Error("Not implemented: "+f(this.constructor)+".equals()")},v.union=function(){throw Error("Not implemented: "+f(this.constructor)+".union()")},v.intersect=function(){throw Error("Not implemented: "+f(this.constructor)+".intersect()")},v.complement=function(){var a;return null==(a=this._complement)?this._complement=z(this):a},v.array=function(){var b;return null==(b=this._array)?this._array=a.generic(y,this):b},v["function"]=function(){var b,c;return c=h.call(arguments),null==(b=this._function)?this._function=a.generic.apply(a,[B,this].concat(j(c))):b},A={},a.fromJSON=u,D=function(){var a;return a=-1,function(){return++a,a}}(),H=function(a){function b(a){var c;return c=this instanceof b?this:d(e),c.name=a,c.id=D(),c}var e,f;return f=a.prototype,e=b.prototype=d(f),e.constructor=b,b.displayName="SimpleType","function"==typeof a.extended&&a.extended(b),e.toString=function(){return this.name},e.equals=function(a){return this===a},e.compare=function(a){return this===a?0:a instanceof b?c(this.name,a.name)||c(this.id,a.id):c("SimpleType",a.constructor.displayName)},e.union=function(a){return a instanceof b?this===a?this:t([this,a],!0):a.union(this)},e.intersect=function(a){return a instanceof b?this===a?this:E:a.intersect(this)},e.isSubsetOf=function(a){var c,d,e,f;if(a instanceof b)return this===a;if(a instanceof I){for(e=!1,c=j(a.types),d=c.length;d--;)if(f=c[d],this===f){e=!0;break}return e}return a instanceof z?!this.isSubsetOf(a.untype):a===w},e.overlaps=function(a){return a instanceof b?this===a:a.overlaps(this)},e.inspect=function(){var b;return b=this,function(){var c,d,e;c=!0;for(d in a)if(g.call(a,d)&&(c=!1,e=a[d],e===b))return"Type."+d;return"Type.make("+l(b.name)+")"}()},e.toAst=function(b,c,d){var e;return e=this,function(){var f,h,i;f=!0;for(h in a)if(g.call(a,h)&&(f=!1,i=a[h],i===e))return b.Access(c,d,b.Const(c,h));throw Error("Cannot serialize custom type: "+String(e))}()},e.toJSON=function(){var b;return b=this,function(){var c,d,e;c=!0;for(d in a)if(g.call(a,d)&&(c=!1,e=a[d],e===b))return d;throw Error("Cannot serialize custom type: "+String(b))}()},A.simple=function(b){var c;return c=b.name,g.call(a,c)&&a[c]||i(Error("Unknown type: "+String(c)))},b}(a),a.make=function(a){return H(a)},C=function(a){function b(a,c){var e,g;if(g=this instanceof b?this:d(f),g.base=a,0===c.length)throw Error("Must provide at least one generic type argument");if(g.id=D(),g.args=c.slice(),g.base===y&&1===c.length){if(null!=(e=c[0]._array))return e;c[0]._array=g}else if(g.base===B&&1===c.length){if(null!=(e=c[0]._function))return e;c[0]._function=g}return g}function e(a,b){return a.id>b.id?e(b,a):(b.base=a.base,b.args=a.args,b.id=a.id,void 0)}var f,h;return h=a.prototype,f=b.prototype=d(h),f.constructor=b,b.displayName="GenericType","function"==typeof a.extended&&a.extended(b),f.toString=function(){var a,b,c,d,e,f;if(null==(c=this._name)){if(this.base===y&&1===this.args.length)return this._name=this.args[0]===w?"[]":"["+String(this.args[0])+"]";if(this.base===B&&1===this.args.length)return this._name=this.args[0]===w?"->":"-> "+String(this.args[0]);for(f=[],f.push(String(this.base)),f.push("<"),a=j(this.args),e=0,b=a.length;b>e;++e)d=a[e],e>0&&(f.push(","),d!==w&&this.args[e-1]!==w&&f.push(" ")),d!==w&&f.push(String(d));return f.push(">"),this._name=f.join("")}return c},f.equals=function(a){return a===this?!0:a instanceof b?this.id===a.id?!0:this.base===a.base&&r(this.args,a.args)?(e(this,a),!0):!1:!1},f.compare=function(a){var d,f;return a===this?0:a instanceof b?this.id===a.id?0:(d=this.base.compare(a.base))?d:(f=q(this.args,a.args),f||e(this,a),f):c("GenericType",a.constructor.displayName)},f.union=function(a){return a instanceof b?this.equals(a)?this:this.isSubsetOf(a)?a:a.isSubsetOf(this)?this:t([this,a],!0):a instanceof H?t([this,a],!0):a.union(this)},f.intersect=function(a){var c,d,e,f,g,h,i,j,k,l;if(a instanceof b){if(this.base!==a.base)return E;if(this.equals(a))return this;if(d=this.args,l=a.args,h=d.length,h!==l.length)return E;for(g=!0,f=!0,j=[],e=0;h>e;++e)c=d[e],k=l[e],i=d[e].intersect(l[e]),g&&c!==i&&(g=!1),f&&k!==i&&(f=!1),j.push(i);return g?this:f?a:b(this.base,j)}return a instanceof H?E:a.intersect(this)},f.isSubsetOf=function(a){var c,d,e,f,g,h,i,k;if(a instanceof b){if(this.base!==a.base)return!1;if(this.equals(a))return!0;if(f=this.args,i=a.args,h=f.length,h!==i.length)return!1;for(g=0;h>g;++g)if(!f[g].isSubsetOf(i[g]))return!1;return!0}if(a instanceof I){for(e=!1,c=j(a.types),d=c.length;d--;)if(k=c[d],this.isSubsetOf(k)){e=!0;break}return e}return a instanceof z?!this.isSubsetOf(a.untype):a===w},f.overlaps=function(a){return a instanceof b?this.base!==a.base?!1:this.args.length===a.args.length:a instanceof H?!1:a.overlaps(this)},f.inspect=function(a){var b,c,d,e,f;for(null!=a&&--a,f=["Type.generic("],f.push(l(this.base,null,a)),b=j(this.args),c=0,d=b.length;d>c;++c)e=b[c],f.push(", "),f.push(l(e,null,a));return f.push(")"),f.join("")},f.toAst=function(b,c,d){var e;return e=this,function(){var f,h,i;f=!0;for(h in a)if(g.call(a,h)&&(f=!1,i=a[h],i===e))return b.Access(c,d,b.Const(c,h));return b.Call(c,b.Access(c,d,b.Const(c,"generic")),[e.base.toAst(b,c,d)].concat(function(){var a,f,g,h,i;for(a=[],f=j(e.args),g=0,h=f.length;h>g;++g)i=f[g],a.push(i.toAst(b,c,d));return a}()))}()},f.toJSON=function(){var b;return b=this,function(){var c,d,e;c=!0;for(d in a)if(g.call(a,d)&&(c=!1,e=a[d],e===b))return d;return{type:"generic",base:b.base,args:b.args}}()},A.generic=function(c){var d,e,f;return e=c.base,d=c.args,f=a.fromJSON(e),f===y&&1===d.length?a.fromJSON(d[0]).array():f===B&&1===d.length?a.fromJSON(d[0])["function"]():b(f,function(){var b,c,e,f,g;for(b=[],c=j(d),e=0,f=c.length;f>e;++e)g=c[e],b.push(a.fromJSON(g));return b}())},b}(a),a.generic=function(b){var c;return c=h.call(arguments,1),C("string"==typeof b?a.make(b):b,c)},G=function(a){function b(e){var h,i,j,l;h=this instanceof b?this:d(f),j=[];for(i in e)if(g.call(e,i)){if(l=e[i],!(l instanceof a))throw TypeError("Expected data["+JSON.stringify(i)+"] to be a Type, got "+k(l));l!==w&&j.push([i,l])}return j.sort(function(a,b){return c(a[0],b[0])}),0===j.length&&null!=a.object?a.object:(h.pairs=j,h.id=D(),h)}function e(a,b){return a.id>b.id?e(b,a):(b.pairs=a.pairs,b.id=a.id,void 0)}var f,h;return h=a.prototype,f=b.prototype=d(h),f.constructor=b,b.displayName="ObjectType","function"==typeof a.extended&&a.extended(b),f.toString=function(){var a,b;
return b=this,null==(a=this._name)?this._name="{"+function(){var a,c,d,e,f,g,h;for(a=[],c=j(b.pairs),d=0,e=c.length;e>d;++d)f=c[d],g=f[0],h=f[1],a.push(g+": "+String(h));return a}().join(", ")+"}":a},f.equals=function(a){var c,d,f,g,h,i,k;if(a===this)return!0;if(a instanceof b){if(k=this.pairs,h=a.pairs,k===h)return!0;if(k.length!==h.length)return!1;for(c=j(k),f=0,d=c.length;d>f;++f)if(i=c[f],g=h[f],i[0]!==g[0]||!i[1].equals(g[1]))return!1;return e(this,a),!0}return!1},f.compare=function(a){var d,f,g,h,i,k,l,m;if(this===a)return 0;if(a instanceof b){if(m=this.pairs,k=a.pairs,m===k)return 0;if(g=c(m.length,k.length))return g;for(d=j(m),h=0,f=d.length;f>h;++h)if(l=d[h],i=k[h],g=c(l[0],i[0])||l[1].compare(i[1]))return g;return e(this,a),0}return c("ObjectType",a.constructor.displayName)},f.union=function(a){return a instanceof b?this.equals(a)?this:this.isSubsetOf(a)?a:a.isSubsetOf(this)?this:t([this,a],!0):a instanceof H||a instanceof C?t([this,a],!0):a.union(this)},f.intersect=function(a){var c,d,e,f,h,i,k;if(a instanceof b){if(this.equals(a))return this;if(this.isSubsetOf(a))return this;if(a.isSubsetOf(this))return a;for(i={},c=j(this.pairs),d=0,e=c.length;e>d;++d)f=c[d],h=f[0],k=f[1],i[h]=k;for(c=j(a.pairs),d=0,e=c.length;e>d;++d)f=c[d],h=f[0],k=f[1],i[h]=g.call(i,h)?i[h].intersect(k):k;return b(i)}return a instanceof H||a instanceof C?E:a.intersect(this)},f.isSubsetOf=function(c){var d,f,g,h,i,k,l,m,n,o,p,q,r;if(c instanceof b){if(this===c||c===a.object)return!0;if(this===a.object)return!1;if(q=this.pairs,n=c.pairs,q===c.pairs)return!0;for(k=0,l=q.length,d=j(n),f=0,g=d.length;g>f;++f)for(h=d[f],m=h[0],o=h[1];l>=k;++k){if(k===l)return!1;if(p=q[k],p[0]===m){if(p[1].isSubsetOf(o)){++k;break}return!1}if(p[0]>m)return!1}return k===l&&e(this,c),!0}if(c instanceof I){for(i=!1,d=j(c.types),f=d.length;f--;)if(r=d[f],this.isSubsetOf(r)){i=!0;break}return i}return c instanceof z?!this.isSubsetOf(c.untype):c===w},f.overlaps=function(a){return a instanceof b?!0:a instanceof H||a instanceof C?!1:a.overlaps(this)},f.value=function(b){var c,d,e,f;for(c=j(this.pairs),d=c.length;d--;){if(e=c[d],f=e[0],f===b)return e[1];if(b>f)return a.any}return a.any},f.inspect=function(b){var c,d,e,f,g,h,i;if(this===a.object)return"Type.object";for(h={},c=j(this.pairs),d=0,e=c.length;e>d;++d)f=c[d],g=f[0],i=f[1],h[g]=i;return"Type.makeObject("+l(h,null,null!=b?b-1:null)+")"},f.toAst=function(a,b,c){var d;return d=this,0===this.pairs.length?a.Access(b,c,a.Const(b,"object")):a.Call(b,a.Access(b,c,a.Const(b,"makeObject")),[a.Obj(b,function(){var e,f,g,h,i,k,l;for(e=[],f=j(d.pairs),g=0,h=f.length;h>g;++g)i=f[g],k=i[0],l=i[1],e.push(a.Obj.Pair(b,k,l.toAst(a,b,c)));return e}())])},f.toJSON=function(){var a,b,c,d,e,f,g;if(0===this.pairs.length)return"object";for(f={},a=j(this.pairs),b=0,c=a.length;c>b;++b)d=a[b],e=d[0],g=d[1],f[e]=g;return{type:"object",pairs:f}},A.object=function(c){var d,e,f,h;f=c.pairs,d={};for(e in f)g.call(f,e)&&(h=f[e],d[e]=a.fromJSON(h));return b(d)},b}(a),a.makeObject=function(a){return G(a)},I=function(a){function f(a){var b;if(b=this instanceof f?this:d(k),b.types=a,a.length<=1)throw Error("Must provide at least 2 types to UnionType");return b.id=D(),b}function h(a,b){return a.id>b.id?h(b,a):(b.types=a.types,b.id=a.id)}var i,k;return i=a.prototype,k=f.prototype=d(i),k.constructor=f,f.displayName="UnionType","function"==typeof a.extended&&a.extended(f),k.toString=function(){var a;return null==(a=this._name)?this._name="("+this.types.join("|")+")":a},k.equals=function(a){return a===this?!0:a instanceof f?this.id===a.id?!0:this.types===a.types||r(this.types,a.types)?(h(this,a),!0):!1:!1},k.compare=function(a){var b;return a===this?0:a instanceof f?this.id===a.id?0:this.types===a.types?(h(this,a),0):(b=q(this.types,a.types),0===b&&h(this,a),b):c("UnionType",a.constructor.displayName)},k.union=function(b){var c,d,g,h,i,k;if(b instanceof H||b instanceof C)return k=e(this.types,[b]),k===this.types?this:t(k);if(b instanceof G){if(b===a.object){for(h=[b],c=j(this.types),d=0,g=c.length;g>d;++d)if(i=c[d],i instanceof G){if(i===a.object)return this}else h.push(i);return t(h)}for(h=[b],c=j(this.types),d=0,g=c.length;g>d;++d)if(i=c[d],i instanceof G){if(b.isSubsetOf(i))return this;i.isSubsetOf(b)||h.push(i)}else h.push(i);return t(h)}return b instanceof f?(k=e(this.types,b.types),k===this.types?this:k===b.types?b:t(k)):b.union(this)},k.intersect=function(a){var b;return a instanceof H||a instanceof C||a instanceof G?t(m(this.types,[a])):a instanceof f?(b=m(this.types,a.types),b===this.types?this:b===a.types?a:t(b)):a.intersect(this)},k.isSubsetOf=function(a){return a instanceof f?o(this.types,a.types):a instanceof z?!this.overlaps(a.untype):a===w},k.overlaps=function(a){var c,d,e,g;if(a instanceof H)return b(this.types,a);if(a instanceof C||a instanceof G){for(e=!1,c=j(this.types),d=c.length;d--;)if(g=c[d],g.overlaps(a)){e=!0;break}return e}return a instanceof f?p(this.types,a.types):a.overlaps(this)},k.inspect=function(a){var b;return b=this,"("+function(){var c,d,e,f,g;for(c=[],d=j(b.types),e=0,f=d.length;f>e;++e)g=d[e],c.push(l(g,null,null!=a?a-1:null));return c}().join(").union(")+")"},k.toAst=function(b,c,d){var e;return e=this,function(){var f,h,i;f=!0;for(h in a)if(g.call(a,h)&&(f=!1,i=a[h],i===e))return b.Access(c,d,b.Const(c,h));return b.Call(c,b.Access(c,d,b.Const(c,"union")),function(){var a,e,f,g,h;for(a=[],e=j(types),f=0,g=e.length;g>f;++f)h=e[f],a.push(h.toAst(b,c,d));return a}())}()},k.toJSON=function(){var b;return b=this,function(){var c,d,e;c=!0;for(d in a)if(g.call(a,d)&&(c=!1,e=a[d],e===b))return d;return{type:"union",types:b.types}}()},A.union=function(b){var c,d,e,f,g;for(g=b.types,e=a.none,c=j(g),d=c.length;d--;)f=c[d],e=e.union(a.fromJSON(f));return e},f}(a),z=function(a){function e(a){var b;return b=this instanceof e?this:d(i),b.untype=a,b.id=D(),b}function f(a,b){return a.id>b.id?f(b,a):(b.id=a.id,b.untype=a.untype)}function h(a){return a instanceof I?a.types:[a]}var i,j;return j=a.prototype,i=e.prototype=d(j),i.constructor=e,e.displayName="ComplementType","function"==typeof a.extended&&a.extended(e),i.toString=function(){var a;return null==(a=this._name)?this._name="any \\ "+String(this.untype):a},i.equals=function(a){return this===a?!0:a instanceof e?this.id===a.id?!0:this.untype.equals(a.untype)?(f(this,a),!0):!1:!1},i.compare=function(a){var b;return this===a?0:a instanceof e?this.id===a.id?0:(b=this.untype.compare(a.untype),0===b&&f(this,a),b):c("ComplementType",a.constructor.displayName)},i.union=function(a){var b,c;return a instanceof H||a instanceof C||a instanceof G?(b=h(this.untype),c=n(b,[a]),c===b?this:t(c).complement()):a instanceof I?(b=h(this.untype),c=n(b,a.types),c===b?this:t(c).complement()):a instanceof e?this.untype.intersect(a.untype).complement():a.union(this)},i.intersect=function(a){var c;return a instanceof H||a instanceof C||a instanceof G?b(h(this.untype),a)?E:a:a instanceof I?(c=n(a.types,h(this.untype)),c===a.types?a:t(c)):a instanceof e?this.untype.union(a.untype).complement():a.intersect(this)},i.isSubsetOf=function(a){return a instanceof e?a.untype.isSubsetOf(this.untype):a===w},i.overlaps=function(a){var b,c,d,f;if(a instanceof H||a instanceof C)return!this.untype.overlaps(a);if(a instanceof G){for(c=!0,b=h(this.untype),d=b.length;d--;)if(f=b[d],f instanceof G&&a.isSubsetOf(f)){c=!1;break}return c}return a instanceof I?n(a.types,h(this.untype)).length>0:a instanceof e?!0:a.overlaps(this)},i.complement=function(){return this.untype},i.inspect=function(a){return this.untype.inspect(a)+".complement()"},i.toAst=function(b,c,d){var e;return e=this,function(){var f,h,i;f=!0;for(h in a)if(g.call(a,h)&&(f=!1,i=a[h],i===e))return b.Access(c,d,b.Const(c,h));return b.Call(c,b.Access(c,d,b.Const(c,"complement")),[e.complement().toAst(b,c,d)])}()},i.toJSON=function(){var b;return b=this,function(){var c,d,e;c=!0;for(d in a)if(g.call(a,d)&&(c=!1,e=a[d],e===b))return d;return{type:"complement",untype:b.complement()}}()},A.complement=function(b){var c;return c=b.untype,a.fromJSON(c).complement()},e}(a),w=a.any=new(x=function(a){function b(){var a;if(a=this instanceof b?this:d(e),w)throw Error("Cannot instantiate more than once");return a}var e,f;return f=a.prototype,e=b.prototype=d(f),e.constructor=b,b.displayName="AnyType","function"==typeof a.extended&&a.extended(b),e.toString=function(){return"any"},e.equals=function(a){return this===a},e.compare=function(a){return this===a?0:c("AnyType",a.constructor.displayName)},e.union=function(){return this},e.intersect=function(a){return a},e.isSubsetOf=function(a){return this===a},e.overlaps=function(){return!0},e.complement=function(){return E},e.inspect=function(){return"Type.any"},e.toAst=function(a,b,c){return a.Access(b,c,a.Const(b,"any"))},e.toJSON=function(){return"any"},A.any=function(){return w},b}(a)),E=a.none=new(F=function(a){function b(){var a;if(a=this instanceof b?this:d(e),E)throw Error("Cannot instantiate more than once");return a}var e,f;return f=a.prototype,e=b.prototype=d(f),e.constructor=b,b.displayName="NoneType","function"==typeof a.extended&&a.extended(b),e.toString=function(){return"none"},e.equals=function(a){return this===a},e.compare=function(a){return this===a?0:c("NoneType",a.constructor.displayName)},e.union=function(a){return a},e.intersect=function(){return this},e.isSubsetOf=function(){return!0},e.overlaps=function(){return!1},e.complement=function(){return w},e.inspect=function(){return"Type.none"},e.toAst=function(a,b,c){return a.Access(b,c,a.Const(b,"none"))},e.toJSON=function(){return"none"},A.none=function(){return E},b}(a)),y=a.arrayBase=a.make("Array"),B=a.functionBase=a.make("Function"),a.undefined=a.make("undefined"),a["null"]=a.make("null"),a.boolean=a.make("Boolean"),a.string=a.make("String"),a.stringArray=a.string.array(),a.number=a.make("Number"),a.numberArray=a.number.array(),a.array=w.array(),a.args=a.make("Arguments"),a.object=a.makeObject({}),a["function"]=w["function"](),a.regexp=a.make("RegExp"),a.date=a.make("Date"),a.error=a.make("Error"),a.promise=a.makeObject({then:a.any["function"](a["function"],a["function"])}),a.numeric=a.number.union(a.undefined).union(a["null"]).union(a.boolean),a.stringOrNumber=a.string.union(a.number),a.arrayLike=a.array.union(a.args),a.undefinedOrNull=a.undefined.union(a["null"]),a.notUndefinedOrNull=a.undefinedOrNull.complement(),a.primitive=a.undefinedOrNull.union(a.boolean).union(a.string).union(a.number),a.nonPrimitive=a.primitive.complement(),a.alwaysFalsy=a.undefinedOrNull,a.potentiallyTruthy=a.alwaysFalsy.complement(),a.potentiallyFalsy=a.alwaysFalsy.union(a.number).union(a.string).union(a.boolean),a.alwaysTruthy=a.potentiallyFalsy.complement(),a}()}.call(this),a.exports},b["./jsast"]=function(){var a={exports:this},c=this;return function(){function a(a){var b;return b=t(a),++b.indent,b}function d(a){function b(c){var d,e,f;switch(f=String(c),e=f.split(cb),e.length){case 0:break;case 1:b.column-=-e[0].length;break;default:d=e.length,b.line-=-d+1,b.column=+e[d-1].length+1}a(f)}return b.line=1,b.column=1,b.indent=function(a){this(X(a))},b}function e(a){var b;return b=d(a)}function f(){var a,b;return a=[],b=d(function(b){a.push(b)}),b.toString=function(){return"string"==typeof a?a:a=a.join("")},b}function g(a,b,c){var d;if(null==c&&(c=void 0),d={line:a,column:b},c){if("string"!=typeof c)throw TypeError("Must provide a valid string for file");d.file=c}return d}function h(a){return null!=a?a-1:null}function i(a,b,c,d){var e,f,g,h,i,j,k,l;for(i=!1,e=[],f=0,g=a.length;g>f;++f)j=a[f],k=null!=(h=d(j,b,c))?h:j.walk(d),j!==k&&(i=!0),e.push(k);return l=e,i?l:a}function j(a,b,c){var d,e,f,g,h;if(null==c&&(c=!1),0===a.length)return a;for(h=[],g=-1,e=0,d=a.length;d>e;++e)f=a[e],g=f instanceof eb?e:-1,h.push(k(f,b));return c||-1===g||h.splice(g,1/0),h}function k(a,b){return w(a)?j(a):a instanceof eb?b:a}function l(a,b){if(b instanceof db)throw Error("Cannot convert "+B(b)+" to a Const");return b instanceof RegExp?hb(a,b.source,b.flags):N(a,b)}function m(a){return 0>a||0===a&&0>1/a}function n(a,b){var c,d,e,f,g;for(e=[],c=A(a),d=c.length;d--;){if(f=c[d],v(f.name,e))throw Error("Duplicate parameter: "+f.name);e.push(f.name)}for(c=A(b),d=c.length;d--;){if(g=c[d],v(g,e))throw Error("Duplicate variable: "+g);e.push(g)}}function o(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o;for(m=a.minify,g=A(c),h=0,i=g.length;i>h;++h)k=g[h],m||b.indent(a.indent),b(pb(k)),b(";"),f=!1,m||(b(a.linefeed||"\n"),f=!0);if(d.length>0){for(j=0,m||(b.indent(a.indent),j=4+2*a.indent),b("var "),g=A(d.sort(function(a,b){return s(a.toLowerCase(),b.toLowerCase())||s(a,b)})),l=0,i=g.length;i>l;++l)o=g[l],n=ob(d[l]),l>0&&(m?b(","):j+2+n.length<80?(b(", "),j+=2):(b(","),b(a.linefeed||"\n"),b.indent(a.indent),b("    "),j=4+2*a.indent)),b(n),j+=n.length;b(";"),f=!1,m||(b(a.linefeed||"\n"),f=!0)}e.isNoop()||(m||b.indent(a.indent),e.compileAsStatement(a,f,b),m||b(a.linefeed||"\n"))}function p(b,c,d,e,f,g,h){var i,j,k,l,m;for(c("function"),l=b.minify,l&&null==d||c(" "),null!=d&&d.compile(b,2,!1,c),c("("),i=A(e),k=0,j=i.length;j>k;++k)m=i[k],k>0&&(c(","),l||c(" ")),m.compile(b,2,!1,c);return c(")"),l||c(" "),c("{"),(g.length||f.length||!h.isNoop())&&(l||c(b.linefeed||"\n"),o(a(b),c,f,g,h,!l),l||c.indent(b.indent)),c("}")}function q(a){var b,c,d,e,f;if(null==a)return[];if(w(a)){for(b=[],c=A(a),d=0,e=c.length;e>d;++d)f=c[d],b.push(V(f));return b}throw Error("Expected an array, got "+B(a))}function r(a,b){var c;if(null===b||"undefined"==(c=typeof b)||"boolean"===c||"number"===c||"string"===c)return N(a,b);if(w(b))return E(a,function(){var c,d,e,f,g;for(c=[],d=A(b),e=0,f=d.length;f>e;++e)g=d[e],c.push(r(a,g));return c}());if(b.constructor===Object)return fb(a,function(){var c,d,e;c=[];for(d in b)y.call(b,d)&&(e=b[d],c.push(fb.Pair(a,d,r(a,e))));return c}());throw TypeError("Cannot convert "+B(b)+" to an ast literal")}var s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub;s=function(a,b){var c;if(a===b)return 0;if(c=typeof a,"number"!==c&&"string"!==c)throw TypeError("Cannot compare a non-number/string: "+c);if(c!==typeof b)throw TypeError("Cannot compare elements of different types: "+c+" vs "+typeof b);return b>a?-1:1},t="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},u=function(a,b){var c;for(c in b)y.call(b,c)&&(a[c]=b[c]);return a},v="function"==typeof Array.prototype.indexOf?function(){var a;return a=Array.prototype.indexOf,function(b,c){return-1!==a.call(c,b)}}():function(a,b){var c,d;for(d=+b.length,c=-1;++c<d;)if(a===b[c]&&c in b)return!0;return!1},w="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),x=function(a){if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+B(a));return a.displayName||a.name||""},y=Object.prototype.hasOwnProperty,z=Array.prototype.slice,A=function(a){if(null==a)throw TypeError("Expected an object, got "+B(a));if(w(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return z.call(a);throw TypeError("Expected an object with a length property, got "+B(a))},B=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),tb=b("util"),null!=tb&&(ab=tb.inspect),gb=b("./utils").padLeft,C=b("./jsutils"),bb=C.isAcceptableIdent,pb=C.toJSSource,X=function(){var a;return a=[""],function(b){var c,d;if(b>=a.length)for(d=a[a.length-1],c=a.length;b>=c;++c)d+="  ",a.push(d);return a[b]}}(),cb=/(?:\r\n?|[\n\u2028\u2029])/g,c.Node=db=function(){function a(){var b;throw b=this instanceof a?this:t(c),Error("Node cannot be instantiated directly")}function b(a,b){var c,d,e,f,g;if(0===b.length)return"[]";for(g="",g+="[",c=A(b),d=0,e=c.length;e>d;++d)f=c[d],g+="\n  ",g+=ab(f,null,h(a)).split("\n").join("\n  ");return g+="\n]"}var c;return c=a.prototype,a.displayName="Node",c.toString=function(a){var b;return null==a&&(a={}),b=f(),this.compile(u({indent:0,bare:!0},a),2,!1,b),b.toString()},c.compile=function(){throw Error("Not implemented: "+x(this.constructor)+".compile()")},c.maybeToStatement=function(){return"function"==typeof this.toStatement?this.toStatement():this},c.isConst=function(){return!1},c.isNoop=function(){return!1},c.constValue=function(){throw Error(this.constructor.name+" has no const value")},c.isLarge=function(){return!0},c.isSmall=function(){return!this.isLarge()},c.mutateLast=function(){return this},c.exitType=function(){return null},c.last=function(){return this},c.walkWithThis=function(a){var b;return null!=(b=a(this))?b:this.walk(a)},c.inspect=function(a,c){var d,e,f;e=this.constructor.displayName,e+=' "',this.pos.file&&(e+=this.pos.file,e+=":"),e+=this.pos.line,e+=":",e+=this.pos.column,e+='"';for(d in this)y.call(this,d)&&(f=this[d],"pos"===d||!c&&(!f||w(f)&&0===f.length||f instanceof eb)||(e+="\n  ",e+=d,e+=": ",e+=w(f)?b(a,f).split("\n").join("\n  "):ab(f,null,h(a)).split("\n").join("\n  ")));return e},c.toAst=function(a,b){return L(a,b,[N(a,this.typeId),N(a,this.pos.line),N(a,this.pos.column),N(a,this.pos.file||0)].concat(A(this._toAst(a,b))))},c._toAst=function(){return[]},c.toJSON=function(){return[this.typeId,this.pos.line,this.pos.column,this.pos.file||0].concat(A(this._toJSON()))},c._toJSON=function(){return[]},a}(),c.Expression=S=function(a){function b(){var a;throw a=this instanceof b?this:t(c),Error("Expression cannot be instantiated directly")}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Expression","function"==typeof a.extended&&a.extended(b),c.compileAsBlock=function(a,b,c,d){this.compile(a,b,c,d)},c.compileAsStatement=function(a,b,c){"function"==typeof this.toStatement?this.toStatement().compileAsStatement(a,b,c):(this.compile(a,1,b,c),c(";"))},c.isLarge=function(){return!1},c.mutateLast=function(a){return a(this)},b}(db),c.Statement=kb=function(a){function b(){var a;throw a=this instanceof b?this:t(d),Error("Expression cannot be instantiated directly")}var c,d;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="Statement","function"==typeof a.extended&&a.extended(b),d.compileAsStatement=function(a,b,c){return this.compile(a,1,b,c)},b}(db),c.Access=function(a,b){var c,d,e,f,g;for(f=z.call(arguments,2),g=b,c=0,d=f.length;d>c;++c)e=f[c],g=G(a,g,".",e);return g},c.Arguments=D=function(a){function b(a){var d;return d=this instanceof b?this:t(c),d.pos=a,d}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Arguments","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e;null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column,this.pos.file),d("arguments")},c.compileAsBlock=function(a,b,c,d){eb(this.pos).compileAsBlock(a,b,c,d)},c.walk=function(){return this},c.isNoop=function(){return!0},c.typeId=1,b._fromAst=function(a){return b(a)},b.fromJSON=function(a,c,d){return b(g(a,c,d))},b}(S),c.Arr=E=function(b){function c(a,b){var d;return d=this instanceof c?this:t(f),d.pos=a,null==b&&(b=[]),d.elements=b,d}function d(b,c,d,e,f){var g,h,i,j,k;for(h=a(c),g=A(b),i=0,k=g.length;k>i;++i)j=g[i],f(c.linefeed||"\n"),f.indent(h.indent),j.compile(h,3,!1,f),k-1>i&&f(",");f(c.linefeed||"\n"),f.indent(c.indent)}function e(a,b,c,d,e){var f,g,h,i;for(f=A(a),h=0,g=f.length;g>h;++h)i=f[h],h>0&&(e(","),b.minify||e(" ")),i.compile(b,3,!1,e)}var f,h;return h=b.prototype,f=c.prototype=t(h),f.constructor=c,c.displayName="Arr","function"==typeof b.extended&&b.extended(c),f.compile=function(a,b,c,f){var g,h;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(g=a.sourceMap)&&g.add(f.line,f.column,this.pos.line,this.pos.column),f("["),h=!a.minify&&this.shouldCompileLarge()?d:e,h(this.elements,a,b,c,f),f("]"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},f.compileAsBlock=function(a,b,c,d){return I(this.pos,this.elements).compileAsBlock(a,b,c,d)},f.compileAsStatement=function(a,b,c){J(this.pos,this.elements).compile(a,1,b,c)},f.shouldCompileLarge=function(){switch(this.elements.length){case 0:return!1;case 1:return this.elements[0].isLarge();default:return this.isLarge()}},f.isSmall=function(){switch(this.elements.length){case 0:return!0;case 1:return this.elements[0].isSmall();default:return!1}},f.isLarge=function(){var a,b;return b=this,null==(a=this._isLarge)?this._isLarge=this.elements.length>4||function(){var a,c,d,e;for(d=!1,a=A(b.elements),c=a.length;c--;)if(e=a[c],!e.isSmall()){d=!0;break}return d}():a},f.isNoop=function(){var a,b,c,d,e;if(null==(d=this._isNoop)){for(b=!0,a=A(this.elements),c=a.length;c--;)if(e=a[c],!e.isNoop()){b=!1;break}return this._isNoop=b}return d},f.walk=function(a){var b;return b=i(this.elements,this,"element",a),this.elements!==b?c(this.pos,b):this},f.typeId=2,f._toAst=function(a,b){var c,d,e,f,g;for(c=[],d=A(this.elements),e=0,f=d.length;f>e;++e)g=d[e],c.push(g.toAst(a,b));return c},c._fromAst=function(a){var b;return b=z.call(arguments,1),c(a,b)},f._toJSON=function(){return j(this.elements,0)},c.fromJSON=function(a,b,d){var e;return e=z.call(arguments,3),c(g(a,b,d),q(e))},c}(S),c.Assign=function(a){var b,c,d,e,f,g;for(b=arguments.length-1,b>1?g=z.call(arguments,1,b):(b=1,g=[]),d=arguments[b],f=d,c=g.length;c--;)e=g[c],f=G(a,e,"=",f);return f},c.BinaryChain=function(a,b){var c,d,e,f,g,h,i,j;if(f=z.call(arguments,2),"+"===b)for(h=f.length-2;h>=0;--h)i=f[h],j=f[h+1],("string"==typeof i||i instanceof N&&"string"==typeof i.value)&&("string"==typeof j||j instanceof N&&"string"==typeof j.value)&&f.splice(h,2,""+("string"==typeof i?i:i.value)+("string"==typeof j?j:j.value));for(g=f[0],c=1,d=f.length;d>c;++c)e=f[c],g=G(a,g,b,e);return g},c.And=function(a){var b,c,d,e;if(c=z.call(arguments,1),0===c.length)return N(a,!0);for(d=c[0],e=1,b=c.length;b>e;++e)d=G(a,d,"&&",c[e]);return d},c.Or=function(a){var b,c,d,e;if(c=z.call(arguments,1),0===c.length)return N(a,!1);for(d=c[0],e=1,b=c.length;b>e;++e)d=G(a,d,"||",c[e]);return d},c.Binary=G=function(a){function b(c,d,f,g){var i,k;if(k=this instanceof b?this:t(e),k.pos=c,null==d&&(d=eb(c)),k.left=d,k.op=f,null==g&&(g=eb(c)),k.right=g,!y.call(j,f))throw Error("Unknown binary operator: "+pb(f));if(d instanceof a||(d=l(c,d)),g instanceof a||(g=l(c,g)),y.call(h,f)){if(!(d instanceof Y||d instanceof b&&"."===d.op))throw Error("Cannot assign with "+f+" to non-Ident or Access: "+B(d));if(d instanceof b&&d.left instanceof I)return I(c,A(z.call(d.left.body,0,-1)).concat([b.call(k,c,b(d.pos,(i=d.left.body)[i.length-1],".",d.right),f,g)]));if(g instanceof I&&(d instanceof Y||d.left.isNoop()&&d.right.isNoop()))return I(c,A(z.call(g.body,0,-1)).concat([b.call(k,c,d,f,(i=g.body)[i.length-1])]))}else if(d instanceof I&&"."!==f)return I(c,A(z.call(d.body,0,-1)).concat([b.call(k,c,(i=d.body)[i.length-1],f,g)]));return k.left=d,k.right=g,k}function c(a,b,c,d,e,f,g){var h,i,j;h=c instanceof N&&"string"==typeof c.value&&bb(c.value),j=e>18,j&&g("("),b instanceof N&&"number"==typeof b.value?(i=pb(b.value),m(b.value)||!isFinite(b.value)?(g("("),g(i),g(")")):(g(i),h&&-1===i.indexOf("e")&&-1===i.indexOf(".")&&g("."))):b.isConst()&&void 0===b.constValue()?(g("("),(b instanceof N?b:N(b.pos,void 0)).compile(d,2,!1,g),g(")")):b.compile(d,18,f,g),h?(g("."),g(c.value)):(g("["),c.compile(d,2,!1,g),g("]")),j&&g(")")}function d(a,c,d,e,f,g,h){var k,l,m,n;l=j[a],k=i[l],n="paren"===k?f>=l:f>l,n&&h("("),c.compile(e,"right"===k&&c instanceof b&&j[c.op]===l?+l+1:l,g&&!n,h),m=!e.minify||/^\w/.test(a),m&&h(" "),h(a),m&&h(" "),d.compile(e,"left"===k&&d instanceof b&&j[d.op]===l?+l+1:l,!1,h),n&&h(")")}var e,f,h,i,j;return f=a.prototype,e=b.prototype=t(f),e.constructor=b,b.displayName="Binary","function"==typeof a.extended&&a.extended(b),e.compile=function(a,b,e,f){var g,h;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(g=a.sourceMap)&&g.add(f.line,f.column,this.pos.line,this.pos.column),h="."===this.op?c:d,h(this.op,this.left,this.right,a,b,e,f),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},e.compileAsBlock=function(a,b,c,d){var e;y.call(h,this.op)||"."===(e=this.op)||"&&"===e||"||"===e?f.compileAsBlock.call(this,a,b,c,d):I(this.pos,[this.left,this.right]).compileAsBlock(a,b,c,d)},e.compileAsStatement=function(a,b,c){var d,e,g;d=this,e=this.left,g=this.op,y.call(h,g)?f.compileAsStatement.call(this,a,b,c):"&&"===this.op?_(this.pos,this.left,this.right).compileAsStatement(a,b,c):"||"===this.op?_(this.pos,sb(this.pos,"!",this.left),this.right).compileAsStatement(a,b,c):"."===g?f.compileAsStatement.call(this,a,b,c):J(this.pos,[this.left,this.right]).compileAsStatement(a,b,c)},h={"=":!0,"+=":!0,"-=":!0,"*=":!0,"/=":!0,"%=":!0,"<<=":!0,">>=":!0,">>>=":!0,"&=":!0,"^=":!0,"|=":!0},e.isAssign=function(){return y.call(h,this.op)},j={".":18,"*":15,"/":15,"%":15,"+":14,"-":14,"<<":13,">>":13,">>>":13,"<":12,"<=":12,">":12,">=":12,"in":12,"instanceof":12,"==":11,"!=":11,"===":11,"!==":11,"&":9,"^":10,"|":8,"&&":7,"||":6,"=":4,"+=":4,"-=":4,"*=":4,"/=":4,"%=":4,"<<=":4,">>=":4,">>>=":4,"&=":4,"^=":4,"|=":4},i={11:"paren",12:"paren",14:"left",15:"left",9:"none",8:"none",10:"none",13:"left",4:"right"},e.isLarge=function(){var a;return null==(a=this._isLarge)?this._isLarge=!this.left.isSmall()||!this.right.isSmall():a},e.isSmall=function(){var a;return null==(a=this._isSmall)?this._isSmall=this.left.isSmall()&&this.right.isSmall():a},e.isNoop=function(){var a;return null==(a=this._isNoop)?this._isNoop=!y.call(h,this.op)&&"."!==this.op&&this.left.isNoop()&&this.right.isNoop():a},e.walk=function(a){var c,d,e,f;return d=!1,e=null!=(c=a(this.left,this,"left"))?c:this.left.walk(a),f=null!=(c=a(this.right,this,"right"))?c:this.right.walk(a),this.left!==e||this.right!==f?b(this.pos,e,this.op,f):this},e.typeId=3,e._toAst=function(a,b){return[this.left.toAst(a,b),N(a,this.op),this.right.toAst(a,b)]},b._fromAst=function(a,c,d,e){return b(a,c,d,e)},e._toJSON=function(){var a;return a=[k(this.left,0),this.op],k(this.right)&&a.push.apply(a,A(this.right.toJSON())),a},b.fromJSON=function(a,c,d,e,f){var h;return h=z.call(arguments,5),b(g(a,c,d),V(e),f,V(h))},b}(S),c.BlockStatement=J=function(b){function c(a,b,e){var f,g,h,i,j,k;for(h=this instanceof c?this:t(d),h.pos=a,null==b&&(b=[]),null==e&&(e=null),h.label=e,j=[],f=0,g=b.length;g>f&&(i=b[f],k=i.maybeToStatement(),!(k instanceof c)||k.label||k.pos.file!==a.file&&k.pos.file?k instanceof eb||j.push(k):j.push.apply(j,A(k.body)),null==k.exitType());++f);switch(j.length){case 0:return eb(a);case 1:return a.file&&!j[0].pos.file&&(j[0].pos.file=a.file),j[0];default:h.body=j}return h}var d,e;return e=b.prototype,d=c.prototype=t(e),d.constructor=c,c.displayName="BlockStatement","function"==typeof b.extended&&b.extended(c),d.compile=function(b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p;if(1!==c)throw Error("Cannot compile a statement except on the Block level");for(f=[],g=A(this.body),h=0,i=g.length;i>h;++h)o=g[h],o.isNoop()||f.push(o);for(p=f,null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(j=b.sourceMap)&&j.add(e.line,e.column,this.pos.line,this.pos.column),k=null!=this.label?a(b):b,n=b.minify,null!=this.label&&(this.label.compile(b,c,d,e),d=!1,e(":"),n||e(" "),e("{"),n||(e(b.linefeed||"\n"),e.indent(k.indent),d=!0)),l=0,i=p.length;i>l;++l)m=p[l],l>0&&!n&&(e(b.linefeed||"\n"),e.indent(k.indent),d=!0),m.compileAsStatement(k,d,e),d=!1;null!=this.label&&(n||(e(b.linefeed||"\n"),e.indent(b.indent)),e("}")),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile()},d.walk=function(a){var b,c,d;return c=i(this.body,this,"node",a),d=null!=this.label?null!=(b=a(this.label,this,"label"))?b:this.label.walk(a,this):this.label,this.body!==c||this.label!==d?H(this.pos,c,d):this},d.mutateLast=function(a,b){var c,d,e;return d=this.last(),e=d.mutateLast(a,b),d!==e?(c=z.call(this.body,0,-1),c.push(e),H(this.pos,c)):this},d.exitType=function(){return this.last().exitType()},d.last=function(){var a;return(a=this.body)[a.length-1]},d.isNoop=function(){var a,b,c,d,e;if(null==(d=this._isNoop)){for(b=!0,a=A(this.body),c=a.length;c--;)if(e=a[c],!e.isNoop()){b=!1;break}return this._isNoop=b}return d},d.typeId=4,d._toAst=function(a,b){var c;return c=this,[null!=this.label?this.label.toAst(a,b):N(a,0)].concat(function(){var d,e,f,g,h;for(d=[],e=A(c.body),f=0,g=e.length;g>f;++f)h=e[f],d.push(h.toAst(a,b));return d}())},c._fromAst=function(a,b){var d;return d=z.call(arguments,2),c(a,d,b||null)},d._toJSON=function(){return[this.label||0].concat(A(this.body))},c.fromJSON=function(a,b,d,e){var f;return f=z.call(arguments,4),c(g(a,b,d),q(f),e?V(e):null)},c}(kb),c.BlockExpression=I=function(a){function b(a,d){var e,f,g,h,i;for(e=this instanceof b?this:t(c),e.pos=a,null==d&&(d=[]),i=[],f=0,h=d.length;h>f;++f)g=d[f],f!==h-1&&!g instanceof eb||(g instanceof b&&(g.pos.file===a.file||!g.pos.file)?(i.push.apply(i,A(g.body)),h-1>f&&i[i.length-1]instanceof eb&&i.pop()):g instanceof eb||i.push(g));switch(i.length){case 0:return eb(a);case 1:return a.file&&!i[0].pos.file&&(i[0].pos.file=a.file),i[0];default:e.body=i}return e}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="BlockExpression","function"==typeof a.extended&&a.extended(b),c.toStatement=function(){return J(this.pos,this.body)},c.compile=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n;if(1===b)this.toStatement().compile(a,b,c,d);else{for(e=[],f=A(this.body),i=0,k=f.length;k>i;++i)l=f[i],l.isNoop()&&i!==k-1||e.push(l);for(m=e,null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(h=a.sourceMap)&&h.add(d.line,d.column,this.pos.line,this.pos.column),n=b>2&&m.length>1,n&&d("("),i=0,g=m.length;g>i;++i)j=m[i],i>0&&(d(","),a.minify||d(" ")),j.compile(a,n?3:b,!1,d);n&&d(")"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()}},c.compileAsBlock=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n;if(1===b)this.compile(a,b,c,d);else{for(e=[],f=A(this.body),i=0,k=f.length;k>i;++i)l=f[i],l.isNoop()||e.push(l);for(m=e,null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(h=a.sourceMap)&&h.add(d.line,d.column,this.pos.line,this.pos.column),n=b>2&&m.length>1,n&&d("("),i=0,g=m.length;g>i;++i)j=m[i],i>0&&d(", "),j.compileAsBlock(a,n?3:b,!1,d);n&&d(")"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()}},c.isLarge=function(){var a,b;return b=this,null==(a=this._isLarge)?this._isLarge=this.body.length>4||function(){var a,c,d,e;for(d=!1,a=A(b.body),c=a.length;c--;)if(e=a[c],e.isLarge()){d=!0;break}return d}():a},c.isSmall=function(){return!1},c.isNoop=function(){var a,b,c,d,e;if(null==(d=this._isNoop)){for(b=!0,a=A(this.body),c=a.length;c--;)if(e=a[c],!e.isNoop()){b=!1;break}return this._isNoop=b}return d},c.walk=J.prototype.walk,c.last=function(){var a;return(a=this.body)[a.length-1]},c.typeId=5,c._toAst=function(a,b){var c,d,e,f,g;for(c=[],d=A(this.body),e=0,f=d.length;f>e;++e)g=d[e],c.push(g.toAst(a,b));return c},b._fromAst=function(a){var c;return c=z.call(arguments,1),b(a,c)},c._toJSON=function(){return this.body},b.fromJSON=function(a,c,d){var e;return e=z.call(arguments,3),b(g(a,c,d),q(e))},b}(S),H=c.Block=function(a,b,c){return null==b&&(b=[]),null==c&&(c=null),0===b.length?eb(a):null==c&&function(){var a,c,d;for(a=!0,c=b.length;c--;)if(d=b[c],!(d instanceof S)){a=!1;break}return a}()?I(a,b):J(a,b,c)},c.Break=K=function(a){function b(a,d){var e;return e=this instanceof b?this:t(c),e.pos=a,null==d&&(d=null),e.label=d,e}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Break","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e;if(1!==b)throw Error("Cannot compile a statement except on the Block level");null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),d("break"),null!=this.label&&(d(" "),this.label.compile(a,2,!1,d)),d(";"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile(this.pos.file)
},c.walk=function(){return this},c.exitType=function(){return"break"},c.walk=function(a){var c,d;return d=null!=this.label?null!=(c=a(this.label,this,"label"))?c:this.label.walk(a):this.label,d!==this.label?b(this.pos,d):this},c.isLarge=function(){return!1},c.typeId=6,c._toAst=function(a,b){return null!=this.label?[this.label.toAst(a,b)]:[]},b._fromAst=function(a,c){return b(a,c)},c._toJSON=function(){return null!=this.label?[this.label]:[]},b.fromJSON=function(a,c,d,e){return b(g(a,c,d),e?V(e):null)},b}(kb),c.Call=L=function(b){function c(a,b,d,e){var g;return g=this instanceof c?this:t(f),g.pos=a,null==b&&(b=eb(a)),g.func=b,null==d&&(d=[]),g.args=d,null==e&&(e=!1),g.isNew=e,g}function d(b,c,d,e,f){var g,h,i,j,k;for(f("("),h=a(c),g=A(b),i=0,k=g.length;k>i;++i)j=g[i],f(c.linefeed||"\n"),f.indent(h.indent),j.compile(h,3,!1,f),k-1>i&&f(",");f(c.linefeed||"\n"),f.indent(c.indent),f(")")}function e(a,b,c,d,e){var f,g,h,i;for(e("("),f=A(a),i=0,g=f.length;g>i;++i)h=f[i],i>0&&(e(","),b.minify||e(" ")),h.compile(b,3,!1,e);e(")")}var f,h;return h=b.prototype,f=c.prototype=t(h),f.constructor=c,c.displayName="Call","function"==typeof b.extended&&b.extended(c),f.compile=function(a,b,c,f){var g,h,i;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(g=a.sourceMap)&&g.add(f.line,f.column,this.pos.line,this.pos.column),i=b>18||!this.isNew&&(this.func instanceof W||this.func instanceof G&&"."===this.func.op&&this.func.left instanceof W),i&&f("("),this.isNew&&f("new "),this.func.compile(a,this.isNew?19:18,c&&!i&&!this.isNew,f),h=!a.minify&&this.shouldCompileLarge()?d:e,h(this.args,a,b,c,f),i&&f(")"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},f.shouldCompileLarge=function(){var a,b,c,d,e;if(this.args.length>4)return!0;for(d=!1,a=A(this.args),c=a.length,b=c-2;b>=0;--b)if(e=a[b],!e.isSmall()){d=!0;break}return d},f.hasLargeArgs=function(){var a,b,c,d,e;if(null==(c=this._hasLargeArgs)){if(this.args.length>4)return this._hasLargeArgs=!0;for(d=!1,a=A(this.args),b=a.length;b--;)if(e=a[b],!e.isSmall()){d=!0;break}return this._hasLargeArgs=d}return c},f.isLarge=function(){return this.func.isLarge()||this.hasLargeArgs()},f.isSmall=function(){var a;if(null!=(a=this._isSmall))return a;if(!this.func.isSmall())return this._isSmall=!1;switch(this.args.length){case 0:return this._isSmall=!0;case 1:return this._isSmall=this.args[0].isSmall();default:return this._isSmall=!1}},f.walk=function(a){var b,d,e;return e=null!=(b=a(this.func,this,"func"))?b:this.func.walk(a),d=i(this.args,this,"arg",a),this.func!==e||this.args!==d?c(this.pos,e,d,this.isNew):this},f.typeId=7,f._toAst=function(a,b){var c;return c=this,[this.func.toAst(a,b),N(a,this.isNew?1:0)].concat(function(){var d,e,f,g,h;for(d=[],e=A(c.args),f=0,g=e.length;g>f;++f)h=e[f],d.push(h.toAst(a,b));return d}())},c._fromAst=function(a,b,d){var e;return e=z.call(arguments,3),c(a,b,e,!!d)},f._toJSON=function(){return[k(this.func,0),this.isNew?1:0].concat(A(j(this.args,0)))},c.fromJSON=function(a,b,d,e,f){var h;return h=z.call(arguments,5),c(g(a,b,d),V(e),q(h),!!f)},c}(S),c.Comment=M=function(a){function b(a,d){var e;if(e=this instanceof b?this:t(c),e.pos=a,e.text=d,"/*"!==d.substring(0,2))throw Error("Expected text to start with '/*'");if("*/"!==d.slice(-2))throw Error("Expected text to end with '*/'");return e}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Comment","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e,f,g,h,i;for(i=this.text.split("\n"),e=A(i),g=0,f=e.length;f>g;++g)h=e[g],g>0&&(d(a.linefeed||"\n"),a.minify||d.indent(a.indent)),d(h)},c.isConst=function(){return!0},c.constValue=function(){},c.isNoop=function(){return!1},c.walk=function(){return this},c.typeId=8,c._toAst=function(a){return[N(a,this.text)]},b._fromAst=function(a,c){return b(a,c)},c._toJSON=function(){return[this.text]},b.fromJSON=function(a,c,d,e){return b(g(a,c,d),e)},b}(kb),c.Const=N=function(a){function b(a,d){var e;return e=this instanceof b?this:t(c),e.pos=a,e.value=d,e}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Const","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e,f,g;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),f=this.value,void 0===f&&null!=a.undefinedName?d(a.undefinedName):(g=b>=17&&(void 0===f||"number"==typeof f&&!isFinite(f)),g&&d("("),d(pb(f)),g&&d(")")),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},c.compileAsBlock=function(a,b,c,d){eb(this.pos).compileAsBlock(a,b,c,d)},c.isConst=function(){return!0},c.isNoop=b.prototype.isConst,c.constValue=function(){return this.value},c.isLarge=function(){return"string"==typeof this.value&&(this.value.match(/\n/)||this.value.length>50)},c.inspect=function(a){return d.inspect.call(this,a,!0)},c.walk=function(){return this},c.typeId=9,c._toAst=function(a){return void 0===this.value?[]:[b(a,this.value)]},b._fromAst=function(a,c){return b(a,c)},c._toJSON=function(){return"number"!=typeof this.value||isFinite(this.value)?0===this.value&&m(this.value)?[0,2]:void 0===this.value?[]:[this.value]:[this.value>0?1:this.value<0?-1:0,1]},b.fromJSON=function(a,c,d,e,f){return b(g(a,c,d),1===f?e/0:0===e&&2===f?-0:e)},b}(S),c.Continue=O=function(a){function b(a,d){var e;return e=this instanceof b?this:t(c),e.pos=a,null==d&&(d=null),e.label=d,e}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Continue","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e;if(1!==b)throw Error("Cannot compile a statement except on the Block level");return null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),d("continue"),null!=this.label&&(d(" "),this.label.compile(a,2,!1,d)),d(";"),null!=a.sourceMap&&this.pos.file?a.sourceMap.popFile():void 0},c.walk=function(){return this},c.exitType=function(){return"continue"},c.isLarge=function(){return!1},c.walk=function(a){var c,d;return d=null!=this.label?null!=(c=a(this.label,this,"label"))?c:this.label.walk(a):this.label,d!==this.label?b(this.pop,d):this},c.typeId=10,c._toAst=function(a,b){return null!=this.label?[this.label.toAst(a,b)]:[]},b._fromAst=function(a,c){return b(a,c)},c._toJSON=function(){return null!=this.label?[this.label]:[]},b.fromJSON=function(a,c,d,e){return b(g(a,c,d),e?V(e):null)},b}(kb),c.Debugger=P=function(a){function b(a){var d;return d=this instanceof b?this:t(c),d.pos=a,d}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Debugger","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e;if(1!==b)throw Error("Cannot compile a statement except on the Block level");return null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column,this.pos.file),d("debugger;")},c.walk=function(){return this},c.isLarge=function(){return!1},c.typeId=11,b._fromAst=function(a){return b(a)},b.fromJSON=function(a,c,d){return b(g(a,c,d))},b}(kb),c.DoWhile=Q=function(b){function c(a,b,e,f){var g;return g=this instanceof c?this:t(d),g.pos=a,null==b&&(b=eb(a)),null==e&&(e=eb(a)),g.test=e,null==f&&(f=null),g.label=f,g.body=b.maybeToStatement(),e.isConst()&&!e.constValue()?H(a,[g.body],f):g}var d,e;return e=b.prototype,d=c.prototype=t(e),d.constructor=c,c.displayName="DoWhile","function"==typeof b.extended&&b.extended(c),d.compile=function(b,c,d,e){var f,g;if(1!==c)throw Error("Cannot compile a statement except on the Block level");null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(f=b.sourceMap)&&f.add(e.line,e.column,this.pos.line,this.pos.column),g=b.minify,null!=this.label&&(this.label.compile(b,c,d,e),d=!1,e(":"),g||e(" ")),e("do"),this.body.isNoop()?e(";"):(g||e(" "),e("{"),g||(e(b.linefeed||"\n"),e.indent(+b.indent+1),d=!0),this.body.compileAsStatement(a(b),d,e),d=!1,g||(e(b.linefeed||"\n"),e.indent(b.indent)),e("}")),g||e(" "),e("while"),g||e(" "),e("("),this.test.compile(b,2,!1,e),e(");"),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile()},d.walk=function(a){var b,d,e,f;return d=null!=(b=a(this.body,this,"body"))?b:this.body.walk(a),f=null!=(b=a(this.test,this,"test"))?b:this.test.walk(a),e=null!=this.label?null!=(b=a(this.label,this,"label"))?b:this.label.walk(a):this.label,d!==this.body||f!==this.test||e!==this.label?c(this.pos,d,f,e):this},d.typeId=12,d._toAst=function(a,b){return[this.test.toAst(a,b),this.body.toAst(a,b)].concat(null!=this.label?[this.label.toAst(a,b)]:[])},c._fromAst=function(a,b,d,e){return c(a,b,d,e)},d._toJSON=function(){return[this.label||0,k(this.test,0),k(this.body,0)]},c.fromJSON=function(a,b,d,e,f,h){return c(g(a,b,d),V(h),V(f),e?V(e):null)},c}(kb),c.Eval=R=function(a){function b(d,e){var f;return f=this instanceof b?this:t(c),f.pos=d,null==e&&(e=eb(d)),e instanceof a||(e=l(d,e)),f.code=e,f}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Eval","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),this.code instanceof N?d(String(this.code.value)):(d("eval("),this.code.compile(a,3,!1,d),d(")")),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},c.walk=function(a){var c,d;return d=null!=(c=a(this.code,this,"code"))?c:this.code.walk(a),d!==this.code?b(this.pops,d):this},c.isLarge=function(){return this.code.isLarge()},c.typeId=13,c._toAst=function(a,b){return[this.code.toAst(a,b)]},b._fromAst=function(a,c){return b(a,c)},c._toJSON=function(){return[k(this.code,0)]},b.fromJSON=function(a,c,d,e){return b(g(a,c,d),V(e))},b}(S),c.For=T=function(b){function c(a,b,e,f,g,h){var i;return i=this instanceof c?this:t(d),i.pos=a,null==b&&(b=eb(a)),i.init=b,null==e&&(e=N(a,!0)),null==f&&(f=eb(a)),i.step=f,null==h&&(h=null),i.label=h,e instanceof S||(e=l(a,e)),e.isConst()&&!e.constValue()?b:(i.test=e,i.body=g.maybeToStatement(),i)}var d,e;return e=b.prototype,d=c.prototype=t(e),d.constructor=c,c.displayName="For","function"==typeof b.extended&&b.extended(c),d.compile=function(b,c,d,e){var f,g,h;if(1!==c)throw Error("Cannot compile a statement except on the Block level");h=this.test.isConst()&&"boolean"!=typeof this.test.constValue()?N(this.pos,!!this.test.constValue()):this.test,null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(f=b.sourceMap)&&f.add(e.line,e.column,this.pos.line,this.pos.column),g=b.minify,null!=this.label&&(this.label.compile(b,c,d,e),e(":"),g||e(" ")),this.init.isNoop()&&this.step.isNoop()?(e("while"),g||e(" "),e("("),h.compile(b,2,!1,e)):(e("for"),g||e(" "),e("("),this.init.isNoop()||this.init.compileAsBlock(b,2,!1,e),e(";"),g||e(" "),h.isConst()&&h.constValue()||h.compile(b,2,!1,e),e(";"),g||e(" "),this.step.isNoop()||this.step.compileAsBlock(b,2,!1,e)),e(")"),this.body.isNoop()?e(";"):(g||e(" "),e("{"),g||(e(b.linefeed||"\n"),e.indent(+b.indent+1)),this.body.compileAsStatement(a(b),!g,e),g||(e(b.linefeed||"\n"),e.indent(b.indent)),e("}")),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile()},d.walk=function(a){var b,d,e,f,g,h;return e=null!=(b=a(this.init,this,"init"))?b:this.init.walk(a),h=null!=(b=a(this.test,this,"test"))?b:this.test.walk(a),g=null!=(b=a(this.step,this,"step"))?b:this.step.walk(a),d=null!=(b=a(this.body,this,"body"))?b:this.body.walk(a),f=null!=this.label?null!=(b=a(this.label,this,"label"))?b:this.label.walk(a):this.label,e!==this.init||h!==this.test||g!==this.step||d!==this.body||f!==this.label?c(this.pos,e,h,g,d,f):this},d.typeId=14,d._toAst=function(a,b){return[this.init.toAst(a,b),this.test.toAst(a,b),this.step.toAst(a,b),this.body.toAst(a,b)].concat(null!=this.label?[this.label.toAst(a,b)]:[])},c._fromAst=function(a,b,d,e,f,g){return c(a,b,d,e,f,g||null)},d._toJSON=function(){var a;return a=[this.label||0,k(this.init,0),k(this.test,0),k(this.step,0)],k(this.body)&&a.push.apply(a,A(this.body.toJSON())),a},c.fromJSON=function(a,b,d,e,f,h,i){var j;return j=z.call(arguments,7),c(g(a,b,d),V(f),V(h),V(i),V(j),e?V(e):null)},c}(kb),c.ForIn=U=function(b){function c(a,b,e,f,g){var h;return h=this instanceof c?this:t(d),h.pos=a,h.key=b,null==e&&(e=eb(a)),h.object=e,null==f&&(f=eb(a)),null==g&&(g=null),h.label=g,h.body=f.maybeToStatement(),h}var d,e;return e=b.prototype,d=c.prototype=t(e),d.constructor=c,c.displayName="ForIn","function"==typeof b.extended&&b.extended(c),d.compile=function(b,c,d,e){var f,g;if(1!==c)throw Error("Cannot compile a statement except on the Block level");null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(f=b.sourceMap)&&f.add(e.line,e.column,this.pos.line,this.pos.column),g=b.minify,null!=this.label&&(this.label.compile(b,c,d,e),e(":"),g||e(" ")),e("for"),g||e(" "),e("("),this.key.compile(b,2,!1,e),e(" in "),this.object.compile(b,2,!1,e),e(")"),this.body.isNoop()?e(";"):(g||e(" "),e("{"),g||(e(b.linefeed||"\n"),e.indent(+b.indent+1)),this.body.compileAsStatement(a(b),!g,e),g||(e(b.linefeed||"\n"),e.indent(b.indent)),e("}")),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile()},d.walk=function(a){var b,d,e,f,g;return e=null!=(b=a(this.key,this,"key"))?b:this.key.walk(a),g=null!=(b=a(this.object,this,"object"))?b:this.object.walk(a),d=null!=(b=a(this.body,this,"body"))?b:this.body.walk(a),f=null!=this.label?null!=(b=a(this.label,this,"label"))?b:this.label.walk(a):this.label,e!==this.key||g!==this.object||d!==this.body||f!==this.label?c(this.pos,e,g,d):this},d.typeId=15,d._toAst=function(a,b){return[this.key.toAst(a,b),this.object.toAst(a,b),this.body.toAst(a,b)].concat(null!=this.label?[this.label.toAst(a,b)]:[])},c._fromAst=function(a,b,d,e,f){return c(a,b,d,e,f||null)},d._toJSON=function(){var a;return a=[this.label||0,this.key,k(this.object,0)],k(this.body)&&a.push.apply(a,A(this.body.toJSON())),a},c.fromJSON=function(a,b,d,e,f,h){var i;return i=z.call(arguments,6),c(g(a,b,d),V(f),V(h),V(i),e?V(e):null)},c}(kb),ob=function(){function a(a){return"\\u"+gb(a.charCodeAt(0).toString(16),4,"0")}return function(b){return b.replace(/[\u0000-\u001f\u0080-\uffff]/g,a)}}(),c.Func=W=function(a){function b(a,c,e,f,g,h){var i;return i=this instanceof b?this:t(d),i.pos=a,null==c&&(c=null),i.name=c,null==e&&(e=[]),i.params=e,null==f&&(f=[]),i.variables=f,null==g&&(g=eb(a)),i.body=g,null==h&&(h=[]),i.declarations=h,n(e,f),i}var c,d;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="Func","function"==typeof a.extended&&a.extended(b),d.compile=function(a,b,c,d){var e,f;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),f=c&&!this.name,f&&d("("),p(a,d,this.name,this.params,this.declarations,this.variables,this.body),f&&d(")"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},d.compileAsStatement=function(a,b,c){this.compile(a,1,b,c),b&&this.name||c(";")},d.isLarge=function(){return!0},d.isNoop=function(){return null==this.name},d.walk=function(a){var c,d,e,f;return e=this.name?null!=(c=a(this.name,this,"name"))?c:this.name.walk(a):this.name,f=i(this.params,this,"param",a),d=null!=(c=a(this.body,this,"body"))?c:this.body.walk(a),e!==this.name||f!==this.params||d!==this.body?b(this.pos,e,f,this.variables,d,this.declarations,this.meta):this},d.typeId=16,d._toAst=function(a,b){var c;return c=this,[this.name?this.name.toAst(a,b):N(a,0),this.params.length?E(a,function(){var d,e,f,g,h;for(d=[],e=A(c.params),f=0,g=e.length;g>f;++f)h=e[f],d.push(h.toAst(a,b));return d}()):N(a,0),this.variables.length?E(a,function(){var b,d,e,f,g;for(b=[],d=A(c.variables),e=0,f=d.length;f>e;++e)g=d[e],b.push(N(a,g));return b}()):N(a,0),this.body.toAst(a,b)].concat(function(){var b,d,e,f,g;for(b=[],d=A(c.declarations),e=0,f=d.length;f>e;++e)g=d[e],b.push(N(a,g));return b}())},b._fromAst=function(a,c,d,e,f){var g;return g=z.call(arguments,5),b.apply(void 0,[a,c||null,d||[],e||[],f].concat(A(g)))},d._toJSON=function(){var a;return a=[this.name||0,j(this.params,0),j(this.variables,0),j(this.declarations,0)],k(this.body)&&a.push.apply(a,A(this.body.toJSON())),a},b.fromJSON=function(a,c,d,e,f,h,i){var j;return j=z.call(arguments,7),b(g(a,c,d),e?V(e):void 0,q(f),h,V(j),i)},b}(S),c.Ident=Y=function(a){function b(a,c,e){var f;if(f=this instanceof b?this:t(d),f.pos=a,f.name=c,null==e&&(e=!1),!e&&!bb(c,!0))throw Error("Not an acceptable identifier name: "+c);return f}var c,d;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="Ident","function"==typeof a.extended&&a.extended(b),d.compile=function(a,b,c,d){var e;null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column,this.pos.file),d(ob(this.name))},d.compileAsBlock=function(a,b,c,d){eb(this.pos).compileAsBlock(a,b,c,d)},d.walk=function(){return this},d.isNoop=function(){return!0},d.typeId=17,d._toAst=function(a){return[N(a,this.name)]},b._fromAst=function(a,c){return b(a,c,!0)},d._toJSON=function(){return[this.name]},b.fromJSON=function(a,c,d,e){return b(g(a,c,d),e,!0)},b}(S),c.IfStatement=_=function(b){function c(a,b,e,f,g){var h,i;return i=this instanceof c?this:t(d),i.pos=a,null==b&&(b=eb(a)),null==e&&(e=eb(a)),null==f&&(f=eb(a)),null==g&&(g=null),i.label=g,b instanceof sb&&"!"===b.op&&b.node instanceof sb&&"!"===b.node.op&&(b=b.node.node),b.isConst()?b.constValue()?H(a,[e],g):H(a,[f],g):(e=e.maybeToStatement(),f=f.maybeToStatement(),e instanceof eb?f instanceof eb?b.maybeToStatement():c.call(i,a,sb(b.pos,"!",b),f,e,g):f instanceof eb&&e instanceof c&&e.whenFalse instanceof eb&&null==e.label?c.call(i,a,G(a,b,"&&",e.test),e.whenTrue,f):b instanceof I?J(a,A(z.call(b.body,0,-1)).concat([c.call(i,a,(h=b.body)[h.length-1],e,f)])):(i.test=b,i.whenTrue=e,i.whenFalse=f,i))}var d,e;return e=b.prototype,d=c.prototype=t(e),d.constructor=c,c.displayName="IfStatement","function"==typeof b.extended&&b.extended(c),d.compile=function(b,d,e,f){var g,h,i,j;if(1!==d)throw Error("Cannot compile a statement except on the Block level");this.whenTrue.isNoop()?this.whenFalse.isNoop()?this.test.compileAsStatement(b,!0,f):c(this.pos,sb(this.test.pos,"!",this.test),this.whenFalse,this.whenTrue,this.label).compile(b,d,e,f):(null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(g=b.sourceMap)&&g.add(f.line,f.column,this.pos.line,this.pos.column),i=b.minify,null!=this.label&&(this.label.compile(b,d,e,f),f(":"),i||f(" ")),f("if"),i||f(" "),f("("),this.test.compile(b,2,!1,f),f(")"),i||f(" "),f("{"),h=a(b),i||(f(b.linefeed||"\n"),f.indent(h.indent)),this.whenTrue.compileAsStatement(h,!i,f),i||(f(b.linefeed||"\n"),f.indent(b.indent)),f("}"),j=this.whenFalse,j.isNoop()||(i||f(" "),f("else"),j instanceof c&&null==j.label?(f(" "),j.compile(b,d,!1,f)):(i||f(" "),f("{"),i||(f(b.linefeed||"\n"),f.indent(h.indent)),j.compileAsStatement(h,!i,f),i||(f(b.linefeed||"\n"),f.indent(b.indent)),f("}"))),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile())},d.walk=function(a){var b,c,d,e,f;return d=null!=(b=a(this.test,this,"test"))?b:this.test.walk(a),f=null!=(b=a(this.whenTrue,this,"whenTrue"))?b:this.whenTrue.walk(a),e=null!=(b=a(this.whenFalse,this,"whenFalse"))?b:this.whenFalse.walk(a),c=null!=this.label?null!=(b=a(this.label,this,"label"))?b:this.label.walk(a):this.label,d!==this.test||f!==this.whenTrue||e!==this.whenFalse||c!==this.label?Z(this.pos,d,f,e,c):this},d.mutateLast=function(a,b){var c,d;return d=this.whenTrue.mutateLast(a,b),c=this.whenFalse.mutateLast(a,b),d!==this.whenTrue||c!==this.whenFalse?Z(this.pos,this.test,d,c,this.label):this},d.exitType=function(){var a,b;return void 0===this._exitType?(b=this.whenTrue.exitType(),a=this.whenFalse.exitType(),this._exitType=b===a?b:null):this._exitType},d.isNoop=function(){var a;return null==(a=this._isNoop)?this._isNoop=this.test.isNoop()&&this.whenTrue.isNoop()&&this.whenFalse.isNoop():a},d.typeId=18,d._toAst=function(a,b){var c;return c=[this.test.toAst(a,b),this.whenTrue.toAst(a,b)],this.whenFalse instanceof eb&&!this.label||c.push(this.whenFalse.toAst(a,b)),this.label&&c.push(this.label.toAst(a,b)),c},c._fromAst=function(a,b,d,e,f){return c(a,b,d,e,f)},d._toJSON=function(){var a;return a=[this.label||0,k(this.test,0),k(this.whenTrue,0)],k(this.whenFalse)&&a.push.apply(a,A(this.whenFalse.toJSON())),a},c.fromJSON=function(a,b,d,e,f,h){var i;return i=z.call(arguments,6),c(g(a,b,d),V(f),V(h),V(i),e?V(e):null)},c}(kb),c.IfExpression=$=function(b){function c(a,d,e,f){var g;return g=this instanceof c?this:t(h),g.pos=a,null==d&&(d=eb(a)),null==e&&(e=eb(a)),null==f&&(f=eb(a)),e instanceof b||(e=l(a,e)),f instanceof b||(f=l(a,f)),d instanceof sb&&"!"===d.op&&d.node instanceof sb&&"!"===d.node.op&&(d=d.node.node),d.isConst()?d.constValue()?e:f:(f instanceof eb&&e instanceof c&&e.whenFalse instanceof eb?(g.test=G(a,d,"&&",e.test),g.whenTrue=e.whenTrue,g.whenFalse=f):(g.test=d,g.whenTrue=e,g.whenFalse=f),g)}function d(a,b,c,d,e,f){var g;g=d.minify,a.compile(d,5,e,f),f(g?"?":" ? "),b.compile(d,5,!1,f),f(g?":":" : "),c.compile(d,5,!1,f)}function e(b,d,f,g,h,i){var j,k,l,m;j=a(g),l=b instanceof c,l&&i("("),b.compile(j,l?2:5,h&&!l,i),l&&i(")"),k=d.isLarge(),k?(i(g.linefeed||"\n"),i.indent(j.indent),i("? ")):i(" ? "),m=d instanceof c,m&&i("("),d.compile(j,m?2:5,!1,i),m&&i(")"),i(g.linefeed||"\n"),i.indent(j.indent),i(": "),f instanceof c?e(f.test,f.whenTrue,f.whenFalse,g,!1,i):f.compile(j,5,!1,i)}var f,h;return f=b.prototype,h=c.prototype=t(f),h.constructor=c,c.displayName="IfExpression","function"==typeof b.extended&&b.extended(c),h.toStatement=function(){return _(this.pos,this.test,this.whenTrue,this.whenFalse)},h.compile=function(a,b,c,f){var g,h,i;1===b?this.toStatement().compile(a,b,c,f):(null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(g=a.sourceMap)&&g.add(f.line,f.column,this.pos.line,this.pos.column),i=b>5,i&&f("("),h=a.minify||!this.whenTrue.isLarge()&&!this.whenFalse.isLarge()?d:e,h(this.test,this.whenTrue,this.whenFalse,a,!i&&c,f),i&&f(")"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile())},h.compileAsBlock=function(a,b,c,d){this.whenTrue.isNoop()?this.whenFalse.isNoop()?this.test.compileAsBlock(a,b,c,d):G(this.pos,this.test,"||",this.whenFalse).compileAsBlock(a,b,c,d):this.whenFalse.isNoop()?G(this.pos,this.test,"&&",this.whenTrue).compileAsBlock(a,b,c,d):this.compile(a,b,c,d)},h.isLarge=function(){var a;return null==(a=this._isLarge)?this._isLarge=!this.test.isSmall()||!this.whenTrue.isSmall()||!this.whenFalse.isSmall():a},h.isSmall=function(){return!1},h.isNoop=function(){var a;return null==(a=this._isNoop)?this._isNoop=this.test.isNoop()&&this.whenTrue.isNoop()&&this.whenFalse.isNoop():a},h.walk=_.prototype.walk,h.typeId=19,h._toAst=function(a,b){var c;return c=[this.test.toAst(a,b),this.whenTrue.toAst(a,b)],this.whenFalse instanceof eb||c.push(this.whenFalse.toAst(a,b)),c},c._fromAst=function(a,b,d,e){return c(a,b,d,e)},h._toJSON=function(){var a;return a=[k(this.test,0),k(this.whenTrue,0)],k(this.whenFalse)&&a.push.apply(a,A(this.whenFalse.toJSON())),a},c.fromJSON=function(a,b,d,e,f){var h;return h=z.call(arguments,5),c(g(a,b,d),V(e),V(f),V(h))},c}(S),Z=c.If=function(a,b,c,d,e){return c instanceof kb||d instanceof kb||null!=e?_(a,b,c,d,e):$(a,b,c,d)},c.Noop=eb=function(a){function b(a){var c;return c=this instanceof b?this:t(d),c.pos=a,c}var c,d;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="Noop","function"==typeof a.extended&&a.extended(b),d.compileAsStatement=function(){},d.compile=function(a,b,c,d){b>1&&N(this.pos,void 0).compile(a,b,c,d)},d.isConst=function(){return!0},d.isNoop=b.prototype.isConst,d.constValue=function(){},d.walk=function(){return this},d.mutateLast=function(a,b){return(null!=b?b.noop:void 0)?a(this):this},d.typeId=20,b._fromAst=function(a){return b(a)},b.fromJSON=function(a,c,d){return b(g(a,c,d))},b}(S),c.Obj=fb=function(b){function c(a,b){var e;return e=this instanceof c?this:t(j),e.pos=a,null==b&&(b=[]),e.elements=b,d(b),e}function d(a){var b,c,d,e,f;for(e=[],b=A(a),c=b.length;c--;){if(f=b[c],d=f.key,v(d,e))throw Error("Found duplicate key: "+pb(d));e.push(d)}}function e(a){return bb(a)||String(Number(a))===a?a:pb(a)}function f(b,c,d){var f,g,h,i,j,k;for(g=a(c),f=A(b),i=0,k=f.length;k>i;++i)h=f[i],d(c.linefeed||"\n"),d.indent(g.indent),j=h.key,d(e(j)),d(": "),h.value.compile(g,3,!1,d),k-1>i&&d(",");d(c.linefeed||"\n"),d.indent(c.indent)}function h(a,b,c){var d,f,g,h,i,j;if(a.length){for(j=b.minify,j||c(" "),d=A(a),h=0,f=d.length;f>h;++h)g=d[h],h>0&&(c(","),j||c(" ")),i=g.key,c(e(i)),c(":"),j||c(" "),g.value.compile(b,3,!1,c);j||c(" ")}}var i,j,m;return i=b.prototype,j=c.prototype=t(i),j.constructor=c,c.displayName="Obj","function"==typeof b.extended&&b.extended(c),j.compile=function(a,b,c,d){var e,g,i;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),i=c,i&&d("("),d("{"),g=!a.minify&&this.shouldCompileLarge()?f:h,g(this.elements,a,d),d("}"),i&&d(")"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},j.compileAsBlock=function(a,b,c,d){var e;e=this,I(this.pos,function(){var a,b,c,d,f;for(a=[],b=A(e.elements),c=0,d=b.length;d>c;++c)f=b[c],a.push(f.value);return a}()).compileAsBlock(a,b,c,d)},j.compileAsStatement=function(a,b,c){var d;d=this,J(this.pos,function(){var a,b,c,e,f;for(a=[],b=A(d.elements),c=0,e=b.length;e>c;++c)f=b[c],a.push(f.value);return a}()).compileAsStatement(a,b,c)},j.shouldCompileLarge=function(){switch(this.elements.length){case 0:return!1;case 1:return this.elements[0].isLarge();default:return this.isLarge()}},j.isSmall=function(){switch(this.elements.length){case 0:return!0;case 1:return this.elements[0].isSmall();default:return!1}},j.isLarge=function(){var a,b;return b=this,null==(a=this._isLarge)?this._isLarge=this.elements.length>4||function(){var a,c,d,e;for(d=!1,a=A(b.elements),c=a.length;c--;)if(e=a[c],!e.isSmall()){d=!0;break}return d}():a},j.isNoop=function(){var a,b,c,d,e;if(null==(d=this._isNoop)){for(b=!0,a=A(this.elements),c=a.length;c--;)if(e=a[c],!e.isNoop()){b=!1;break}return this._isNoop=b}return d},j.walk=function(a){var b,d,e,f,g,h,i,j,k;for(h=!1,b=[],d=A(this.elements),e=0,f=d.length;f>e;++e)i=d[e],k=null!=(g=a(i.value,this,"element"))?g:i.value.walk(a),k!==i.value?(h=!0,b.push(m(i.pos,i.key,k))):b.push(i);return j=b,h?c(this.pos,j):this},j.typeId=21,j._toAst=function(a,b){var c,d,e,f,g,h;for(h=[],c=A(this.elements),d=0,e=c.length;e>d;++d)f=c[d],g=f.pos,h.push(N(a,g.line)),h.push(N(a,g.column)),h.push(N(a,g.file)),h.push(N(a,f.key)),h.push(f.value.toAst(a,b));return h},c._fromAst=function(a){var b,d,e,f;for(d=z.call(arguments,1),f=[],e=0,b=d.length;b>e;e+=5)f.push(m(g(d[e],d[e+1],d[e+2]),d[e+3],d[e+4]));return c(a,f)},j._toJSON=function(){var a,b,c,d,e,f;for(f=[],a=A(this.elements),b=0,c=a.length;c>b;++b)d=a[b],e=d.pos,f.push(e.line,e.column,e.file,d.key,k(d.value));return f},c.fromJSON=function(a,b,d){var e,f,h,i,j,k,l,n,o;for(f=z.call(arguments,3),n=[],h=0,e=f.length;e>h;h+=5)l=f[h],j=f[h+1],k=f[h+2],i=f[h+3],o=f[h+4],n.push(m(g(l,j,k),i,V(o)));return c(g(a,b,d),n)},c.Pair=m=function(){function a(d,e,f){var g;return g=this instanceof a?this:t(c),g.pos=d,g.key=e,null==f&&(f=eb(d)),f instanceof b||(f=l(d,f)),g.value=f,g}var c;return c=a.prototype,a.displayName="ObjPair",c.isSmall=function(){return this.value.isSmall()},c.isLarge=function(){return this.value.isLarge()},c.isNoop=function(){return this.value.isNoop()},c.walk=function(b){var c,d;return d=null!=(c=b(this.value,this,"value"))?c:this.value.walk(b),d!==this.value?a(this.pos,this.key,d):this},c.inspect=db.prototype.inspect,a}(),c}(S),c.Regex=hb=function(a){function b(a,c,e){var f;return f=this instanceof b?this:t(d),f.pos=a,f.source=c,null==e&&(e=""),f.flags=e,f}var c,d;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="Regex","function"==typeof a.extended&&a.extended(b),d.compile=function(a,b,c,d){var e;null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column,this.pos.file),d("/"),d(this.source.replace(/(\\\\)*\\?\//g,"$1\\/")||"(?:)"),d("/"),d(this.flags)},d.compileAsBlock=function(a,b,c,d){eb(this.pos).compileAsBlock(a,b,c,d)},d.isNoop=function(){return!0},d.walk=function(){return this},d.typeId=22,d._toAst=function(a){return[N(a,this.source)].concat(""!==this.flags?[N(a,this.flags)]:[])},b._fromAst=function(a,c,d){return b(a,c,d||"")},d._toJSON=function(){return[this.source,this.flags]},b.fromJSON=function(a,c,d,e,f){return b(g(a,c,d),e,f)},b}(S),c.Return=ib=function(a){function b(a,d){var e;return e=this instanceof b?this:t(c),e.pos=a,null==d&&(d=eb(a)),e.node=d,"function"==typeof d.toStatement?d.toStatement().mutateLast(function(c){return b(a,c)},{noop:!0}):e}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Return","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),d("return"),this.node.isConst()&&void 0===this.node.constValue()||(d(" "),this.node.compile(a,2,!1,d)),d(";"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},c.walk=function(a){var c,d;return d=null!=(c=a(this.node,this,"node"))?c:this.node.walk(a),d!==this.node?b(this.pos,d):this},c.exitType=function(){return"return"},c.isSmall=function(){return this.node.isSmall()},c.isLarge=function(){return this.node.isLarge()},c.mutateLast=function(a,c){var d;return(null!=c?c["return"]:void 0)?(d=this.node.mutateLast(a,c),d!==this.node?b(this.pos,d):this):this},c.typeId=23,c._toAst=function(a,b){return this.node.isConst()&&void 0===this.node.constValue()?[]:[this.node.toAst(a,b)]},b._fromAst=function(a,c){return b(a,c)},c._toJSON=function(){return k(this.node)?this.node.toJSON():[]},b.fromJSON=function(a,c,d){var e;return e=z.call(arguments,3),b(g(a,c,d),V(e))},b}(kb),c.Root=jb=function(){function a(b,d,e,f){var g;return g=this instanceof a?this:t(c),g.pos=b,null==d&&(d=eb(b)),g.body=d,null==e&&(e=[]),g.variables=e,null==f&&(f=[]),g.declarations=f,n([],e),g}var c;return c=a.prototype,a.displayName="Root",c.compile=function(a){var c,d,g,h,i,j,k,l,m,n,p,q,r,s;return null==a&&(a={}),a.indent||(a.indent=0),a.uglify||"function"!=typeof a.writer||(s=a.writer),n=s?e(s):f(),p=(new Date).getTime(),null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(c=a.sourceMap)&&c.add(n.line,n.column,this.pos.line,this.pos.column),o(a,n,this.declarations,this.variables,this.body,!0),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile(),g=(new Date).getTime(),"function"==typeof a.progress&&a.progress("compile",g-p),h=0,null==s&&(d=n.toString(),a.uglify&&(i=b("fs"),null!=a.sourceMap&&(m=b("path"),l=b("os"),q=m.join(l.tmpDir(),"gs-"+4294967296*Math.random()+".map"),i.writeFileSync(q,a.sourceMap.toString(),"utf8")),r=b("uglify-js"),null!=(c=r.AST_Node)&&(k=c.warn_function),"function"==typeof k&&(r.AST_Node.warn_function=function(){}),j=r.minify(d,{fromString:!0,inSourceMap:q,outSourceMap:null!=(c=a.sourceMap)?c.generatedFile:void 0}),null!=k&&(r.AST_Node.warn_function=k),null!=q&&i.unlinkSync(q),d=j.code,h=(new Date).getTime(),"function"==typeof a.progress&&a.progress("uglify",h-g),null!=a.sourceMap&&(a.sourceMap=j.map)),"function"==typeof a.writer&&(a.writer(d),d="")),n=null,{compileTime:g-p,uglifyTime:a.uglify?h-g:void 0,code:d||""}},c.toString=function(a){return null==a&&(a={}),this.compile(a).code},c.isLarge=function(){return!0},c.walk=function(b){var c,d;return d=null!=(c=b(this.body,this,"body"))?c:this.body.walk(b),d!==this.body?a(this.pos,d,this.variables,this.declarations):this},c.mutateLast=function(b,c){var d;return d=this.body.mutateLast(b,c),d!==this.body?a(this.pos,d,this.variables,this.declarations):this},c.exitType=function(){return this.last().exitType()},c.last=function(){var a;
return(a=this.body)[a.length-1]},c.inspect=db.prototype.inspect,c.typeId=24,c._toAst=function(a,b){var c;return c=this,[this.declarations.length?E(a,function(){var b,d,e,f,g;for(b=[],d=A(c.declarations),e=0,f=d.length;f>e;++e)g=d[e],b.push(N(a,g));return b}()):N(a,0),this.variables.length?E(a,function(){var b,d,e,f,g;for(b=[],d=A(c.variables),e=0,f=d.length;f>e;++e)g=d[e],b.push(N(a,g));return b}()):N(a,0),this.body.toAst(a,b)]},a._fromAst=function(b,c,d,e){return a(b,e,d||[],c||[])},c._toJSON=function(){var a;return a=[j(this.variables,0),j(this.declarations,0)],k(this.body)&&a.push.apply(a,A(this.body.toJSON())),a},a.fromJSON=function(b,c,d,e,f){var h;return h=z.call(arguments,5),a(g(b,c,d),V(h),e,f)},a}(),c.This=mb=function(a){function b(a){var c;return c=this instanceof b?this:t(d),c.pos=a,c}var c,d;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="This","function"==typeof a.extended&&a.extended(b),d.compile=function(a,b,c,d){var e;null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column,this.pos.file),d("this")},d.compileAsBlock=function(a,b,c,d){eb(this.pos).compileAsBlock(a,b,c,d)},d.isNoop=function(){return!0},d.walk=function(){return this},d.typeId=25,b._fromAst=function(a){return b(a)},b.fromJSON=function(a,c,d){return b(g(a,c,d))},b}(S),c.Throw=nb=function(a){function b(a,c){var e;return e=this instanceof b?this:t(d),e.pos=a,null==c&&(c=eb(a)),e.node=c,"function"==typeof c.toStatement?c.toStatement().mutateLast(function(a){return b(e.pos,a)},{noop:!0}):e}var c,d;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="Throw","function"==typeof a.extended&&a.extended(b),d.compile=function(a,b,c,d){var e;return null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),d("throw "),this.node.compile(a,2,!1,d),d(";"),null!=a.sourceMap&&this.pos.file?a.sourceMap.popFile():void 0},d.walk=function(a){var c,d;return d=null!=(c=a(this.node,this,"node"))?c:this.node.walk(a),d!==this.node?b(this.pos,d):this},d.exitType=function(){return"throw"},d.isSmall=function(){return this.node.isSmall()},d.isLarge=function(){return this.node.isLarge()},d.typeId=26,d._toAst=function(a,b){return[this.node.toAst(a,b)]},b._fromAst=function(a,c){return b(a,c)},d._toJSON=function(){return k(this.node)?this.node.toJSON():[]},b.fromJSON=function(a,c,d){var e;return e=z.call(arguments,3),b(g(a,c,d),V(e))},b}(kb),c.Switch=lb=function(b){function c(a,b,d,f,g){var h;return h=this instanceof c?this:t(e),h.pos=a,null==b&&(b=eb(a)),null==d&&(d=[]),h.cases=d,null==f&&(f=eb(a)),null==g&&(g=null),h.label=g,b instanceof S||(b=l(a,b)),h.node=b,h.defaultCase=f.maybeToStatement(),h}var d,e,f;return d=b.prototype,e=c.prototype=t(d),e.constructor=c,c.displayName="Switch","function"==typeof b.extended&&b.extended(c),e.compile=function(b,c,d,e){var f,g,h,i,j,k,l;if(1!==c)throw Error("Cannot compile a statement except on the Block level");for(null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(i=b.sourceMap)&&i.add(e.line,e.column,this.pos.line,this.pos.column),l=b.minify,null!=this.label&&(this.label.compile(b,c,d,e),e(":"),l||e(" ")),e("switch"),l||e(" "),e("("),this.node.compile(b,2,!1,e),e(")"),l||e(" "),e("{"),k=a(b),f=A(this.cases),g=0,h=f.length;h>g;++g)j=f[g],l||(e(b.linefeed||"\n"),e.indent(b.indent)),e("case "),j.node.compile(b,2,!1,e),e(":"),j.body.isNoop()||(j.node.isSmall()&&j.body.isSmall()?(l||e(" "),j.body.compileAsStatement(b,!0,e)):(l||(e(b.linefeed||"\n"),e.indent(k.indent)),j.body.compileAsStatement(k,!0,e)));this.defaultCase.isNoop()||(l||(e(b.linefeed||"\n"),e.indent(b.indent)),e("default:"),this.defaultCase.isSmall()?(l||e(" "),this.defaultCase.compileAsStatement(b,!0,e)):(l||(e(b.linefeed||"\n"),e.indent(k.indent)),this.defaultCase.compileAsStatement(k,!0,e))),l||(e(b.linefeed||"\n"),e.indent(b.indent)),e("}"),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile()},e.walk=function(a){var b,d,e,g,h,i,j,k,l,m,n,o,p;for(p=null!=(h=a(this.node,this,"node"))?h:this.node.walk(a),m=!1,b=[],d=A(this.cases),e=0,g=d.length;g>e;++e)i=d[e],k=null!=(h=a(i.node,this,"caseNode"))?h:i.node.walk(a),j=null!=(h=a(i.body,this,"caseBody"))?h:i.body.walk(a),k!==i.node||j!==i.body?(m=!0,b.push(f(i.pos,k,j))):b.push(i);return l=b,n=null!=(h=a(this.defaultCase,this,"defaultCase"))?h:this.defaultCase.walk(a),o=null!=this.label?null!=(h=a(this.label,this,"label"))?h:this.label.walk(a):this.label,p!==this.node||m||n!==this.defaultCase||o!==this.label?c(this.pos,p,l,n,o):this},e.typeId=27,e._toAst=function(a,b){var c,d,e,f,g;for(g=[this.label?this.label.toAst(a,b):N(a,0),this.node.toAst(a,b)],c=A(this.cases),d=0,e=c.length;e>d;++d)f=c[d],g.push(N(a,f.pos.line)),g.push(N(a,f.pos.column)),g.push(N(a,f.pos.file||0)),g.push(f.node.toAst(a,b)),g.push(f.body.toAst(a,b));return this.defaultCase instanceof eb||g.push(this.defaultCase.toAst(a,b)),g},c._fromAst=function(a,b,d){var e,h,i,j,k;switch(e=z.call(arguments,3),j=e.length,j%5){case 0:break;case 1:--j,h=e[j];break;default:throw Error("Unknown number of arguments passed to _fromAst")}for(k=[],i=0;j>i;i+=5)k.push(f(g(e[i],e[i+1],e[i+2]),e[i+3],e[i+4]));return c(a,d,k,h,b||null)},e._toJSON=function(){var a,b,c,d,e;for(e=[this.label||0,k(this.node,0)],a=A(this.cases),b=0,c=a.length;c>b;++b)d=a[b],e.push(d.pos.line,d.pos.column,d.pos.file,k(d.node,0),k(d.body,0));return this.defaultCase instanceof eb||e.push(k(this.defaultCase,0)),e},c.fromJSON=function(a,b,d,e,h){var i,j,k,l,m,n,o,p,q,r;switch(i=z.call(arguments,5),q=i.length,q%5){case 0:break;case 1:--q,o=i[q];break;default:throw Error("Unknown number of arguments passed to fromJSON")}for(r=[],p=0;q>p;p+=5)m=i[p],k=i[p+1],l=i[p+2],n=i[p+3],j=i[p+4],r.push(f(g(m,k,l),V(n),V(j)));return c(g(a,b,d),V(h),r,V(o),e?V(e):null)},c.Case=f=function(){function a(c,d,e){var f;return f=this instanceof a?this:t(b),f.pos=c,null==d&&(d=eb(c)),null==e&&(e=eb(c)),d instanceof S||(d=l(c,d)),f.node=d,f.body=e.maybeToStatement(),f}var b;return b=a.prototype,a.displayName="SwitchCase",b.isLarge=function(){return!0},b.isSmall=function(){return!1},b.walk=function(b){var c,d,e;return e=null!=(c=b(this.node,this,"node"))?c:this.node.walk(b),d=null!=(c=b(this.body,this,"body"))?c:this.body.walk(b),e!==this.node||d!==this.body?a(this.pos,e,d):this},b.inspect=db.prototype.inspect,a}(),c}(kb),c.TryCatch=qb=function(b){function c(a,b,d,f,g){var h;return h=this instanceof c?this:t(e),h.pos=a,null==b&&(b=eb(a)),h.catchIdent=d,null==f&&(f=eb(a)),null==g&&(g=null),h.label=g,h.tryBody=b.maybeToStatement(),h.tryBody.isNoop()?h.tryBody:(h.catchBody=f.maybeToStatement(),h)}var d,e;return d=b.prototype,e=c.prototype=t(d),e.constructor=c,c.displayName="TryCatch","function"==typeof b.extended&&b.extended(c),e.compile=function(b,c,d,e){var f,g,h;if(1!==c)throw Error("Cannot compile a statement except on the Block level");null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(f=b.sourceMap)&&f.add(e.line,e.column,this.pos.line,this.pos.column),h=b.minify,null!=this.label&&(this.label.compile(b,c,d,e),e(":"),h||e(" ")),h?e("try{"):(e("try {"),e(b.linefeed||"\n")),g=a(b),h||e.indent(g.indent),this.tryBody.compileAsStatement(g,!0,e),h||(e(b.linefeed||"\n"),e.indent(b.indent)),e(h?"}catch(":"} catch ("),this.catchIdent.compile(b,2,!1,e),e(h?"){":") {"),this.catchBody.isNoop()||(h||(e(b.linefeed||"\n"),e.indent(g.indent)),this.catchBody.compileAsStatement(g,!0,e),h||(e(b.linefeed||"\n"),e.indent(b.indent))),e("}"),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile()},e.walk=function(a){var b,d,e,f,g;return g=null!=(b=a(this.tryBody,this,"tryBody"))?b:this.tryBody.walk(a),e=null!=(b=a(this.catchIdent,this,"catchIdent"))?b:this.catchIdent.walk(a),d=null!=(b=a(this.catchBody,this,"catchBody"))?b:this.catchBody.walk(a),f=null!=this.label?null!=(b=a(this.label,this,"label"))?b:this.label.walk(a):this.label,g!==this.tryBody||e!==this.catchIdent||d!==this.catchBody||f!==this.label?c(this.pos,g,e,d,f):this},e.typeId=28,e._toAst=function(a,b){return[this.tryBody.toAst(a,b),this.catchIdent.toAst(a,b),this.catchBody.toAst(a,b)].concat(this.label?[this.label.toAst(a,b)]:[])},c._fromAst=function(a,b,d,e,f){return c(a,b,d,e,f)},e._toJSON=function(){var a;return a=[this.label||0,k(this.tryBody,0),this.catchIdent],k(this.catchBody)&&a.push.apply(a,A(this.catchBody.toJSON())),a},c.fromJSON=function(a,b,d,e,f,h){var i;return i=z.call(arguments,6),c(g(a,b,d),V(f),V(h),V(i),e?V(e):null)},c}(kb),c.TryFinally=rb=function(b){function c(a,b,d,f){var g;if(g=this instanceof c?this:t(e),g.pos=a,null==b&&(b=eb(a)),null==d&&(d=eb(a)),null==f&&(f=null),g.label=f,g.tryBody=b.maybeToStatement(),g.finallyBody=d.maybeToStatement(),null==f){if(g.tryBody.isNoop())return g.finallyBody;if(g.finallyBody.isNoop())return g.tryBody}return g}var d,e;return d=b.prototype,e=c.prototype=t(d),e.constructor=c,c.displayName="TryFinally","function"==typeof b.extended&&b.extended(c),e.compile=function(b,c,d,e){var f,g,h;if(1!==c)throw Error("Cannot compile a statement except on the Block level");null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(f=b.sourceMap)&&f.add(e.line,e.column,this.pos.line,this.pos.column),h=b.minify,null!=this.label&&(this.label.compile(b,c,d,e),e(":"),h||e(" ")),h?e("try{"):(e("try {"),e(b.linefeed||"\n")),g=a(b),h||e.indent(g.indent),this.tryBody instanceof qb&&null==this.tryBody.label?(this.tryBody.tryBody.compileAsStatement(g,!0,e),h||(e(b.linefeed||"\n"),e.indent(b.indent)),e(h?"}catch(":"} catch ("),this.tryBody.catchIdent.compile(b,2,!1,e),e(h?"){":") {"),this.tryBody.catchBody.isNoop()||(h||(e(b.linefeed||"\n"),e.indent(g.indent)),this.tryBody.catchBody.compileAsStatement(g,!0,e),h||(e(b.linefeed||"\n"),e.indent(b.indent)))):(this.tryBody.compileAsStatement(g,!0,e),h||(e(b.linefeed||"\n"),e.indent(b.indent))),h?e("}finally{"):(e("} finally {"),e(b.linefeed||"\n")),h||e.indent(g.indent),this.finallyBody.compileAsStatement(g,!0,e),h||(e(b.linefeed||"\n"),e.indent(b.indent)),e("}"),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile()},e.walk=function(a){var b,d,e,f;return f=null!=(b=a(this.tryBody,this,"tryBody"))?b:this.tryBody.walk(a),d=null!=(b=a(this.finallyBody,this,"finallyBody"))?b:this.finallyBody.walk(a),e=null!=this.label?null!=(b=a(this.label,this,"label"))?b:this.label.walk(a):this.label,f!==this.tryBody||d!==this.finallyBody||e!==this.label?c(this.pos,f,d,e):this},e.typeId=29,e._toAst=function(a,b){return[this.tryBody.toAst(a,b),this.finallyBody.toAst(a,b)].concat(this.label?[this.label.toAst(a,b)]:[])},c._fromAst=function(a,b,d,e){return c(a,b,d,e)},e._toJSON=function(){var a;return a=[this.label||0,k(this.tryBody,0)],k(this.finallyBody)&&a.push.apply(a,A(this.finallyBody.toJSON())),a},c.fromJSON=function(a,b,d,e,f){var h;return h=z.call(arguments,5),c(g(a,b,d),V(f),V(h),e?V(e):null)},c}(kb),c.Unary=sb=function(a){function b(c,e,g){var h;if(h=this instanceof b?this:t(d),h.pos=c,h.op=e,null==g&&(g=eb(c)),!v(e,f))throw Error("Unknown unary operator: "+e);if(g instanceof a||(g=l(line,column,g)),!("delete"!==e||g instanceof G&&"."===g.op))throw Error("Cannot use delete operator on a non-access");return h.node=g,h}var c,d,e,f;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="Unary","function"==typeof a.extended&&a.extended(b),d.compile=function(a,c,d,e){var f,g;g=this.op,null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(f=a.sourceMap)&&f.add(e.line,e.column,this.pos.line,this.pos.column),"++post"===g||"--post"===g?(this.node.compile(a,16,!1,e),e(g.substring(0,2))):(e(g),("typeof"===g||"void"===g||"delete"===g||("+"===g||"-"===g||"++"===g||"--"===g)&&(this.node instanceof b&&("+"===g||"-"===g||"++"===g||"--"===g)||this.node instanceof N&&"number"==typeof this.node.value&&m(this.node.value)))&&e(" "),this.node.compile(a,16,!1,e)),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},d.compileAsBlock=function(a,b,c,d){var f;f=this.op,y.call(e,f)?this.compile(a,b,c,d):this.node.compileAsBlock(a,b,c,d)},d.compileAsStatement=function(a,b,d){var f;f=this.op,y.call(e,f)?c.compileAsStatement.call(this,a,b,d):this.node.compileAsStatement(a,b,d)},f=["++","--","++post","--post","!","~","+","-","typeof","void","delete"],e={"++":!0,"--":!0,"++post":!0,"--post":!0,"delete":!0},d.isLarge=function(){return this.node.isLarge()},d.isSmall=function(){return this.node.isSmall()},d.isAssign=function(){return y.call(e,this.op)},d.isNoop=function(){var a;return null==(a=this._isNoop)?this._isNoop=!y.call(e,this.op)&&this.node.isNoop():a},d.walk=function(a){var c,d;return d=null!=(c=a(this.node,this,"node"))?c:this.node.walk(a),d!==this.node?b(this.pos,this.op,d):this},d.typeId=30,d._toAst=function(a,b){return[N(a,this.op),this.node.toAst(a,b)]},b._fromAst=function(a,c,d){return b(a,c,d)},d._toJSON=function(){var a;return a=[this.op],k(this.node)&&a.push.apply(a,A(this.node.toJSON())),a},b.fromJSON=function(a,c,d,e){var f;return f=z.call(arguments,4),b(g(a,c,d),e,V(f))},b}(S),ub=c.While=function(a,b,c,d){return T(a,null,b,null,c,d)},F={1:D,2:E,3:G,4:J,5:I,6:K,7:L,8:M,9:N,10:O,11:P,12:Q,13:R,14:T,15:U,16:W,17:Y,18:_,19:$,20:eb,21:fb,22:hb,23:ib,24:jb,25:mb,26:nb,27:lb,28:qb,29:rb,30:sb},c.byTypeId=function(a,b,c,d){var e,f;return f=z.call(arguments,4),(e=F[a])._fromAst.apply(e,[g(b,c,d)].concat(A(f)))},V=c.fromJSON=function(a){var b,c;if(!a)return eb(g(0,0));if(w(a)){if(0===a.length)return eb(g(0,0));if(c=a[0],a.length<1||"number"!=typeof c)throw Error("Expected an array with a number as its first item, got "+B(c));if(!y.call(F,c))throw Error("Unknown node type: "+c);return(b=F[c]).fromJSON.apply(b,A(z.call(a,1)))}throw TypeError("Must provide an object or array to deserialize")},c.fromLiteral=r}.call(this),a.exports},b["./parser"]=function(){var a={exports:this};return function(c){function d(a){return a}function e(a){return function(){return a}}function f(a,b,c){var d,e,f;for(null==b&&(b=[]),null==c&&(c=0),e=a.length,d=+c,0>d&&(d+=e);e>d;++d)f=a[d],b.push(ce(f));return b}function g(a){return f(a).join("")}function h(a,b){return function(c){return function(d,e){var f;f=d[a],f.push(b);try{return c(d,e)}finally{f.pop()}}}}function i(a){var b,c,d,e,f,g,h;for(h=nb(null),b=xb(a),d=0,e=b.length;e>d;++d)if(g=b[d],"number"==typeof g)h[g]=!0;else for(f=+g[0],c=+g[1];c>=f;++f)h[f]=!0;return h}function j(a){return a.stack=Error().stack,a}function k(a,b){return j(function(c,d){return c.source.charCodeAt(d)===b?xc(+d+1,b):c.fail(a,d)})}function l(a,b){return j(function(c,d){var e;return e=c.source.charCodeAt(d),b[e]?xc(d+1,e):c.fail(a,d)})}function m(a){return"function"==typeof a.mutator&&"function"==typeof a.rule?m(a.rule):Hf(function(a){return!!a},a)}function n(a,b,c,e){var f;if(null==b&&(b=0),null==c&&(c=1/0),null==e&&(e=!1),0!==b%1||0>b)throw RangeError("Expected minimum to be a non-negative integer, got "+b);if(c!==1/0&&0!==c%1||b>c)throw RangeError("Expected maximum to be Infinity or an integer of at least "+b+", got "+c);return f=d,e?j(function(d,e){var f,g,h;for(f=0;c>f;){if(g=a(d,e),!g){if(b>f)return;break}if(++f,h=g.index,h===e)throw Error("Infinite loop detected");e=h}return xc(e,f)}):f===d?j(function(d,e){var f,g,h,i;for(i=[],f=0;c>f;){if(g=a(d,e),!g){if(b>f)return;break}if(i[f]=g.value,++f,h=g.index,h===e)throw Error("Infinite loop detected");e=h}return xc(e,i)}):j(Hf(function(a,b){var c,d,e,g,h;for(c=[],d=xb(a),e=0,g=d.length;g>e;++e)h=d[e],c.push(f(h.value,b,h.startIndex,h.endIndex));return c},function(d,e){var f,g,h,i;for(i=[],f=0;c>f;){if(g=a(d,e),!g){if(b>f)return;break}if(h=g.index,i[f]={startIndex:e,endIndex:h,value:g.value},h===e)throw Error("Infinite loop detected");e=h,++f}return xc(e,i)}))}function o(a,b){return n(a,0,1/0,b)}function p(a,b){return n(a,1,1/0,b)}function q(a,b){var c;return c={},"function"==typeof b?Hf(function(a,d,e){return a===c?b(d,e):a},j(function(b,d){return a(b,d)||xc(d,c)})):j(function(c,d){return a(c,d)||xc(d,b)})}function r(){var a,b,c,d,e,f,g,h,i,k;switch(i=wb.call(arguments),i.length){case 0:throw Error("Expected rules to be non-empty");case 1:return i[0];default:for(f=[],b=0,d=i.length;d>b;++b)if(h=i[b],h.oneOf)for(a=xb(h.oneOf),c=0,e=a.length;e>c;++c)k=a[c],f.push(k);else f.push(h);return g=function(a,b){var c,d,e,g;for(d=0,c=f.length;c>d;++d)if(g=f[d],e=g(a,b))return e},g.oneOf=f,j(g)}}function s(){var a;return a=wb.call(arguments),o(r.apply(void 0,xb(a)))}function t(){var a;return a=wb.call(arguments),p(r.apply(void 0,xb(a)))}function u(a){return function(b,c){var d;return d=a(b,c),d?xc(c):void 0}}function v(){var a,b,c,d,e,f,g,h,i,k,l,m,n,o,p;if(f=wb.call(arguments),0===f.length)throw Error("Expected items to be non-empty");if(1===f.length)if(tb(f[0])){if("this"===f[0][0])return f[0][1]}else if("function"==typeof f[0])return m=f[0],function(a,b){var c;return(c=m(a,b))?xc(c.index):void 0};for(n=[],i=[],h=[],k=[],p=-1,c=!1,o=1/0,b=!1,d=0,a=f.length;a>d;++d){if(e=f[d],g=void 0,m=void 0,tb(e)){if(2!==e.length)throw Error("Found an array with "+e.length+" length at index #"+d);if("string"!=typeof e[0])throw TypeError("Array in index #"+d+" has an improper key: "+zb(e[0]));if("function"!=typeof e[1])throw TypeError("Array in index #"+d+" has an improper rule: "+zb(e[1]));if(g=e[0],sb(g,h))throw Error("Can only have one "+JSON.stringify(g)+" key in sequential");h.push(g),m=e[1],"this"===g?p=n.length:c=!0}else{if("function"!=typeof e){if(e===dh){if(o!==1/0)throw Error("Can only have one SHORT_CIRCUIT per sequential");o=d;continue}throw TypeError("Found a non-array, non-function in index #"+d+": "+zb(e))}m=e}k.push(null),n.push(m),i.push(g)}if(-1!==p){if(c)throw Error("Cannot specify both the 'this' key and another key");return b?(l=k[p],j(Hf(function(a,b){return l(a.value,b,a.startIndex,a.endIndex)},function(a,b){var c,d,e,f,g,h;for(h=0,d=0,c=n.length;c>d;++d){if(g=n[d],e=g(a,b),!e){if(o>d)return;throw dh}d===p&&(f={value:e.value,startIndex:b,endIndex:e.index}),b=e.index}return xc(b,f)}))):j(function(a,b){var c,d,e,f,g;for(d=0,c=n.length;c>d;++d){if(g=n[d],e=g(a,b),!e){if(o>d)return;throw dh}b=e.index,d===p&&(f=e.value)}return xc(b,f)})}if(c)return b?j(Hf(function(a,b){var c,d,e,f,g,i;for(i={},d=0,c=h.length;c>d;++d)f=h[d],f&&(e=a[f],g=k[d],i[f]=g?g(e.value,b,e.startIndex,e.endIndex):e.value);return i},function(a,b){var c,d,e,f,g,h,j;for(h={},e={},d=0,c=n.length;c>d;++d){if(j=n[d],f=j(a,b),!f){if(o>d)return;throw dh}g=i[d],g&&(h[g]={value:f.value,startIndex:b,endIndex:f.index}),b=f.index}return xc(b,h)})):j(function(a,b){var c,d,e,f,g,h;for(h={},c=0,f=n.length;f>c;++c){if(g=n[c],d=g(a,b),!d){if(o>c)return;throw dh}b=d.index,e=i[c],e&&(h[e]=d.value)}return xc(b,h)});if(b)throw Error("Cannot use a mutator on a sequential without keys");return j(function(a,b){var c,d,e,f;for(d=0,c=n.length;c>d;++d){if(f=n[d],e=f(a,b),!e){if(o>d)return;throw dh}b=e.index}return xc(b)})}function w(a,b){return j(function(c,d){var e,f;return e=a(c,d),e&&(f=b(c,e.index))?xc(f.index,[e.value].concat(f.value)):void 0})}function x(a,b){return j(function(c,d){var e,f;return e=a(c,d),e&&(f=b(c,e.index))?xc(f.index,e.value.concat(f.value)):void 0})}function y(a,b){return xc(b)}function z(a,b,c){return null==b&&(b=y),null==c&&(c=a),j(function(d,e){var f,g,h,i,j,k,l;if(g=a(d,e)){for(f=g.index,k=[g.value],h=0;(l=b(d,f),l)&&(i=c(d,l.index),i);++h){if(j=i.index,j===f)throw Error("Infinite loop detected");f=j,k.push(i.value)}return xc(f,k)}})}function A(a){return j(function(b,c){return a(b,c)?void 0:xc(c)})}function B(a){return j(function(b,c){return a(b,c)?void 0:C(b,c)})}function C(a,b){var c,d;return d=a.source,b>=d.length?a.fail("any",b):(c=d.charCodeAt(b),13===c&&10===d.charCodeAt(+b+1)&&(++b,c=10),xc(+b+1,c))}function D(a,b){var c,d;if(d=a.source,c=d.charCodeAt(b),13===c)10===d.charCodeAt(+b+1)&&(++b,c=10);else if(10!==c&&8232!==c&&8233!==c)return;return xc(+b+1,c)}function E(a,b){return b>=a.source.length?xc(b):void 0}function F(a){return v(kh,["this",a])}function G(a,b){return a.options.noindent?Rd(a,b):xc(b)}function H(a,b){var c;return c=JSON.stringify(b),function(d,e){var f;return f=a(d,e),f&&f.value===b?f:d.fail(c,e)}}function I(a){var b;return b=nb(null),function(c){return ub.call(b,c)?b[c]:b[c]=a(c)}}function J(a,b){return a.options.noindent?void 0:xc(b)}function K(a,b){var c;return c=bd(a,b),a.options.noindent||c.value===a.indent.peek()?c:void 0}function L(a,b){var c,d,e;if(a.options.noindent)throw Error("Can't use Advance if in noindent mode");return c=bd(a,b),d=c.value,e=a.indent,d>e.peek()?(e.push(d),xc(b,d)):void 0}function M(a,b){var c;return c=bd(a,b),a.indent.push(c.value),xc(b,c.value)}function N(a){return function(b,c){var d;return d=b.indent,d.push(d.peek()- -a),xc(c,0)}}function O(a,b){var c;if(c=a.indent,c.canPop())return c.pop(),xc(b);throw zg("Unexpected dedent",a,b)}function P(a){return function(b,c){var d,e,f,g;g=b.indent,e=g.count();try{return a(b,c)}finally{for(f=+e,d=+g.count();d>f;++f)g.pop()}}}function Q(a){var b;return b=z(p(a),p(gi,!0)),Hf(function(a){var b,c,d,e,g;for(g=[],b=xb(a),c=0,d=b.length;d>c;++c)e=b[c],f(e,g);return g.join("")})(b)}function R(a,b,c,d){var e,f,g,h,i,j,k;if(null==d&&(d=0),0!==d%1)throw RangeError("Expected exponent to be an integer, got "+d);for(;d>0;)a+=b.charAt(0)||"0",b=b.substring(1),--d;for(;0>d;)b=a.slice(-1)+b,a=a.slice(0,-1),++d;for(h=0,e=0,f=a.length;f>e;++e)g=a.charAt(e),h=h*c+parseInt(g,c);if(b){for(j=0,i=0,k=0,f=b.length;f>k&&(g=b.charAt(k),!(j>=4503599627370496/c));++k)j=j*c+parseInt(g,c),++i;h+=j/Math.pow(c,i)}return h}function S(a,b,c){var d,e;return e=Q(c),d=v(pi,["separator",b],dh,["integer",e],["fraction",q(v(Ef,Cg,Ef,["this",e]),"")],Ef),Hf(function(b,c,d,e){var f,g,h,i;if(h=b.separator,g=b.integer,f=b.fraction,i=R(g,f,a),!isFinite(i))throw zg("Unable to parse number "+Pg(c.source.substring(d,e)),c,d);return c.Const(d,i)})(d)}function T(a,b,c){var d,e,f,h,i,j;for(j=[],h=[],d=xb(a),e=0,f=d.length;f>e;++e)i=d[e],"number"==typeof i?h.push(i):i instanceof Yf||(j.push(b.Const(c,g(h))),h=[],j.push(i));return h.length>0&&j.push(b.Const(c,g(h))),j}function U(a,b){var c,d,e,f,g;for(d=0,e=a.indent.peek(),f=b;e>d&&(c=lh(a,f));){if(f=c.index,g=Ne[c.value],!g)throw Error("Unexpected indent char: "+JSON.stringify(c.value));d+=+g}if(d>e)throw zg("Mixed tabs and spaces in string literal",a,f);return d===e||D(a,f)?xc(f,d):void 0}function V(a,b,c){var d,e,f,g,h,i,j,k,l;for(j=[a.first],(0===j[0].length||1===j[0].length&&""===j[0][0])&&j.shift(),g=1,d=+a.numEmptyLines;d>g;++g)j.push([""]);for(j.push.apply(j,xb(a.rest)),h=j.length,h>0&&(0===j[h-1].length||1===j[h-1].length&&""===j[h-1][0])&&(j.pop(),--h),l=[],g=0,e=j.length;e>g;++g)i=j[g],g>0&&l.push("\n"),l.push.apply(l,xb(i));for(f=l.length-2;f>=0;--f)"string"==typeof l[f]&&"string"==typeof l[f+1]&&l.splice(f,2,""+l[f]+l[f+1]);for(f=0,e=l.length;e>f;++f)k=l[f],"string"==typeof k&&(l[f]=b.Const(c,k));return l}function W(a,b){var c;return c=v(a,dh,["first",b],["numEmptyLines",o(v(kh,["this",D]),!0)],["rest",q(P(v(M,["this",q(z(v(U,["this",b]),D),function(){return[]})],q(D),O)),function(){return[]})],a),Hf(function(a,b,c){var d,e,f,g,h,i;for(d=[],e=V(a,b,c),f=0,g=e.length;g>f;++f)h=e[f],h.isConstValue("")||d.push(h);return i=d,0===i.length?b.Const(c,""):1===i.length&&i[0].isConstType("string")?i[0]:b.string(c,i)})(c)}function X(a,b){var c,d,e,f,g,h;if(f=If(a,b),f&&(h=a.getConst(f.value))){if(a.inAst.peek())return xc(f.index,a.MacroConst(b,f.value));for(c=h.value,d=f.index;"object"==typeof c&&null!==c;){if(g=Yc(a,d),!g)throw zg("Constant '"+f.value+"' cannot appear without being accessed upon.",a,b);if(!g.value.isConst())throw zg("Constant '"+f.value+"' must only be accessed with constant keys.",a,d);if(e=g.value.constValue(),!ub.call(c,e))throw zg("Unknown key "+JSON.stringify(String(e))+" in constant.",a,d);c=c[e],d=g.index}return xc(d,a.Const(b,c))}}function Y(a,b){var c;return c=X(a,b),c&&null==c.value.value?c:void 0}function Z(a,b,c){var d;return d=b.getMacroByLabel("mutateFunction"),d?d.func({op:"",node:a},b,c):a}function $(a,b){var c,d,e,f,g;for(g=0,c=xb(a),d=0,e=c.length;e>d;++d)if(f=c[d],f instanceof ug&&f.spread&&(++g,g>1))throw zg("Cannot have more than one spread parameter",b,f.index);return a}function _(a){for(var b;a.length&&(b=a[a.length-1],b instanceof Yf);)a.pop();return a}function ab(a,b){function c(b,c){return function(d,e){return g.func({left:d,op:b,right:c},a,e)}}var d,e,f,g,h,i;for(d=xb(a.assignOperators()),e=d.length;e--;)if(g=d[e],i=g.rule,f=i(a,b),f&&(h=_d(a,f.index)))return xc(h.index,c(f.value,h.value))}function bb(a,b){var c,d;return c=ye(a,b),c&&(d=ab(a,c.index))?xc(d.index,d.value(c.value,b)):void 0}function cb(a,b){var c,d,e,f,g,h,i;for(c=xb(a.allBinaryOperators()),d=c.length;d--;)if(i=c[d],g=!1,e=b,i.invertible&&(f=Bf(a,b),f.value&&(g=!0),e=f.index),h=i.rule(a,e))return xc(h.index,{op:h.value,operator:i,inverted:g})}function db(a,b){return a.disallowSpaceBeforeAccess.peek()?xc(b):Qd(a,b)}function eb(a,b){return a.disallowSpaceBeforeAccess.peek()?xc(b):kh(a,b)}function fb(a,b){var c,d,e,f,g;for(c=xb(a),d=0,e=c.length;e>d;++d)g=c[d],g instanceof Dh&&(f=g.ident,f instanceof Ee&&b.add(f,!0,Xh.any))}function gb(a){return a.replace(/\s+/g," ")}function hb(a,b){var c,d,e,f,h,i;for(h=a.source,f=h.length,e=b,d=[];f>e&&!(Gd(a,e)||Id(a,e)||Hd(a,e));++e)c=h.charCodeAt(e),13===c&&10===h.charCodeAt(e+1)&&(c=10,++e),d.push(c);return e!==b?(i=g(d),a.options.embeddedUnpretty&&(i=gb(i)),xc(e,a.EmbedWrite(b,a.Const(b,i),!1))):void 0}function ib(a,b){var c,d,e,f,g;if(g=Hd(a,b)){for(e=g.index,f=a.source.length;f>e;){if(d=Bd(a,e)){e=d.index;break}if(c=C(a,e),!c)break;if(e===c.index)throw Error("Infinite loop detected");e=c.index}return xc(e,a.Nothing(b))}}function jb(a,b,c){var d,e,f,g,h,i,j,k,l;for(k=[],d=xb(a),h=0,f=d.length;f>h;++h)for(i=d[h],e=xb(i),j=0,g=e.length;g>j;++j){if(l=e[j],!(l instanceof Nf))throw TypeError("Expected lines["+h+"]["+j+"] to be a Node, got "+zb(l));l instanceof qc&&null==i.label?k.push.apply(k,xb(l.nodes)):l instanceof Yf||k.push(l)}switch(k.length){case 0:return b.Nothing(c);case 1:return k[0];default:return b.Block(c,k)}}function kb(){return jf({Logic:Kg(cf),Expression:Yd,Assignment:bb,ExpressionOrAssignment:$d,ExpressionOrAssignmentOrBody:_d,FunctionDeclaration:ee,Statement:rh,Body:rc,BodyNoEnd:sc,GeneratorBody:je,GeneratorBodyNoEnd:ke,End:G,Identifier:ve,SimpleAssignable:ze,Parameter:qg,InvocationArguments:Te,ObjectLiteral:Ub,ArrayLiteral:Tb,DedentedBody:hd,ObjectKey:ag,Type:_h,NoSpace:Rf,ColonEqual:Qc},lf,ni,r,v)}var lb,mb,nb,ob,pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,_b,ac,bc,cc,dc,ec,fc,gc,hc,ic,jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Kc,Lc,Mc,Nc,Oc,Pc,Qc,Rc,Sc,Tc,Uc,Vc,Wc,Xc,Yc,Zc,$c,_c,ad,bd,cd,dd,ed,fd,gd,hd,id,jd,kd,ld,md,nd,od,pd,qd,rd,sd,td,ud,vd,wd,xd,yd,zd,Ad,Bd,Cd,Dd,Ed,Fd,Gd,Hd,Id,Jd,Kd,Ld,Md,Nd,Od,Pd,Qd,Rd,Sd,Td,Ud,Vd,Wd,Xd,Yd,Zd,$d,_d,ae,be,ce,de,ee,fe,ge,he,ie,je,ke,le,me,ne,oe,pe,qe,re,se,te,ue,ve,we,xe,ye,ze,Ae,Be,Ce,De,Ee,Fe,Ge,He,Ie,Je,Ke,Le,Me,Ne,Oe,Pe,Qe,Re,Se,Te,Ue,Ve,We,Xe,Ye,Ze,$e,_e,af,bf,cf,df,ef,ff,gf,hf,jf,kf,lf,mf,nf,of,pf,qf,rf,sf,tf,uf,vf,wf,xf,yf,zf,Af,Bf,Cf,Df,Ef,Ff,Gf,Hf,If,Jf,Kf,Lf,Mf,Nf,Of,Pf,Qf,Rf,Sf,Tf,Uf,Vf,Wf,Xf,Yf,Zf,$f,_f,ag,bg,cg,dg,eg,fg,gg,hg,ig,jg,kg,lg,mg,ng,og,pg,qg,rg,sg,tg,ug,vg,wg,xg,yg,zg,Ag,Bg,Cg,Dg,Eg,Fg,Gg,Hg,Ig,Jg,Kg,Lg,Mg,Ng,Og,Pg,Qg,Rg,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,_g,ah,bh,ch,dh,eh,fh,gh,hh,ih,jh,kh,lh,mh,nh,oh,ph,qh,rh,sh,th,uh,vh,wh,xh,yh,zh,Ah,Bh,Ch,Dh,Eh,Fh,Gh,Hh,Ih,Jh,Kh,Lh,Mh,Nh,Oh,Ph,Qh,Rh,Sh,Th,Uh,Vh,Wh,Xh,Yh,Zh,$h,_h,ai,bi,ci,di,ei,fi,gi,hi,ii,ji,ki,li,mi,ni,oi,pi;Ob=this,lb=function(a,b){var c;if(null==a)throw TypeError("Expected parent to be an object, got "+zb(a));if(c=a[b],"function"!=typeof c)throw Error("Trying to bind child '"+String(b)+"' which is not a function");return function(){return c.apply(a,arguments)}},mb=function(a,b){var c;if(a===b)return 0;if(c=typeof a,"number"!==c&&"string"!==c)throw TypeError("Cannot compare a non-number/string: "+c);if(c!==typeof b)throw TypeError("Cannot compare elements of different types: "+c+" vs "+typeof b);return b>a?-1:1},nb="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},ob=function(a,b){var c;if("number"!=typeof a)throw TypeError("Expected numArgs to be a Number, got "+zb(a));if("function"!=typeof b)throw TypeError("Expected f to be a Function, got "+zb(b));return a>1?(c=function(d){var e;return d.length>=a?b.apply(this,d):e=function(){return 0===arguments.length?e:c.call(this,d.concat(wb.call(arguments)))}},c([])):b},pb=function(){function a(){function b(a,b){var f;c&&(f=c,c=null,d=a,e=b,f.length&&ah(function(){var a,b;for(b=0,a=f.length;a>b;++b)f[b]()}))}var c,d,e;return d=!1,e=null,c=[],{promise:{then:function(b,f,g){function h(){var a,c;try{a=d?f:b,"function"==typeof a?(c=a(e),c&&"function"==typeof c.then?c.then(j,l,g):j(c)):(d?l:j)(e)}catch(h){l(h)}}var i,j,k,l;return g!==!0&&(g=void 0),i=a(),k=i.promise,j=i.fulfill,l=i.reject,c?c.push(h):g?h():ah(h),k},sync:function(){var a,b;switch(b=0,a=0,this.then(function(c){return b=1,a=c},function(c){return b=2,a=c},!0),b){case 0:throw Error("Promise did not execute synchronously");case 1:return a;case 2:throw a;default:throw Error("Unknown state")}}},fulfill:function(a){b(!1,a)},reject:function(a){b(!0,a)}}}return a.fulfilled=function(b){var c;return c=a(),c.fulfill(b),c.promise},a.rejected=function(b){var c;return c=a(),c.reject(b),c.promise},a}(),qb=function(a,b){function c(c,f){var g;try{g=a[c](f)}catch(h){return pb.rejected(h)}return g.done?pb.fulfilled(g.value):g.value.then(d,e,b)}function d(a){return c("send",a)}function e(a){return c("throw",a)}if("object"!=typeof a||null===a)throw TypeError("Expected generator to be an Object, got "+zb(a));if("function"!=typeof a.send)throw TypeError("Expected generator.send to be a Function, got "+zb(a.send));if("function"!=typeof a["throw"])throw TypeError("Expected generator.throw to be a Function, got "+zb(a["throw"]));if(null==b)b=!1;else if("boolean"!=typeof b)throw TypeError("Expected allowSync to be a Boolean, got "+zb(b));return d(void 0)},rb=function(a,b){var c;for(c in b)ub.call(b,c)&&(a[c]=b[c]);return a},sb="function"==typeof Array.prototype.indexOf?function(){var a;return a=Array.prototype.indexOf,function(b,c){return-1!==a.call(c,b)}}():function(a,b){var c,d;for(d=+b.length,c=-1;++c<d;)if(a===b[c]&&c in b)return!0;return!1},tb="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),ub=Object.prototype.hasOwnProperty,vb=function(a,b){var c;if(null==b)b=!1;else if("boolean"!=typeof b)throw TypeError("Expected allowSync to be a Boolean, got "+zb(b));return"function"==typeof a?(c=function(){return qb(a.apply(this,arguments))},c.sync=function(){return qb(a.apply(this,arguments),!0).sync()},c.maybeSync=function(){return qb(a.apply(this,arguments),!0)},c):qb(a,b)},wb=Array.prototype.slice,xb=function(a){if(null==a)throw TypeError("Expected an object, got "+zb(a));if(tb(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return wb.call(a);throw TypeError("Expected an object with a length property, got "+zb(a))},yb=function(a,b,c){var d;if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+zb(a));return d=pb(),a.apply(b,xb(c).concat([function(a,b){null!=a?d.reject(a):d.fulfill(b)}])),d.promise},zb=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),ah="function"==typeof c.setImmediate?c.setImmediate:"undefined"!=typeof process&&"function"==typeof process.nextTick?function(){var a;return a=process.nextTick,function(b){var c;if("function"!=typeof b)throw TypeError("Expected func to be a Function, got "+zb(b));return c=wb.call(arguments,1),c.length?a(function(){b.apply(void 0,xb(c))
}):a(b)}}():function(a){var b;if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+zb(a));return b=wb.call(arguments,1),b.length?setTimeout(function(){a.apply(void 0,xb(b))},0):setTimeout(a,0)},Nf=b("./parser-nodes"),Yg=b("./parser-scope"),gf=b("./parser-macrocontext"),jf=b("./parser-macroholder"),Xh=b("./types"),uh=b("./utils").stringRepeat,Rb=b("./parser-utils").addParamToScope,Kb=b("./utils"),Pg=Kb.quote,ii=Kb.unique,me=Kb.getPackageVersion,Qb=Nf.Access,Pb=Nf.AccessMulti,Vb=Nf.Args,Yb=Nf.Array,ac=Nf.Assign,mc=Nf.Binary,qc=Nf.Block,zc=Nf.Break,Bc=Nf.Call,Wc=Nf.Comment,Zc=Nf.Const,_c=Nf.Continue,ed=Nf.Debugger,nd=Nf.Def,Nd=Nf.EmbedWrite,Wd=Nf.Eval,be=Nf.For,ae=Nf.ForIn,he=Nf.Function,Ee=Nf.Ident,Fe=Nf.If,df=Nf.MacroAccess,ff=Nf.MacroConst,Yf=Nf.Nothing,dg=Nf.Object,ug=Nf.Param,Sg=Nf.Regexp,Ug=Nf.Return,Wg=Nf.Root,nh=Nf.Spread,wh=Nf.Super,xh=Nf.Switch,Bh=Nf.SyntaxChoice,Ch=Nf.SyntaxMany,Dh=Nf.SyntaxParam,Eh=Nf.SyntaxSequence,Gh=Nf.This,Kh=Nf.Throw,Lh=Nf.Tmp,Mh=Nf.TmpWrapper,Vh=Nf.TryCatch,Wh=Nf.TryFinally,Yh=Nf.TypeFunction,Zh=Nf.TypeGeneric,$h=Nf.TypeObject,ai=Nf.TypeUnion,bi=Nf.Unary,li=Nf.Var,oi=Nf.Yield,zg=function(a){function b(c,e,f){var g,h,i;return g=this instanceof b?this:nb(d),null==c&&(c=""),g.message=c,null==e&&(e=null),null==f&&(f=0),g.index=f,e?(g.source=e.source,g.filename=e.options.filename,i=e.getPosition(f),g.line=i.line,g.column=i.column,g.message=c+(" at "+(g.filename?g.filename+":":"")+g.line+":"+g.column)):(g.line=0,g.column=0),h=a.call(g,g.message),"function"==typeof a.captureStackTrace?a.captureStackTrace(g,b):"stack"in h&&(g.stack=h.stack),g}var c,d;return c=a.prototype,d=b.prototype=nb(c),d.constructor=b,b.displayName="ParserError","function"==typeof a.extended&&a.extended(b),d.name="ParserError",b}(Error),hf=function(a){function b(c,e,f){var g,h,i,j;return g=this instanceof b?this:nb(d),null==c&&(c=""),null==e&&(e=null),null==f&&(f=0),g.index=f,e?(g.source=e.source,g.filename=e.options.filename,j=e.getPosition(f),g.line=j.line,g.column=j.column,i=[],c instanceof a?("Error"!==zb(c)&&(i.push(zb(c)),i.push(": ")),i.push(String(c.message))):i.push(String(c)),i.push(" at "),g.filename&&(i.push(String(g.filename)),i.push(":")),g._message=i.join(""),i.push(g.line),i.push(":"),i.push(g.column),g.message=i.join("")):(g.line=0,g.column=0,g._message="",g.message=""),h=a.call(g,g.message),"function"==typeof a.captureStackTrace?a.captureStackTrace(g,b):"stack"in h&&(g.stack=h.stack),c instanceof a&&(g.inner=c),g}var c,d;return c=a.prototype,d=b.prototype=nb(c),d.constructor=b,b.displayName="MacroError","function"==typeof a.extended&&a.extended(b),d.name="MacroError",d.setPosition=function(){},b}(Error),xc=function(){function a(c,d){var e;if(e=this instanceof a?this:nb(b),e.index=c,e.value=d,0!==c%1||0>c)throw RangeError("Expected index to be a non-negative integer, got "+c);return e}var b;return b=a.prototype,a.displayName="Box",a}(),Ac=function(){var a;return a=-1,function(b){function c(a,c){var e,f,g,h,i,j,k,l;return g=a.cache,h=a.indent.peek(),i=null!=(e=g[h])?e:g[h]=[],j=null!=(e=i[f=c%16])?e:i[f]=[],k=j[d],k&&k.start===c?k.result:(l=b(a,c),j[d]={start:c,result:l},l)}var d;return d=++a,c}}(),ce=function(){var a;return a=String.fromCharCode,function(b){return b>65535?""+a((b-65536>>10)+55296)+a((b-65536)%1024+56320):a(b)}}(),Hf=ob(2,function(a,b){function c(c,d){var e;return e=b(c,d),e?xc(e.index,a(e.value,c,d,e.index)):void 0}return a===d?b:("function"!=typeof a&&(a=e(a)),c.rule=b,c.mutator=a,j(c))}),dh={},lh=l("space",i([9,11,12,32,160,5760,6158,[8192,8202],8239,8287,12288,65263])),mh=Ac(o(lh,!0)),pi=k('"0"',48),fd=l("[0-9]",i([[48,57]])),Cg=k('"."',46),Nc=k('":"',58),td=Ac((Kb=v(Nc,Nc),Hf("::")(Kb))),Fg=k('"|"',124),Sd=k('"="',61),Gf=k('"-"',45),Gg=k('"+"',43),Hg=l("[+\\-]",i([43,45])),$e=l("letter",i([[65,90],[97,122],170,181,186,[192,214],[216,246],[248,705],[710,721],[736,740],748,750,[880,884],886,887,[890,893],902,[904,906],908,[910,929],[931,1013],[1015,1153],[1162,1317],[1329,1366],1369,[1377,1415],[1488,1514],[1520,1522],[1569,1610],1646,1647,[1649,1747],1749,1765,1766,1774,1775,[1786,1788],1791,1808,[1810,1839],[1869,1957],1969,[1994,2026],2036,2037,2042,[2048,2069],2074,2084,2088,[2308,2361],2365,2384,[2392,2401],2417,2418,[2425,2431],[2437,2444],2447,2448,[2451,2472],[2474,2480],2482,[2486,2489],2493,2510,2524,2525,[2527,2529],2544,2545,[2565,2570],2575,2576,[2579,2600],[2602,2608],2610,2611,2613,2614,2616,2617,[2649,2652],2654,[2674,2676],[2693,2701],[2703,2705],[2707,2728],[2730,2736],2738,2739,[2741,2745],2749,2768,2784,2785,[2821,2828],2831,2832,[2835,2856],[2858,2864],2866,2867,[2869,2873],2877,2908,2909,[2911,2913],2929,2947,[2949,2954],[2958,2960],[2962,2965],2969,2970,2972,2974,2975,2979,2980,[2984,2986],[2990,3001],3024,[3077,3084],[3086,3088],[3090,3112],[3114,3123],[3125,3129],3133,3160,3161,3168,3169,[3205,3212],[3214,3216],[3218,3240],[3242,3251],[3253,3257],3261,3294,3296,3297,[3333,3340],[3342,3344],[3346,3368],[3370,3385],3389,3424,3425,[3450,3455],[3461,3478],[3482,3505],[3507,3515],3517,[3520,3526],[3585,3632],3634,3635,[3648,3654],3713,3714,3716,3719,3720,3722,3725,[3732,3735],[3737,3743],[3745,3747],3749,3751,3754,3755,[3757,3760],3762,3763,3773,[3776,3780],3782,3804,3805,3840,[3904,3911],[3913,3948],[3976,3979],[4096,4138],4159,[4176,4181],[4186,4189],4193,4197,4198,[4206,4208],[4213,4225],4238,[4256,4293],[4304,4346],4348,[4352,4680],[4682,4685],[4688,4694],4696,[4698,4701],[4704,4744],[4746,4749],[4752,4784],[4786,4789],[4792,4798],4800,[4802,4805],[4808,4822],[4824,4880],[4882,4885],[4888,4954],[4992,5007],[5024,5108],[5121,5740],[5743,5759],[5761,5786],[5792,5866],[5888,5900],[5902,5905],[5920,5937],[5952,5969],[5984,5996],[5998,6e3],[6016,6067],6103,6108,[6176,6263],[6272,6312],6314,[6320,6389],[6400,6428],[6480,6509],[6512,6516],[6528,6571],[6593,6599],[6656,6678],[6688,6740],6823,[6917,6963],[6981,6987],[7043,7072],7086,7087,[7168,7203],[7245,7247],[7258,7293],[7401,7404],[7406,7409],[7424,7615],[7680,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8124],8126,[8130,8132],[8134,8140],[8144,8147],[8150,8155],[8160,8172],[8178,8180],[8182,8188],8305,8319,[8336,8340],8450,8455,[8458,8467],8469,[8473,8477],8484,8486,8488,[8490,8493],[8495,8505],[8508,8511],[8517,8521],8526,8579,8580,[11264,11310],[11312,11358],[11360,11492],[11499,11502],[11520,11557],[11568,11621],11631,[11648,11670],[11680,11686],[11688,11694],[11696,11702],[11704,11710],[11712,11718],[11720,11726],[11728,11734],[11736,11742],11823,12293,12294,[12337,12341],12347,12348,[12353,12438],[12445,12447],[12449,12538],[12540,12543],[12549,12589],[12593,12686],[12704,12727],[12784,12799],[13312,19893],[19968,40907],[40960,42124],[42192,42237],[42240,42508],[42512,42527],42538,42539,[42560,42591],[42594,42606],[42623,42647],[42656,42725],[42775,42783],[42786,42888],42891,42892,[43003,43009],[43011,43013],[43015,43018],[43020,43042],[43072,43123],[43138,43187],[43250,43255],43259,[43274,43301],[43312,43334],[43360,43388],[43396,43442],43471,[43520,43560],[43584,43586],[43588,43595],[43616,43638],43642,[43648,43695],43697,43701,43702,[43705,43709],43712,43714,[43739,43741],[43968,44002],[44032,55203],[55216,55238],[55243,55291],[63744,64045],[64048,64109],[64112,64217],[64256,64262],[64275,64279],64285,[64287,64296],[64298,64310],[64312,64316],64318,64320,64321,64323,64324,[64326,64433],[64467,64829],[64848,64911],[64914,64967],[65008,65019],[65136,65140],[65142,65262],[65264,65276],[65313,65338],[65345,65370],[65382,65470],[65474,65479],[65482,65487],[65490,65495],[65498,65500]])),$f=l("number",i([[48,57],178,179,185,[188,190],[1632,1641],[1776,1785],[1984,1993],[2406,2415],[2534,2543],[2548,2553],[2662,2671],[2790,2799],[2918,2927],[3046,3058],[3174,3183],[3192,3198],[3302,3311],[3430,3445],[3664,3673],[3792,3801],[3872,3891],[4160,4169],[4240,4249],[4969,4988],[5870,5872],[6112,6121],[6128,6137],[6160,6169],[6470,6479],[6608,6618],[6784,6793],[6800,6809],[6992,7001],[7088,7097],[7232,7241],[7248,7257],8304,[8308,8313],[8320,8329],[8528,8578],[8581,8585],[9312,9371],[9450,9471],[10102,10131],11517,12295,[12321,12329],[12344,12346],[12690,12693],[12832,12841],[12881,12895],[12928,12937],[12977,12991],[42528,42537],[42726,42735],[43056,43061],[43216,43225],[43264,43273],[43472,43481],[43600,43609],[44016,44025],[65296,65305]])),gi=k('"_"',95),rd=k('"$"',36),gc=k('"@"',64),re=k('"#"',35),Bg=k('"%"',37),Ud=k('"="',61),Ah=l("symbolic",i([33,35,37,38,42,43,45,47,[60,63],92,94,96,124,126,127,[128,159],[161,169],[171,177],180,[182,184],187,191,215,247,[706,709],[722,735],[741,747],749,[751,879],885,888,889,[894,901],903,907,909,930,1014,[1154,1161],[1318,1328],1367,1368,[1370,1376],[1416,1487],[1515,1519],[1523,1568],[1611,1631],[1642,1645],1648,1748,[1750,1764],[1767,1773],1789,1790,[1792,1807],1809,[1840,1868],[1958,1968],[1970,1983],[2027,2035],[2038,2041],[2043,2047],[2070,2073],[2075,2083],[2085,2087],[2089,2307],[2362,2364],[2366,2383],[2385,2391],[2402,2405],2416,[2419,2424],[2432,2436],2445,2446,2449,2450,2473,2481,[2483,2485],[2490,2492],[2494,2509],[2511,2523],2526,[2530,2533],2546,2547,[2554,2564],[2571,2574],2577,2578,2601,2609,2612,2615,[2618,2648],2653,[2655,2661],2672,2673,[2677,2692],2702,2706,2729,2737,2740,[2746,2748],[2750,2767],[2769,2783],[2786,2789],[2800,2820],2829,2830,2833,2834,2857,2865,2868,[2874,2876],[2878,2907],2910,[2914,2917],2928,[2930,2946],2948,[2955,2957],2961,[2966,2968],2971,2973,[2976,2978],[2981,2983],[2987,2989],[3002,3023],[3025,3045],[3059,3076],3085,3089,3113,3124,[3130,3132],[3134,3159],[3162,3167],[3170,3173],[3184,3191],[3199,3204],3213,3217,3241,3252,[3258,3260],[3262,3293],3295,[3298,3301],[3312,3332],3341,3345,3369,[3386,3388],[3390,3423],[3426,3429],[3446,3449],[3456,3460],[3479,3481],3506,3516,3518,3519,[3527,3584],3633,[3636,3647],[3655,3663],[3674,3712],3715,3717,3718,3721,3723,3724,[3726,3731],3736,3744,3748,3750,3752,3753,3756,3761,[3764,3772],3774,3775,3781,[3783,3791],3802,3803,[3806,3839],[3841,3871],[3892,3903],3912,[3949,3975],[3980,4095],[4139,4158],[4170,4175],[4182,4185],[4190,4192],[4194,4196],[4199,4205],[4209,4212],[4226,4237],4239,[4250,4255],[4294,4303],4347,[4349,4351],4681,4686,4687,4695,4697,4702,4703,4745,4750,4751,4785,4790,4791,4799,4801,4806,4807,4823,4881,4886,4887,[4955,4968],[4989,4991],[5008,5023],[5109,5120],5741,5742,[5787,5791],[5867,5869],[5873,5887],5901,[5906,5919],[5938,5951],[5970,5983],5997,[6001,6015],[6068,6102],[6104,6107],[6109,6111],[6122,6127],[6138,6157],6159,[6170,6175],[6264,6271],6313,[6315,6319],[6390,6399],[6429,6469],6510,6511,[6517,6527],[6572,6592],[6600,6607],[6619,6655],[6679,6687],[6741,6783],[6794,6799],[6810,6822],[6824,6916],[6964,6980],[6988,6991],[7002,7042],[7073,7085],[7098,7167],[7204,7231],[7242,7244],[7294,7400],7405,[7410,7423],[7616,7679],7958,7959,7966,7967,8006,8007,8014,8015,8024,8026,8028,8030,8062,8063,8117,8125,[8127,8129],8133,[8141,8143],8148,8149,[8156,8159],[8173,8177],8181,[8189,8191],[8203,8231],[8234,8238],[8240,8286],[8288,8303],8306,8307,[8314,8318],[8330,8335],[8341,8449],[8451,8454],8456,8457,8468,[8470,8472],[8478,8483],8485,8487,8489,8494,8506,8507,[8512,8516],[8522,8525],8527,[8586,9311],[9372,9449],[9472,10101],[10132,11263],11311,11359,[11493,11498],[11503,11516],11518,11519,[11558,11567],[11622,11630],[11632,11647],[11671,11679],11687,11695,11703,11711,11719,11727,11735,[11743,11822],[11824,12287],[12289,12292],[12296,12320],[12330,12336],12342,12343,[12349,12352],[12439,12444],12448,12539,[12544,12548],[12590,12592],[12687,12689],[12694,12703],[12728,12783],[12800,12831],[12842,12880],[12896,12927],[12938,12976],[12992,13311],[19894,19967],[40908,40959],[42125,42191],42238,42239,[42509,42511],[42540,42559],42592,42593,[42607,42622],[42648,42655],[42736,42774],42784,42785,42889,42890,[42893,43002],43010,43014,43019,[43043,43055],[43062,43071],[43124,43137],[43188,43215],[43226,43249],[43256,43258],[43260,43263],[43302,43311],[43335,43359],[43389,43395],[43443,43470],[43482,43519],[43561,43583],43587,[43596,43599],[43610,43615],[43639,43641],[43643,43647],43696,[43698,43700],43703,43704,43710,43711,43713,[43715,43738],[43742,43967],[44003,44015],[44026,44031],[55204,55215],[55239,55242],[55292,63743],64046,64047,64110,64111,[64218,64255],[64263,64274],[64280,64284],64286,64297,64311,64317,64319,64322,64325,[64434,64466],[64830,64847],64912,64913,[64968,65007],[65020,65135],65141,[65277,65295],[65306,65312],[65339,65344],[65371,65381],[65471,65473],65480,65481,65488,65489,65496,65497,[65501,65535]])),ud=k("'\"'",34),fh=k('"\'"',39),Oh=Ac(n(ud,3,3,!0)),Sh=Ac(n(fh,3,3,!0)),$g=k('";"',59),cc=k('"*"',42),Cc=k('"^"',94),og=k('"["',91),kg=k('"{"',123),Ic=k('"}"',125),mg=k('"("',40),hc=k('"\\\\"',92),Tc=k('","',44),Gc=r(D,E,function(a,b){return Ad(a,b)||Cd(a,b)}),zf=Ac(function(){function a(a,b){var c,d,e;if(e=a.source,47===e.charCodeAt(b)&&47===e.charCodeAt(+b+1))for(d=e.length,b-=-2;;++b)if(b>=d||13===(c=e.charCodeAt(b))||10===c||8232===c||8233===c)return xc(b)}function b(a,b){var c,d,e;if(d=a.source,e=b,47===d.charCodeAt(b)&&42===d.charCodeAt(+b+1)&&33!==d.charCodeAt(+b+2))for(c=d.length,b-=-2;;++b){if(b>=c)throw zg("Multi-line comment never ends",a,e);if(42===d.charCodeAt(b)&&47===d.charCodeAt(+b+1))return kh(a,+b+2)}}return q(r(a,b))}()),kh=Ac(v(mh,zf)),Rf=Ac(A(lh)),Od=Ac(F(D)),Pd=Ac(o(Od,!0)),ih=Ac(p(Od,!0)),Qd=v(Pd,kh),Sf=A(Od),lg=Ac(F(k('"("',40))),Kc=Ac(F(k('")"',41))),ng=Ac(F(og)),Lc=Ac(F(k('"]"',93))),jg=Ac(F(kg)),Hc=Ac(F(Ic)),Td=F(Ud),Ag=Ac(F(Bg)),qd=Ac(F(rd)),Sc=Ac(F(Tc)),xf=Ac(q(Sc)),Uc=r(v(["this",Sc],Pd),ih),yf=Ac(q(Uc)),Mb=v(ih,K),jh=Ac(function(a,b){return a.options.noindent?Pd(a,b):Mb(a,b)}),Vc=Ac(r(v(Sc,q(jh)),jh)),Xd=Ac(k('"!"',33)),Af=Ac(q(Xd)),wf=Ac(q(gc)),Mc=Ac(v(kh,["this",Nc],A(Nc))),Rc=Ac(v(Mc,kh,["this",D])),Tf=Ac(A(Mc)),Uf=Ac(function(a,b){var c;if(c=a.options,c.noindent){if(Rc(a,b))return xc(b);if(c.embedded&&(Oc(a,b)||Pc(a,b)))return xc(b)}return Tf(a,b)}),Mf=Ac(r($e,gi,rd)),Jf=Ac(r(Mf,$f)),Lf=Ac(p(Jf)),Xf=Ac(function(a,b){return xc(b,a.Nothing(b))}),Yd=function(a,b){return Yd(a,b)},rh=function(a,b){return rh(a,b)},rc=function(a,b){return rc(a,b)},sc=function(a,b){return sc(a,b)},cf=function(a,b){return cf(a,b)},Ib=Ac((Kb=z(w(Mf,o(Jf)),Gf,Lf),Hf(function(a){var b,c,d,e,g;for(g=f(a[0]),b=xb(a),c=1,d=b.length;d>c;++c)e=b[c],g.push(ce(e[0]).toUpperCase()),f(e,g,1);return g.join("")})(Kb))),If=Ac(F(Ib)),Nb=Ac((Kb=p(Ah),Hf(g)(Kb))),yh=Ac(F(Nb)),Qc=Ac(F((Kb=v(Nc,Ud),Hf(":=")(Kb)))),Kf=Ac(F(r((Kb=F(t(Ib,Nb)),Hf(function(a){return a.join("")})(Kb)),Qc))),kf=Ac(F(v(["this",Kf],Uf))),mf=z(kf,Sc),ki=Ac(function(a,b){var c,d,e;if(d=kf(a,b),d&&(c=a.getMacroByName(d.value))){if(e=c(a,b),!e)throw dh;return e}}),mi=I(function(a){return H(If,a)}),zh=I(function(a){return H(yh,a)}),lf=I(function(a){return H(kf,a)}),ni=I(function(a){var b,c,d,e,f,g;for(g=[kh],b=xb(a.split(/([a-z]+)/gi)),e=0,c=b.length;c>e;++e)f=b[e],f&&g.push(H(0===e%2?Nb:Ib,f));return d=v.apply(void 0,xb(g)),Hf(a)(d)}),Jb=nb(null),Jb[9]=4,Jb[32]=1,Ne=Jb,Kb=o(lh),bd=Hf(function(a){var b,c,d,e,f;for(e=0,b=xb(a),c=b.length;c--;){if(d=b[c],f=Ne[d],!f)throw Error("Unexpected indent char: "+JSON.stringify(d));e+=+f}return e})(Kb),Fh=Ac((Kb=mi("this"),Hf(function(a,b,c){return b.This(c)})(Kb))),Jh=Ac((Kb=F(gc),Hf(function(a,b,c){return b.This(c)})(Kb))),Wb=Ac((Kb=mi("arguments"),Hf(function(a,b,c){return b.Args(c)})(Kb))),Hh=Ac(r(Fh,Jh)),Ih=r(v(["this",Fh],Cg),v(["this",Jh],q(Cg))),ne=function(){var a,b;return a=["as","AST","arguments","break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","eval","export","extends","false","finally","for","function","if","import","Infinity","instanceof","in","let","macro","mutable","NaN","new","not","null","package","private","protected","public","return","static","super","switch","then","this","throw","true","try","typeof","undefined","var","void","while","with","yield"],b=xb(a).concat(["end"]).sort(),function(c){return c&&c.noindent?b:a}}(),ph=Ac(F((Kb=v(Cg,Cg,Cg),Hf("...")(Kb)))),Df=Ac(q(ph)),oh=Ac((Kb=v(["spread",Df],["node",Yd]),Hf(function(a,b,c){var d,e;return e=a.spread,d=a.node,"..."===e?b.Spread(c,d):d})(Kb))),Sb=h("disallowSpaceBeforeAccess",!1),Jc=Ac(v(mg,kh,["this",Sb(x(q(v(["this",z(oh,Sc)],xf),function(){return[]}),q(P(v(ih,M,["this",q(v(K,["this",z(oh,Vc)]),function(){return[]})],Pd,yf,O)),function(){return[]})))],Kc)),pd=h("disallowSpaceBeforeAccess",!0),ci=Ac(pd(v(r(v(lh,kh),u(D)),["this",x(z(oh,Sc),r(v(J,Sc,ih,["this",P(v(L,K,["this",z(oh,Vc)],xf,O))]),Hf(function(){return[]})(xf)))]))),Te=Ac(r(Jc,ci)),ve=Ac(r((Kb=v(function(a,b){return a.inAst.peek()?xc(b):void 0},qd,Rf,["this",Te]),Hf(function(a,b,c){return b.Call(c,b.Ident(c,"$"),a)})(Kb)),function(a,b){var c;return c=If(a,b),!c||sb(c.value,ne(a.options))||a.hasMacroOrOperator(c.value||a.scope.peek().hasConst(c.value))?a.fail("identifier",b):xc(c.index,a.Ident(b,c.value))})),Ef=Ac(o(gi,!0)),gd=Ac(function(){var a,b,c;return c=Q(fd),a=v(["integer",c],["fraction",q(v(Ef,Cg,Ef,["this",c]),"")],["exponent",q((b=v(l("[Ee]",i([69,101])),["sign",q(Hg)],["digits",c]),Hf(function(a){var b,c,d;return c=a.e,d=a.sign,b=a.digits,(d?ce(d):"")+b})(b)),"")],q(v(gi,q(Lf)))),Hf(function(a,b,c,d){var e,f,g,h;if(g=a.integer,f=a.fraction,e=a.exponent,h=R(g,f,10,e?parseInt(e,10):0),!isFinite(h))throw zg("Unable to parse number "+Pg(b.source.substring(c,d)),b,c);return b.Const(c,h)})(a)}()),se=l("[0-9A-Fa-f]",i([[48,57],[65,70],[97,102]])),ue=Ac(S(16,l("[Xx]",i([88,120])),se)),hg=l("[0-7]",i([[48,55]])),ig=Ac(S(8,l("[Oo]",i([79,111])),se)),lc=l("[01]",i([48,49])),nc=Ac(S(2,l("[Bb]",i([66,98])),se)),Qg=Ac(function(){function a(a){var c,d,e,f,g,h,i;if(null==(d=b[a])){switch(a){case 2:e=lc;break;case 8:e=hg;break;case 10:e=fd;break;case 16:e=se;break;default:for(i=nb(null),f=0,c=a>10?+a:10;c>f;++f)i[f+48]=!0;for(f=0,c=(a>36?+a:36)-10;c>f;++f)i[f+65]=!0,i[f+97]=!0;h=["[0-"],h.push(String.fromCharCode((a>9?+a:9)+48)),a>=10&&(g=(a>36?+a:36)-10,h.push("A-"),h.push(String.fromCharCode(g+65)),h.push("a-"),h.push(String.fromCharCode(g+97))),h.push("]"),e=l(h.join(""),i)}return b[a]=Q(e)}return d}var b,c,d;return b=[],d=n(fd,1,2),c=l("[Rr]",i([82,114])),function(b,e){var f,h,i,j,k,l,m,n,o,p,q;if(l=d(b,e),l&&(n=g(l.value),o=c(b,l.index))){if(m=parseInt(n,10),!isFinite(m))throw zg("Unable to parse radix "+Pg(n),b,e);if(2>m)throw zg("Radix must be at least 2, got "+m,b,e);if(m>36)throw zg("Radix must be at most 36, got "+m,b,e);if(h=a(m),j=h(b,o.index),!j)throw b.fail("integer after radix",o.index),dh;if(f=Ef(b,j.index).index,k=Cg(b,f),k&&(i=h(b,Ef(b,k.index).index),i&&(q=R(j.value,i.value,m),f=i.index)),null==q&&(q=R(j.value,"",m)),!isFinite(q))throw zg("Unable to parse number "+Pg(b.source.substring(e,f)),b,e);return p=Ef(b,f),xc(p.index,b.Const(e,q))}}}()),_f=Ac(F(r(ue,ig,nc,Qg,gd))),we=Ac(function(a,b){var c;return c=If(a,b),c?xc(c.index,a.Const(b,c.value)):void 0}),xe=Ac(r(we,_f)),Kb=v(k('"x"',120),dh,["this",n(se,2,2)]),te=Hf(function(a){return parseInt(g(a),16)})(Kb),hi=v(k('"u"',117),dh,["this",r((Kb=n(se,4,4),Hf(function(a){return parseInt(g(a),16)})(Kb)),(Kb=v(kg,["this",n(se,1,6)],Ic),Hf(function(a,b,c){var d,e;if(d=g(a),e=parseInt(d,16),e>1114111)throw zg("Unicode escape sequence too large: '\\u{"+d+"}'",b,c);return e})(Kb)))]),eh=function(){var a,b;return a=nb(null),a[98]=8,a[102]=12,a[114]=13,a[110]=10,a[116]=9,a[118]=11,b=a,r(Hf(0)(pi),Hf(function(a){return b[a]||a})(C))}(),ic=v(hc,dh,["this",r(te,hi,eh)]),Pe=h("position","expression"),Se=h("position","statement"),_b=Pe(function(a,b){return bb(a,b)}),$d=Ac(r(_b,Yd)),_d=Ac(r($d,rc)),sh=v(rd,Rf,dh,["this",r(ve,v(lg,["this",Sb(r(Yd,Xf))],Kc))]),gh=Ac((Kb=v(fh,dh,["this",s(ic,B(r(fh,D)))],fh),Hf(function(a,b,c){return b.Const(c,g(a))})(Kb))),xd=s(ic,sh,B(r(ud,D))),wd=Ac((Kb=v(ud,dh,["this",xd],ud),Hf(function(a,b,c){var d,e,f,g,h,i;for(d=[],e=T(a,b,c),f=0,g=e.length;g>f;++f)h=e[f],h.isConstValue("")||d.push(h);return i=d,0===i.length?b.Const(c,""):1===i.length&&i[0].isConstType("string")?i[0]:b.string(c,i)})(Kb))),vd=Ac((Kb=v(Bg,ud,dh,["this",xd],ud),Hf(function(a,b,c){var d;return d=T(a,b,c),b.Array(c,d)})(Kb))),Nh="function"==typeof String.prototype.trimRight?function(a){return a.trimRight()}:function(a){return a.replace(/\s+$/,"")},Kb=s(ic,B(r(Sh,D))),Th=Hf(function(a){return[Nh(g(a))]})(Kb),Kb=s(ic,sh,B(r(Oh,D))),Qh=Hf(function(a){var b,c,d,e,f,h;for(h=[],e=[],b=xb(a),c=0,d=b.length;d>c;++c)f=b[c],"number"==typeof f?e.push(f):f instanceof Yf||(e.length>0&&(h.push(g(e)),e=[]),h.push(f));return e.length>0&&h.push(Nh(g(e))),h})(Kb),Uh=Ac(W(Sh,Th)),Rh=Ac(W(Oh,Qh)),Ph=Ac((Kb=v(Bg,Oh,dh,["first",Qh],["numEmptyLines",o(v(kh,["this",D]),!0)],["rest",q(P(v(M,["this",q(v(U,["this",z(Qh,v(D,U))]),function(){return[]})],q(D),O)),function(){return[]})],Oh),Hf(function(a,b,c){var d;return d=V(a,b,c),b.Array(c,d)})(Kb))),jc=Ac(v(hc,Rf,["this",we])),th=Ac(F(r(jc,Uh,Rh,Ph,gh,wd,vd))),Rg=function(){var a,b,c,d,e,f,h;return c=k('"r"',114),a=o(Jf),f=Hf(g)(a),d={},a=v(re,o(B(D),!0)),e=Hf(d)(a),a=r(lh,D),h=Hf(d)(a),F((a=v(c,["text",r(v(Oh,dh,["this",s((b=v(hc,rd),Hf(36)(b)),h,e,sh,B(Oh))],Oh),v(Sh,dh,["this",s(h,e,B(Sh))],Sh),v(ud,dh,["this",s((b=v(ud,ud),Hf(34)(b)),(b=v(hc,rd),Hf(36)(b)),sh,B(r(ud,D,rd)))],ud),v(fh,dh,["this",s((b=v(fh,fh),Hf(39)(b)),B(r(fh,D)))],fh))],["flags",f]),Hf(function(a,b,c){var e,f,h,i,j,k,l,m,n,o;for(o=a.text,k=a.flags,n=[],i=[],e=xb(o),f=0,h=e.length;h>f;++f)l=e[f],"number"==typeof l?i.push(l):l===d||l instanceof Yf||(i.length>0&&(n.push(b.Const(c,g(i))),i=[]),n.push(l));if(i.length>0&&n.push(b.Const(c,g(i))),o=0===n.length?b.Const(c,""):1===n.length&&n[0].isConstType("string")?n[0]:b.string(c,n),o.isConst())try{RegExp(String(o.constValue()))}catch(p){throw zg(p.message,b,c)}for(m=[],e=xb(k),f=0,h=e.length;h>f;++f){if(j=e[f],sb(j,m))throw zg("Invalid regular expression: flag "+Pg(j)+" occurred more than once",b,c);if("g"!==j&&"i"!==j&&"m"!==j&&"y"!==j)throw zg("Invalid regular expression: unknown flag "+Pg(j),b,c);m.push(j)}return b.Regexp(c,o,k)})(a)))}(),Yc=r(v(Cg,["this",xe]),v(og,["this",Sb(Yd)],Lc)),Xc=Ac(r(X,_f,th,Rg)),bf=Ac(r(Hh,Wb,Xc)),Bf=Ac(q(mi("not"))),Cf=Ac(q(k('"?"',63))),je=h("inGenerator",!0)(rc),ke=h("inGenerator",!0)(sc),Ze=k('"<"',60),Ye=F(Ze),qe=k('">"',62),pe=F(qe),fe=Ac(v(kh,Gf,qe)),Db=r(v(fe,["this",r(rh,Xf)]),rc,rh),de=h("inGenerator",!1)(Db),le=h("inGenerator",!0)(Db),Be=r(ve,(Kb=v(["parent",Ih],["child",xe]),Hf(function(a,b,c){var d,e;return e=a.parent,d=a.child,b.Access(c,e,d)})(Kb)),(Kb=v(["parent",Hh],td,["child",xe]),Hf(function(a,b,c){var d,e;return e=a.parent,d=a.child,b.Access(c,b.Access(c,e,b.Const(c,"prototype")),d)})(Kb)),(Kb=v(["parent",Hh],["isProto",q(td)],og,["child",Sb(Yd)],Lc),Hf(function(a,b,c){var d,e,f;return f=a.parent,e=a.isProto,d=a.child,b.Access(c,e?b.Access(c,f,b.Const(c,"prototype")):f,d)})(Kb))),Dg=Ac(r(Cg,td)),Kb=r(v(["type",Dg],["child",xe]),v(["type",q(td)],og,["child",Sb(Yd)],Lc)),Ae=Hf(function(a,b,c){var d,e,f;return f=a.type,d=a.child,e="::"===f,function(a,b,f){return b.Access(f,e?b.Access(f,a,b.Const(c,"prototype")):a,d)}})(Kb),ze=Ac((Kb=v(["head",Be],["tail",o(Ae)]),Hf(function(a,b,c){var d,e,f,g,h;for(g=a.head,d=xb(a.tail),e=0,f=d.length;f>e;++e)h=d[e],g=h(g,b,c);return g})(Kb))),Qe=h("inFunctionTypeParams",!0),Zf=h("inFunctionTypeParams",!1),_h=function(a,b){return _h(a,b)},$b=Ac((Kb=v(ng,["this",q(Sb(_h))],Lc),Hf(function(a,b,c){var d;return d=b.Ident(c,"Array"),a?b.TypeGeneric(c,d,[a]):d})(Kb))),gg=v(["key",function(a,b){return $c(a,b)}],Mc,["value",_h]),fg=Ac((Kb=v(jg,["this",Sb(q(z(gg,Uc),function(){return[]}))],xf,Hc),Hf(function(a,b,c){var d,e,f,g,h,i;if(0===a.length)return b.Ident(c,"Object");for(h=[],d=xb(a),e=0,f=d.length;f>e;++e){if(g=d[e].key,!g.isConst())throw zg("Expected a constant key, got "+zb(g),b,g.index);if(i=String(g.constValue()),sb(i,h))throw zg("Duplicate object key: "+Pg(i),b,g.index);h.push(i)}return b.TypeObject(c,a)})(Kb))),Kb=v(r(v(lg,Sb(z(_h,Uc)),Kc),Qe(_h),Xf),fe,["this",q(_h)]),ie=Hf(function(a,b,c){var d;return d=b.Ident(c,"Function"),a?b.TypeGeneric(c,d,[a]):d})(Kb),Qf=r(function(a,b){return a.inFunctionTypeParams.peek()?void 0:ie(a,b)},v(lg,["this",Sb(Zf(function(a,b){return _h(a,b)}))],Kc),$b,fg,Y,(Kb=v(["base",ze],["args",q(v(k('"<"',60),dh,["this",z(function(a,b){return _h(a,b)},Sc)],kh,k('">"',62)),function(){return[]})]),Hf(function(a,b,c){var d,e;return e=a.base,d=a.args,d.length?b.TypeGeneric(c,e,d):e})(Kb))),Eg=Ac(F(Fg)),_h=Ac((Kb=z(Qf,Eg),Hf(function(a,b,c){var d,e,f;for(a=a.slice(),d=xb(a),e=d.length;e--;)f=d[e],f instanceof ai&&a.splice.apply(a,[e,1].concat(xb(f.types)));return 1===a.length?a[0]:b.TypeUnion(c,a)})(Kb))),vf=q(v(mi("as"),dh,["this",_h])),yc=Ac(v(ng,["this",Sb($d)],Lc)),$c=r(th,Hf(function(a,b,c){return b.Const(c,String(a.constValue()))})(_f),we),ag=Ac(r(yc,$c)),bg=Ac(v(["this",ag],Mc,A(Sd),function(a,b){if(a.options.noindent){if(Od(a,b))return;if(a.options.embedded&&(Ad(a,b)||Cd(a,b)))return}return xc(b)})),Ce=r(ve,(Kb=v(["parent",Ih],["child",we]),Hf(function(a,b,c){var d,e;return e=a.parent,d=a.child,b.Access(c,e,d)})(Kb))),Kb=v(["isMutable",m(q(mi("mutable")))],["spread",m(Df)],["ident",Ce],["asType",vf],["defaultValue",q(v(Td,["this",Yd]))]),De=Hf(function(a,b,c){var d,e,f,g,h;if(g=a.isMutable,h=a.spread,f=a.ident,d=a.asType,e=a.defaultValue,h&&e)throw zg("Cannot specify a default value for a spread parameter",b,c);return b.Param(c,f,e,h,g,d)})(Kb),qg=function(a,b){return qg(a,b)},Kb=v(ng,Pd,["this",Sb(function(a,b){return sg(a,b)})],Pd,Lc),Zb=Hf(function(a,b,c){return b.Array(c,a)})(Kb),pg=v(["key",bg],["value",qg]),Kb=v(["this",De],Tf),vg=Hf(function(a,b,c){var d,e;if(d=a.ident,d instanceof Ee)e=b.Const(c,d.name);else{if(!(d instanceof Qb))throw Error("Unknown object key type: "+a.type);e=d.child}return{key:e,value:a}})(Kb),Xe=q(r(pg,vg)),Kb=v(jg,Pd,["this",Sb(z(Xe,Uc))],Pd,Hc),eg=Hf(function(a,b,c){return b.object(c,function(){var b,c,d,e,f;for(b=[],c=xb(a),d=0,e=c.length;e>d;++d)f=c[d],f&&b.push(f);return b}())})(Kb),qg=r(De,Zb,eg),rg=r(qg,Xf),sg=Sb((Kb=z(rg,Uc),Hf(function(a,b){return $(_(a),b)})(Kb))),Kb=v(lg,dh,Pd,["this",sg],Pd,Kc),tg=Hf(function(){function a(b,c,d){var e,f,g,h,i,j,k,l;if(b instanceof ug){if(j=b.ident,j instanceof Ee)k=j.name;else{if(!(j instanceof Qb))throw Error("Unknown param ident type: "+zb(b));if(h=j.child,!h.isConstType("string"))throw Error("Expected constant access");k=h.constValue()}if(sb(k,d))throw zg("Duplicate parameter name: "+Pg(k),c,j.index);d.push(k)}else if(b instanceof Yb)for(e=xb(b.elements),f=0,g=e.length;g>f;++f)i=e[f],a(i,c,d);else if(b instanceof dg)for(e=xb(b.pairs),f=0,g=e.length;g>f;++f)l=e[f],a(l.value,c,d);else if(!b instanceof Yf)throw Error("Unknown param type: "+zb(b))}return function(b,c){var d,e,f,g,h;for(g=[],d=xb(b),e=0,f=d.length;f>e;++e)h=d[e],a(h,c,g);return b}}())(Kb),Tg=h("requireParameterSequence",!0),sd=h("requireParameterSequence",!1),Eb=function(){function a(a){return a?le:de}var b,c,d,e,f,g;return d=r(Xd,gc,cc,Cc),b=o(d),e=Hf(function(a,b,c){var d,e,f,g,h,i;for(h={autoReturn:!0,bound:!1,generator:!1,curry:!1},i=[],d=xb(a),e=0,f=d.length;f>e;++e){if(g=d[e],sb(g,i))throw zg("Function flag "+Pg(ce(g))+" specified more than once",b,c);switch(i.push(g),g){case 33:h.autoReturn=!1;break;case 64:h.bound=!0;break;case 42:h.generator=!0;break;case 94:h.curry=!0;break;default:throw Error("Unknown function flag: "+Pg(ce(g)))}}return h})(b),f=q(v(Ze,["this",z(ve,Sc)],pe),function(){return[]}),g=q(tg,function(){return[]}),c=Qe(vf),Sb(function(b,d){var h,i,j,k,l,m,n,o,p,q,r,s,t;if(o=f(b,d),t=b.pushScope(!0),r=b.requireParameterSequence.peek()?tg:g,q=r(b,o.index),!q)return b.popScope(),void 0;for(h=xb(q.value),i=h.length;i--;)p=h[i],Rb(t,p);return l=e(b,q.index),m=l.value,j=c(b,l.index),(k=a(l.value.generator)(b,j.index))?(n=b.Function(d,q.value,k.value,m.autoReturn,m.bound,m.curry,j.value,m.generator,o.value),s=Z(n,b,d),b.popScope(),xc(k.index,s)):(b.popScope(),void 0)})}(),ee=Tg(Eb),ge=Ac(v(kh,re,["this",sd(Eb)])),Kg=h("preventUnclosedObjectLiteral",!0),Xb=Ac(Kg((Kb=v(ng,kh,["this",Sb(x(q(v(["this",z(oh,Sc)],xf),function(){return[]}),q(P(v(ih,M,["this",q(v(K,["this",z(oh,Vc)]),function(){return[]})],Pd,yf)),function(){return[]})))],Lc),Hf(function(a,b,c){return b.Array(c,a)})(Kb)))),bh=Ac((Kb=v(Ag,u(og),dh,["this",Xb]),Hf(function(a,b,c){var d;if(d=b.getMacroByLabel("constructSet"),!d)throw Error("Cannot use literal set until the construct-set macro has been defined");return d.func({op:"",node:a},b,c)})(Kb))),Pf=Ac(function(a,b){return a.options.noindent?Sf(a,b):xc(b)}),yd=v(["key",bg],Pf,["value",Yd]),oe=Ac(r(mi("get"),mi("set"))),Mg=Ac(v(["property",r(mi("property"),oe)],kh,["key",bg],Pf,dh,["value",Yd])),Ng=Ac(r(Mg,yd)),Ff=v(["property",q(oe)],["key",ag],Tf,["value",ee]),Og=r(Ng,Ff),ei=Ac((Kb=z(Ng,Sc),Hf(function(a,b,c){return b.object(c,a)})(Kb))),ye=Ac(function(a,b){var c,d;return d=Gb(a,b),d&&((c=d.value)instanceof Ee||c instanceof Qb)?d:void 0}),hh=r((Kb=v(["this",ye],Tf),Hf(function(a,b,c){var d;if(a instanceof Qb)d=a.child;else{if(!(a instanceof Ee))throw zg("Unknown ident type: "+zb(a),b,c);d=b.Const(c,a.name)}return{key:d,value:a}})(Kb)),(Kb=v(["this",Xc],Tf),Hf(function(a,b,c){var d;return d=a.isConst()&&!a.isConstType("string")?b.Const(c,String(a.value)):a,{key:d,value:a}})(Kb)),(Kb=v(["this",Fh],Tf),Hf(function(a,b,c){return{key:b.Const(c,"this"),value:a}})(Kb)),(Kb=v(["this",Wb],Tf),Hf(function(a,b,c){return{key:b.Const(c,"arguments"),value:a}})(Kb)),(Kb=v(["this",yc],Tf),Hf(function(a){return{key:a,value:a}})(Kb))),We=Ac(r(Og,(Kb=v(kh,["flag",q(Hg)],["key",hh]),Hf(function(a,b,c){var d,e;return d=a.flag,e=a.key,d?{key:e.key,value:b.Const(c,43===d)}:e})(Kb)),(Kb=v(kh,["bool",Hg],["key",we]),Hf(function(a,b,c){var d,e;return d=a.bool,e=a.key,{key:e,value:b.Const(c,43===d)}})(Kb)))),cg=Ac(Sb((Kb=v(jg,kh,["prototype",q(v(mi("extends"),["this",Kg(cf)],kh,r(Sc,u(D),u(Hc))))],["pairs",x(q(v(["this",z(We,Sc)],xf),function(){return[]}),q(P(v(ih,M,["this",q(v(K,["this",z(We,Vc)]),function(){return[]})],O)),function(){return[]}))],Pd,yf,Pd,Hc),Hf(function(a,b,c){return b.object(c,a.pairs,a.prototype)})(Kb)))),uf=Ac((Kb=v(Ag,kg,dh,kh,["this",Sb(x(q(v(["this",z(yd,Sc)],xf),function(){return[]}),q(P(v(ih,M,["this",q(v(K,["this",z(yd,Vc)]),function(){return[]})],O)),function(){return[]})))],Pd,yf,Pd,Hc),Hf(function(a,b,c){var d;if(d=b.macros.getByLabel("constructMap"),!d)throw Error("Cannot use literal map until the construct-map macro has been defined");return d.func({op:"",node:b.object(c,a)},b,c)})(Kb))),dd=function(){function a(a,b,c){var d,e,f,g,h;return f=a.rule(b,c),f&&(d=Kc(b,f.index))?(e=b.Ident(c,"x"),h=b.pushScope(!0),h.add(e,!1,Xh.any),g=Z(b.Function(c,[b.Param(c,e)],a.func({op:f.value,node:e},b,c),!0),b,c),b.popScope(),xc(d.index,g)):void 0}function b(a,b,c){var d,e,f,g,h,i,j,k;return f=!1,a.invertible&&(e=Bf(b,c),e.value&&(f=!0),c=e.index),h=a.rule(b,c),h&&(d=Kc(b,h.index))?(g=b.Ident(c,"x"),j=b.Ident(c,"y"),k=b.pushScope(!0),k.add(g,!1,Xh.any),k.add(j,!1,Xh.any),i=Z(b.Function(c,[b.Param(c,g),b.Param(c,j)],a.func({left:g,inverted:f,op:h.value,right:j},b,c),!0,!1,!0),b,c),b.popScope(),xc(d.index,i)):void 0}return function(c,d){var e,f,g,h;for(e=xb(c.allBinaryOperators()),f=e.length;f--;)if(h=e[f],null!=(g=b(h,c,d)))return g;for(e=xb(c.prefixUnaryOperators()),f=e.length;f--;)if(h=e[f],null!=(g=a(h,c,d)))return g;for(e=xb(c.postfixUnaryOperators()),f=e.length;f--;)if(h=e[f],null!=(g=a(h,c,d)))return g}}(),wg=Ac(Sb(v(lg,["this",r(v(["this",_b],Kc),(Kb=v(["left",Yd],["operator",q(cb)],Kc),Hf(function(a,b,c){var d,e,f,g,h;return d=a.left,(e=a.operator)?(h=b.pushScope(!0),g=b.makeTmp(c,"x"),f=Z(b.Function(c,[b.Param(c,g)],e.operator.func({left:d.rescope(h),inverted:e.inverted,op:e.op,right:g},b,c),!0),b,c),b.popScope(),f):d})(Kb)),dd,(Kb=v(["operator",cb],["right",Yd],Kc),Hf(function(a,b,c){var d,e,f,g,h,i,j,k;return j=a.right,d=a.operator,g=d.op,h=d.operator,e=d.inverted,k=b.pushScope(!0),f=b.makeTmp(c,"x"),i=Z(b.Function(c,[b.Param(c,f)],h.func({left:f,inverted:e,op:g,right:j.rescope(k)},b,c),!0),b,c),b.popScope(),i
})(Kb)),(Kb=v(["this",p(function(a,b){return Ve(a,b)})],Kc),Hf(function(a,b,c){var d,e,f;return f=b.pushScope(!0),d=b.makeTmp(c,"o"),e=Z(b.Function(c,[b.Param(c,d)],ad(!1,{type:"normal",existential:!1,node:d},a,b,c).rescope(f),!0,!1),b,c),b.popScope(),e})(Kb)))]))),cd=Ac(function(a,b){var c;return a.asterixAsArrayLength.peek()&&(c=cc(a,b))?xc(c.index,a.Ident(b,"__currentArrayLength")):void 0}),Me=Ac((Kb=z(Ng,Vc),Hf(function(a,b,c){return b.object(c,a)})(Kb))),fi=Ac(function(a,b){return a.preventUnclosedObjectLiteral.peek()?void 0:xc(b)}),Le=Ac(v(fi,J,kh,D,Pd,["this",P(v(L,K,["this",Me],O))])),di=v(cc,kh,["this",r(P(v(N(2),["this",r(Me,function(a,b){return Ke(a,b)},oh)])),oh)]),Ke=Ac((Kb=z(di,v(xf,jh)),Hf(function(a,b,c){return b.Array(c,a)})(Kb))),Je=Ac(v(fi,J,kh,D,Pd,["this",P(v(L,K,["this",Ke],O))])),He=h("inAst",!0),Oe=h("inEvilAst",!0),ec=q(v(mg,["this",Yd],Kc)),dc=v(mi("ASTE"),dh,function(a,b){if(a.inMacro.peek()){if(a.inAst.peek())throw zg("Can only use ASTE inside of another AST",a,b);return xc(b)}throw zg("Can only use ASTE inside of a macro",a,b)},["position",ec],["body",function(){var a,b;return b=He($d),a=Oe(b),function(c,d){var e;return e=Xd(c,d),e?a(c,e.index):b(c,d)}}()]),fc=v(mi("AST"),dh,function(a,b){if(a.inMacro.peek()){if(a.inAst.peek())throw zg("Can only use AST inside of another AST",a,b);return xc(b)}throw zg("Can only use AST inside of a macro",a,b)},["position",ec],["body",function(){var a,b;return b=He(r(rc,rh)),a=Oe(b),function(c,d){var e;return e=Xd(c,d),e?a(c,e.index):b(c,d)}}()]),bc=Ac((Kb=r(dc,fc),Hf(function(a,b,c){var d,e;if(e=a.position,d=a.body,e&&"number"!=typeof e.index)throw zg("Unexpected position node in AST",b,c);return gf.constifyObject(e,d,c,b.scope.peek())})(Kb))),Lg=Ac(r(ei,bf,Xb,cg,bh,uf,bc,wg,ge,ki,ve,cd,Le,Je)),ad=function(){function a(a,c,d,e,f){var g;if(e>=f.length)return d;if(g=f[e],!ub.call(b,g.type))throw Error("Unknown call-chain link: "+g.type);return b[g.type](a,c,d,g,e,f)}var b;return b={access:function(){var b;return b={multi:function(a,b,c){return function(d){var e,f,g,h;return f=d,h=[],d.cacheable&&(g=a.makeTmp(b,"ref",d.type(a)),h.push(g.id),f=a.Assign(b,g,"=",d.doWrap(a)),d=g),e=a.Array(b,function(){var e,g,h,i,j;for(e=[],g=xb(c.elements),j=0,h=g.length;h>j;++j)i=g[j],e.push(a.Access(b,0===j?f:d,i));return e}()),h.length?a.TmpWrapper(b,e,h):e}}},function(c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q;if(i=f.bind?function(a,b){return c.Call(d,c.Ident(d,"__bind"),[a,b])}:function(a,b){return c.Access(d,a,b)},f.owns)return q=[],o=e,e.cacheable&&(p=c.makeTmp(d,"ref",e.type(c)),q.push(p.id),o=c.Assign(d,p,"=",e.doWrap(c)),e=p),j=f.child,n=j,j.cacheable&&(p=c.makeTmp(d,"ref",j.type(c)),q.push(p.id),n=c.Assign(d,p,"=",j.doWrap(c)),j=p),m=c.If(d,function(){var a,b;if(b=c.getMacroByLabel("ownership"),!b)throw Error("Cannot use ownership access until the ownership operator has been defined");if(f.existential){if(a=c.getMacroByLabel("existential"),!a)throw Error("Cannot use existential access until the existential operator has been defined");return c.Binary(d,a.func({op:"",node:o},c,d),"&&",b.func({left:e,op:"",right:n},c,d))}return b.func({left:o,op:"",right:n},c,d)}(),a(c,d,i(e,j),+g+1,h)),q.length?c.TmpWrapper(d,m,q):m;switch(f.type){case"access":l=function(a){return i(a,f.child)};break;case"accessIndex":if(!ub.call(b,f.child.type))throw Error("Unknown index type: "+f.child.type);l=b[f.child.type](c,d,f.child);break;default:throw Error("Unknown link type: "+f.type)}if(f.existential){if(q=[],o=e,e.cacheable&&(p=c.makeTmp(d,"ref",e.type(c)),q.push(p.id),o=c.Assign(d,p,"=",e.doWrap(c)),e=p),k=c.getMacroByLabel("existential"),!k)throw Error("Cannot use existential access until the existential operator has been defined");return m=c.If(d,k.func({op:"",node:o},c,d),a(c,d,l(e),+g+1,h)),q.length?c.TmpWrapper(d,m,q):m}return a(c,d,l(e),+g+1,h)}}(),call:function(b,c,d,e,f,g){var h,i,j,k,l,m,n,o;return e.existential?(o=[],l=d,d instanceof Qb&&!e.isApply&&!e.isNew?(i=d.parent,h=d.child,m=i,k=h,i.cacheable&&(n=b.makeTmp(c,"ref",i.type(b)),o.push(n.id),m=b.Assign(c,n,"=",i.doWrap(b)),i=n),h.cacheable&&(n=b.makeTmp(c,"ref",h.type(b)),o.push(n.id),k=b.Assign(c,n,"=",h.doWrap(b)),h=n),(i!==m||h!==k)&&(l=b.Access(c,m,k),d=b.Access(c,i,h))):d.cacheable&&(n=b.makeTmp(c,"ref",d.type(b)),o.push(n.id),l=b.Assign(c,n,"=",d.doWrap(b)),d=n),j=b.If(c,b.Binary(c,b.Unary(c,"typeof",l),"===",b.Const(c,"function")),a(b,c,b.Call(c,d,e.args,e.isNew,e.isApply),+f+1,g)),o.length?b.TmpWrapper(c,j,o):j):a(b,c,b.Call(c,d,e.args,e.isNew,e.isApply),+f+1,g)}},b.accessIndex=b.access,function(b,c,d,e,f){var g,h,i,j,k,l;if(0===d.length&&!b&&"normal"===c.type)return c.node;for(k=[],"thisAccess"===c.type&&k.push({type:"access",child:c.child,existential:c.existential}),g=xb(d),h=0,i=g.length;i>h;++h)switch(l=g[h],l.type){case"protoAccess":case"protoAccessIndex":k.push({type:"access",child:e.Const(f,"prototype"),existential:l.existential}),k.push((j=rb({},l),j.type="protoAccess"===l.type?"access":"accessIndex",j));break;case"access":case"accessIndex":k.push(l);break;case"call":if(b&&l.isApply)throw zg("Cannot call with both new and @ at the same time",e,f);k.push((j=rb({},l),j.isNew=b,j)),b=!1;break;case"generic":e.getConstValue("DISABLE_GENERICS",!1)||(k.push({type:"access",child:e.Const(f,"generic"),existential:!1}),k.push({type:"call",args:l.args,existential:!1}));break;default:throw Error("Unknown link type: "+l.type)}return b&&k.push({type:"call",args:[],existential:!1,isNew:!0,isApply:!1}),a(e,f,c.node,0,k)}}(),Ve=r((Kb=v(Ze,["this",z(function(a,b){return kc(a,b)},Sc)],pe),Hf(function(a){return{type:"generic",args:a}})(Kb)),(Kb=v(["existential",Cf],["owns",Af],["bind",wf],db,["type",Dg],["child",xe]),Hf(function(a){return{type:"::"===a.type?"protoAccess":"access",child:a.child,existential:a.existential,owns:a.owns,bind:a.bind}})(Kb)),(Kb=v(["existential",Cf],["owns",Af],["bind",wf],["type",q(td)],og,["child",Sb((Lb=z(h("asterixAsArrayLength",!0)(Yd),Uc),Hf(function(a){return a.length>1?{type:"multi",elements:a}:{type:"single",node:a[0]}})(Lb)))],Lc),Hf(function(a,b,c){if("single"===a.child.type)return{type:"::"===a.type?"protoAccess":"access",child:a.child.node,existential:a.existential,owns:a.owns,bind:a.bind};if(a.owns)throw zg("Cannot use ! when using a multiple or slicing index",b,c);if(a.bind)throw zg("Cannot use @ when using a multiple or slicing index",b,c);return{type:"::"===a.type?"protoAccessIndex":"accessIndex",child:a.child,existential:a.existential}})(Kb)),(Kb=v(["existential",m(Cf)],["isApply",m(wf)],["args",Te]),Hf(function(a){return{type:"call",args:a.args,existential:a.existential,isNew:!1,isApply:a.isApply}})(Kb))),Kb=v(["isNew",m(q(mi("new")))],["head",r((Lb=v(["node",Jh],["existential",Cf],["owns",Af],["bind",wf],["child",xe]),Hf(function(a){return rb({type:"thisAccess"},a)})(Lb)),Hf(function(a){return{type:"normal",node:a}})(Lg))],["tail",o(Ve)]),kc=Hf(function(a,b,c){var d,e,f;return e=a.isNew,d=a.head,f=a.tail,ad(e,rb({},d),f,b,c)})(Kb),Kb=v(["head",r((Lb=v(["node",Jh],["existential",Cf],["owns",Af],["bind",wf],["child",xe]),Hf(function(a){return rb({type:"thisAccess"},a)})(Lb)),Hf(function(a){return{type:"normal",node:a}})(Lg))],["tail",function(a,b){var c,d,e,f;for(f=[],d=b;;){if(e=Ve(a,d),!e)break;f.push(e),d=e.index}for(;f.length>0&&"access"!==(c=f[f.length-1].value.type)&&"protoAccess"!==c;)f.pop();return 0===f.length?xc(b,[]):xc(f[f.length-1].index,function(){var a,b,c,d;for(a=[],b=0,c=f.length;c>b;++b)d=f[b],a.push(d.value);return a}())}]),Gb=Hf(function(a,b,c){var d,e;return d=a.head,e=a.tail,ad(!1,rb({},d),e,b,c)})(Kb),vh=Ac((Kb=v(mi("super"),dh,["child",q(r(v(Pd,kh,Cg,["this",xe]),v(og,["this",Sb(Yd)],Lc)))],["args",Te]),Hf(function(a,b,c){var d,e;return e=a.child,d=a.args,b.Super(c,e,d)})(Kb))),Vd=Ac((Kb=v(mi("eval"),dh,["this",Te]),Hf(function(a,b,c){if(1!==a.length)throw zg("Expected only one argument to eval, got "+a.length,b,c);return b.Eval(c,a[0])})(Kb))),Ue=Ac(r(function(a,b){var c,d,e;if(e=a.inAst,e.peek()&&(d=qd(a,kh(a,b).index))){e.push(!1);try{if(c=Te(a,d.index),!c)return;return xc(c.index,a.Call(b,a.Ident(b,"$"),c.value))}finally{e.pop()}}},kc,vh,Vd)),Ie=h("inCascade",!0),Ec=Ac(v(A(ph),Cg,u(Cg),["accesses",o(Ve)],["assignment",q(Ie(ab))])),Fc=function(a,b){return Fc(a,b)},Fc=Ac(v(["main",Ec],["subcascades",q(P(v(ih,L,K,["this",z(Fc,jh)],O)),function(){return[]})])),Dc=Ac((Kb=v(["head",Ue],["tail",r(function(a,b){return a.inCascade.peek()?xc(b,[]):void 0},x(o(v(eb,["this",Hf(function(a){return{main:a,subcascades:[]}})(Ec)])),q(v(J,function(a,b){return a.disallowSpaceBeforeAccess.peek()?void 0:xc(b)},ih,["this",P(v(L,K,["this",z(Fc,jh)],O))]),function(){return[]})))]),Hf(function(a,b,c){var d,e,f,g;if(e=a.head,g=a.tail,g.length){if(f=b.getMacroByLabel("cascade"),!f)throw zg("Cannot use cascades until the cascade macro has been defined",b,c);return d=function(a,c,e){var g;return g=this,c.length?f.func({op:"",node:b.Cascade(e,a,function(){var a,f,h,i,j;for(a=[],f=xb(c),i=0,j=f.length,h=function(a){var c,f,g,h;return c=a.main,f=c.accesses,g=c.assignment,h=a.subcascades,function(a){var c,i;return c=ad(!1,{type:"normal",node:a},f,b,e),i=null!=g?g(c,e):c,h?d(i,h,e):i}};j>i;++i)a.push(h.call(g,f[i]));return a}())},b,e):a},d(e,g,c)}return e})(Kb))),Ig=Ac(function(a,b){var c,d,e,f,g,h,i;if(f=Dc(a,b)){for(e=!0;e;)for(e=!1,c=xb(a.postfixUnaryOperators()),d=c.length;d--;)if(h=c[d],i=h.rule,g=i(a,f.index)){f=xc(g.index,h.func({op:g.value,node:f.value},a,b)),e=!0;break}return f}}),Jg=Ac(function(a,b){var c,d,e,f,g,h;for(c=xb(a.prefixUnaryOperators()),d=c.length;d--;)if(g=c[d],h=g.rule,f=h(a,b),f&&(e=Jg(a,f.index)))return xc(e.index,g.func({op:f.value,node:e.value},a,b));return Ig(a,b)}),oc=function(){var a;return a=[],function(b){return a[b]||(a[b]=Ac(function(a,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;if(r=a.binaryOperators(b),!r)return Jg(a,c);if(n=oc(+b+1),i=n(a,c)){for(d=xb(r),e=d.length;e--;){for(q=d[e],v=q.rule,w=[],h=i.index;;){if(k=!1,q.invertible&&(j=Bf(a,h),j.value&&(k=!0),h=j.index),p=v(a,h),!p)break;if(o=n(a,p.index),!o)break;if(h=o.index,w.push({inverted:k,op:p.value,node:o.value}),q.maximum&&w.length>=q.maximum)break}if(w.length){if(q.rightToLeft){for(u=w[w.length-1].node,l=w.length;l--;)s=w[l],u=q.func({left:0===l?i.value:w[l-1].node,inverted:s.inverted,op:s.op,right:u},a,c);t=u}else{for(m=i.value,f=0,g=w.length;g>f;++f)s=w[f],m=q.func({left:m,inverted:s.inverted,op:s.op,right:s.node},a,c);t=m}return xc(h,t)}}return i}}))}}(),cf=Ac(oc(0)),Zd=Ac(r(ki,cf)),Yd=Ac(Pe(Zd)),_e=Ac(v(mh,["this",function(a,b){var c,d,e,g,h,i,j,k,l,m,n;if(n=a.source,47===n.charCodeAt(b)&&42===n.charCodeAt(+b+1)&&33===n.charCodeAt(+b+2))for(k=[47,42,33],l=[k],j=n.length,e=+b+3;;++e){if(e>=j)throw zg("Multi-line license comment never ends",a,b);if(d=n.charCodeAt(e),42===d&&47===n.charCodeAt(e+1)){for(k.push(42,47),m=[],g=0,c=l.length;c>g;++g)i=l[g],g>0&&m.push("\n"),f(i,m);return xc(e+2,a.Comment(b,m.join("")))}if(13===d||10===d||8232===d||8233===d){if(13===d&&10===data.charCodeAt(e+1)&&++e,l.push(k=[]),h=U(a,e+1),!h)throw zg("Improper indent in multi-line license comment",a,e+1);e=h.index-1}else k.push(d)}}],kh)),sf=Sb((Kb=v(["type",r(ve,th,(Lb=v(lg,Pd,["this",function(a,b){return rf(a,b)}],Pd,yf,Kc),Hf(function(a,b,c){return b.SyntaxSequence(c,a)})(Lb)),(Lb=v(lg,Pd,["this",function(a,b){return pf(a,b)}],Pd,Kc),Hf(function(a,b,c){return b.SyntaxChoice(c,a)})(Lb)))],["multiplier",q(r(zh("?"),zh("*"),zh("+")))]),Hf(function(a,b,c){var d,e;return e=a.type,d=a.multiplier,d?b.SyntaxMany(c,e,d):e})(Kb))),qf=r(th,(Kb=v(["ident",r(Hh,ve)],["type",q(v(mi("as"),["this",sf]))]),Hf(function(a,b,c){var d,e;return d=a.ident,e=a.type,b.SyntaxParam(c,d,e)})(Kb))),rf=z(qf,Sc),pf=z(sf,Eg),nf=q((Kb=v(mi("with"),["this",ei]),Hf(function(a,b,c){if(a=a.reduce(b),!a.isLiteral())throw zg("Macro options must be a literal object without any logic, invocation, or anything else",b,c);return a.literalValue()})(Kb)),function(){return{}}),of=v(K,mi("syntax"),dh,function(a,b){var c,d,e,f;if(f=a.pushScope(!0),e=rf(a,b),!e)throw dh;if(d=nf(a,e.index),a.startMacroSyntax(b,e.value,d.value),fb(e.value,f),f.add(a.Ident(b,"macroName"),!0,Xh.string),c=de(a,d.index),!c)throw dh;return a.macroSyntax(b,"syntax",e.value,d.value,c.value),a.popScope(),xc(c.index)},kh,Gc),ef=r(v(function(a,b){return a.options.noindent?Mc(a,b):xc(b)},kh,D,Pd,P(v(function(a,b){return a.options.noindent?M(a,b):L(a,b)},z(of,ih),O)),G),function(a,b){var c,d,e,f,g,h,i;if(i=a.pushScope(!0),h=tg(a,b),!h)throw dh;for(c=xb(h.value),d=c.length;d--;)g=c[d],Rb(i,g,!0);if(f=nf(a,h.index),e=de(a,f.index),!e)throw dh;return a.macroSyntax(b,"call",h.value,f.value,e.value),a.popScope(),xc(e.index,a.Nothing(b))}),Re=h("inMacro",!0),Cb=v(mi("macro"),["this",Re(function(a,b){var c,d;return(d=mf(a,b))?(a.enterMacro(b,d.value),c=ef(a,d.index),a.exitMacro(),xc(c.index,a.Nothing(b))):void 0})]),md=function(){var a;return a=v(mi("define"),mi("syntax"),dh,["name",ve],Td,["value",rf]),Re(function(b,c){var d,e;return(e=a(b,c))?(d=de(b,e.index),b.defineSyntax(c,e.value.name.name,e.value.value,null!=d?d.value:void 0),xc(d?d.index:e.index,b.Nothing(c))):void 0})}(),Kb=v(mi("define"),mi("helper"),dh,["name",ve],["value",r(v(Td,["this",Yd]),ee)]),jd=Hf(function(a,b,c){var d,e;return d=a.name,e=a.value,b.defineHelper(c,d,e),b.Nothing(c)})(Kb),ld=function(){var a;return a=v(mi("define"),mi("operator"),dh,["type",r(mi("binary"),mi("assign"),mi("unary"))],["ops",z(Kf,Sc)],["options",nf]),Re(function(b,c){var d,e,f,g,h,i,j,k;if(k=a(b,c)){switch(d=k.value,j=d.type,f=d.ops,g=d.options,i=b.pushScope(!0),j){case"binary":case"assign":i.add(b.Ident(c,"left"),!0,Xh.any),i.add(b.Ident(c,"op"),!0,Xh.string),i.add(b.Ident(c,"right"),!0,Xh.any);break;case"unary":i.add(b.Ident(c,"op"),!0,Xh.string),i.add(b.Ident(c,"node"),!0,Xh.any);break;default:throw Error("Unhandled value in switch")}if(e=de(b,k.index),!e)throw dh;switch(j){case"binary":h=b.defineBinaryOperator(c,f,g,e.value);break;case"assign":h=b.defineAssignOperator(c,f,g,e.value);break;case"unary":h=b.defineUnaryOperator(c,f,g,e.value);break;default:throw Error()}return b.popScope(),xc(e.index,b.Nothing(c))}})}(),kd=Ac(r(Cb,md,jd,ld)),Kb=v(mi("const"),dh,["name",If],Td,["value",Yd]),id=Hf(function(a,b,c){var d,e;if(d=a.name,e=a.value,e=b.macroExpandAll(e.reduce(b)),!e.isLiteral())throw zg("const value must be a literal.",this,c);return b.defineConst(c,d,e.literalValue()),b.Nothing(c)})(Kb),rh=Ac(v(["this",Se(r(_e,kd,id,bb,Zd))],kh)),tf=function(){function a(a){var b,c,d,e;for(e=a.length,b=[],d=0;e>d;++d)b.push(a.charCodeAt(d));return c=b,function(b,d){var f,g;for(g=b.source,f=0;e>f;++f)if(g.charCodeAt(+d+f)!==c[f])return;return xc(+d+e,a)}}function b(b){return c[b]||(c[b]=a(b))}var c;return c=nb(null),function(a,c){return function(d,e){var f;return f=d.options[a],"string"!=typeof f&&(f=c),b(f)(d,e)}}}(),Hd=Ac(tf("embeddedOpenComment","<%--")),Bd=tf("embeddedCloseComment","--%>"),Gd=Ac(tf("embeddedOpen","<%")),Ad=Ac(v(Pd,kh,r(E,tf("embeddedClose","%>")))),Id=Ac(tf("embeddedOpenWrite","<%=")),Cd=Ac(v(Pd,kh,r(E,tf("embeddedCloseWrite","%>")))),Oc=Ac(v(Mc,Ad)),Pc=Ac(v(Mc,Cd)),Vf=Ac(A(Hd)),Wf=Ac(A(Id)),od=h("allowEmbeddedText",!1),Md=od((Kb=v(Vf,Id,["this",Yd],Cd),Hf(function(a,b,c){return b.EmbedWrite(c,a,!0)})(Kb))),Ed=r(ib,Md,hb),Dd=Ac((Kb=v(function(a,b){return a.options.embedded&&a.allowEmbeddedText.peek()&&b<a.source.length?xc(b):void 0},Ad,["this",o(Ed)],r(E,v(Vf,Wf,Gd))),Hf(function(a,b,c){return b.Block(c,a)})(Kb))),Zg=Ac(F($g)),_g=Ac(o(Zg,!0)),af=Ac(function(){var a;return a=v(_g,["this",rh]),function(b,c){var d,e,f,g,h,i;if(f=K(b,c)){for(d=c,h=[],g=!1;;)if(i=Dd(b,d))g=!1,h.push(i.value),d=i.index;else{if(i=g?a(b,d):rh(b,d),!i)break;g=!0,h.push(i.value),d=i.index}if(0!==h.length)return e=_g(b,d),e&&(d=e.index),xc(d,h)}}}()),Vg=vb(function(a,b){function c(){g=9}function d(){for(;;)switch(g){case 0:a.clearCache(),i=af(a,b),g=i?1:9;break;case 1:k=[i.value],h=i.index,++g;case 2:++g;case 3:a.clearCache(),g=a.options.sync?5:4;break;case 4:return++g,{done:!1,value:pb.fulfilled(void 0)};case 5:l=ih(a,h),g=l?6:8;break;case 6:j=af(a,l.index),g=j?7:8;break;case 7:h=j.index,k.push(j.value),g=2;break;case 8:return a.clearCache(),++g,{done:!0,value:xc(h,jb(k,a,b))};case 9:return{done:!0,value:void 0};default:throw Error("Unknown state: "+g)}}function e(a){throw c(),a}function f(a){try{return d(a)}catch(b){e(b)}}var f,g,d,e,h,i,j,k,l;return g=0,{close:c,iterator:function(){return this},next:function(){return f(void 0)},send:f,"throw":function(a){return e(a),f(void 0)}}}),Bb=Hf(jb,z(af,ih)),pc=r(v(K,["this",r(Me,Ke)]),Bb),zd=v(Wf,Vf,Gd,["this",Bb],Ad),Fd=r(Ed,zd),Kd=vb(function(a,b){function c(){g=7}function d(){for(;;)switch(g){case 0:j=[],h=b,++g;case 1:++g;case 2:a.clearCache(),g=a.options.sync?4:3;break;case 3:return++g,{done:!1,value:pb.fulfilled(void 0)};case 4:i=Fd(a,h),g=i?5:6;break;case 5:if(j.push(i.value),h===i.index)throw Error("Infinite loop detected");h=i.index,g=1;break;case 6:return a.clearCache(),++g,{done:!0,value:xc(h,a.Block(b,xb(j).concat([a.Return(b,a.Ident(b,"write"))])))};case 7:return{done:!0,value:void 0};default:throw Error("Unknown state: "+g)}}function e(a){throw c(),a}function f(a){try{return d(a)}catch(b){e(b)}}var f,g,d,e,h,i,j;return g=0,{close:c,iterator:function(){return this},next:function(){return f(void 0)},send:f,"throw":function(a){return e(a),f(void 0)}}}),Rd=v(Pd,kh,q(_g),mi("end")),vc=P(v(kh,D,Pd,L,["this",pc],O)),uc=v(function(a,b){return Rc(a,b)||a.options.embedded&&(Oc(a,b)||Pc(a,b))?xc(b):void 0},Mc,Pd,["this",function(a,b){var c;c=a.indent,c.push(+c.peek()+1);try{return pc(a,b)}finally{c.pop()}}]),tc=v(["this",uc],Rd),rc=Ac(function(a,b){var c,d;return d=a.pushScope(!0),c=a.options.noindent?tc(a,b):vc(a,b),a.popScope(),c}),sc=Ac(function(a,b){var c,d;return d=a.pushScope(!0),c=a.options.noindent?uc(a,b):vc(a,b),a.popScope(),c}),wc=q(k('"﻿"',65279)),ch=q(v(re,Xd,o(B(D)))),Ge=q(z((Kb=v(mi("import"),kh,["this",gh]),Hf(function(a,b,c){if(!a.isConst()||"string"!=typeof a.constValue())throw zg("Expected a string literal in import statement",b,c);return a.constValue()})(Kb)),ih),function(){return[]}),Xg=vb(function(a){function b(){i=14}function c(b){for(;;)switch(i){case 0:if(j=wc(a,0),q=ch(a,j.index),k=Pd(a,q.index),o=Ge(a,k.index),o.value.length&&!a.options.filename)throw zg("Cannot use the import statement if not compiling from a file",a,k.index);k=Pd(a,o.index),i=E(a,k.index)?1:2;break;case 1:return i=14,{done:!0,value:xc(k.index,a.Root(k.index,a.options.filename,a.Nothing(k.index)))};case 2:f=xb(o.value),g=0,h=f.length,++i;case 3:i=h>g?4:8;break;case 4:n=f[g],a.clearCache(),i=a.options.sync?5:6;break;case 5:a.importSync(n,o.index),i=7;break;case 6:return++i,{done:!1,value:a["import"](n,o.index)};case 7:++g,i=3;break;case 8:a.clearCache(),i=a.options.sync?9:10;break;case 9:p=Vg.sync(a,k.index),i=12;break;case 10:return++i,{done:!1,value:Vg(a,k.index)};case 11:p=b,++i;case 12:a.clearCache(),i=p?13:14;break;case 13:return l=Pd(a,p.index),m=kh(a,l.index),a.clearCache(),++i,{done:!0,value:xc(m.index,a.Root(k.index,a.options.filename,p.value))};case 14:return{done:!0,value:void 0};default:throw Error("Unknown state: "+i)}}function d(a){throw b(),a}function e(a){try{return c(a)}catch(b){d(b)}}var f,g,h,e,i,c,d,j,k,l,m,n,o,p,q;return i=0,{close:b,iterator:function(){return this},next:function(){return e(void 0)},send:e,"throw":function(a){return d(a),e(void 0)}}}),Ld=vb(function(a){function b(){f=6}function c(b){for(;;)switch(f){case 0:g=wc(a,0),i=ch(a,g.index),a.clearCache(),f=a.options.sync?1:2;break;case 1:h=Kd.sync(a,i.index),f=4;break;case 2:return++f,{done:!1,value:Kd(a,i.index)};case 3:h=b,++f;case 4:a.clearCache(),f=h?5:6;break;case 5:return++f,{done:!0,value:xc(h.index,a.Root(0,a.options.filename,h.value,!0,a.inGenerator.peek()))};case 6:return{done:!0,value:void 0};default:throw Error("Unknown state: "+f)}}function d(a){throw b(),a}function e(a){try{return c(a)}catch(b){d(b)}}var e,f,c,d,g,h,i;return f=0,{close:b,iterator:function(){return this},next:function(){return e(void 0)},send:e,"throw":function(a){return d(a),e(void 0)}}}),Jd=vb(function(a){function b(){f=5}function c(b){for(;;)switch(f){case 0:a.inGenerator.push(!0),f=a.options.sync?1:2;break;case 1:g=Ld.sync(a),f=4;break;case 2:return++f,{done:!1,value:Ld(a)};case 3:g=b,++f;case 4:return a.inGenerator.pop(),++f,{done:!0,value:g};case 5:return{done:!0,value:void 0};default:throw Error("Unknown state: "+f)}}function d(a){throw b(),a}function e(a){try{return c(a)}catch(b){d(b)}}var e,f,c,d,g;return f=0,{close:b,iterator:function(){return this},next:function(){return e(void 0)},send:e,"throw":function(a){return d(a),e(void 0)}}}),Ub=Ac(r(ei,cg,Le)),Tb=Ac(r(Xb,Je)),hd=Ac(F(r(v(D,Pd,["this",pc]),v(function(a,b){return a.options.embedded?xc(b):void 0},u(Ad),Pd,["this",pc]),Xf))),qh=function(){function a(c){var d;return d=this instanceof a?this:nb(b),d.initial=c,d.data=[],d}var b;return b=a.prototype,a.displayName="Stack",b.count=function(){return this.data.length},b.push=function(a){this.data.push(a)},b.pop=function(){var a;if(a=this.data,0===a.length)throw Error("Cannot pop");return a.pop()},b.canPop=function(){return this.data.length>0},b.peek=function(){var a,b;return a=this.data,b=a.length,0===b?this.initial:a[b-1]},a}(),yg=function(){function a(b,c,d){var e;return e=this instanceof a?this:nb(x),null==b&&(b=""),e.source=b,null==c&&(c=kb()),e.macros=c,null==d&&(d={}),e.options=d,e.indent=qh(0),e.position=qh("statement"),e.inAst=qh(!1),e.inGenerator=qh(!1),e.inFunctionTypeParams=qh(!1),e.preventUnclosedObjectLiteral=qh(!1),e.allowEmbeddedText=qh(!0),e.inMacro=qh(!1),e.inAst=qh(!1),e.inEvilAst=qh(!1),e.asterixAsArrayLength=qh(!1),e.disallowSpaceBeforeAccess=qh(!1),e.inCascade=qh(!1),e.requireParameterSequence=qh(!1),e.scope=qh(Yg(null,!0)),e.failureMessages=[],e.failureIndex=-1,e.calculateLineInfo(),e.cache=[],e.currentTmpId=-1,e}function c(a){return function(b){var c,d,e,f;if(0===b)return{line:0,column:0};for(e=0,f=a.length;e!==f;)if(d=Math.floor((e+f)/2),c=a[d],c>b)f=d;else{if(!(b>c)){e=d;break}if(e===d)break;e=d}return{line:e+1,column:b-a[e]+1}}}function d(a){var b;switch(b=ii(a).sort(function(a,b){return mb(a.toLowerCase(),b.toLowerCase())}),b.length){case 0:return"End of input";case 1:return b[0];case 2:return b[0]+" or "+b[1];default:return wb.call(b,0,-1).join(", ")+", or "+b[b.length-1]}}function e(a,b){var c,d,f,g,h,i,j,k;if(tb(b)){for(c=[],d=xb(b),f=0,g=d.length;g>f;++f)h=d[f],c.push(e(a,h));return c}if(b instanceof Nf)return b.reduce(a);if("object"==typeof b&&null!==b){j={};for(i in b)ub.call(b,i)&&(k=b[i],j[i]=e(a,k));return j}return b}function f(a,b,c){return this.Root(a,void 0,this.Return(a,this.Function(a,[b,this.Param(a,this.Ident(a,"__wrap"),void 0,!1,!0,void 0),this.Param(a,this.Ident(a,"__node"),void 0,!1,!0,void 0),this.Param(a,this.Ident(a,"__const"),void 0,!1,!0,void 0)],c,!0,!1),!1))}function g(a){if(a instanceof Ee)return["ident",a.name];if(a instanceof Eh)return["sequence"].concat(xb(n(h(a.params))));if(a instanceof Bh)return["choice"].concat(function(){var b,c,d,e,f;for(b=[],c=xb(a.choices),d=0,e=c.length;e>d;++d)f=c[d],b.push(g(f));return b}());if(a.isConst())return["const",a.constValue()];if(a instanceof Ch)return["many",a.multiplier].concat(xb(g(a.inner)));throw Error("Unknown param type: "+zb(a))}function h(a){return k(function(){var b,c,d,e,f,h,i;for(b=[],c=xb(a),d=0,e=c.length;e>d;++d)if(h=c[d],h.isConst())b.push(["const",h.constValue()]);else{if(!(h instanceof Dh))throw Error();if(f=h.ident,f instanceof Ee)i=["ident",f.name];else{if(!(f instanceof Gh))throw Error();i=["this"]}h.asType&&i.push.apply(i,xb(g(h.asType))),b.push(i)}return b}())}function i(a){var b,c,d,e,f,g;if(b=this,a instanceof Ee)return f=a.name,d=this.macros,d.hasSyntax(f)?d.getSyntax(f):function(a,b){return a.macros.getSyntax(f).call(this,a,b)};if(a instanceof Eh)return j.call(this,a.params);if(a instanceof Bh)return r.apply(void 0,function(){var c,d,e,f,g;for(c=[],d=xb(a.choices),e=0,f=d.length;f>e;++e)g=d[e],c.push(i.call(b,g));return c}());if(a.isConst())return g=a.constValue(),"string"!=typeof g&&this.error("Expected a constant string parameter, got "+zb(g)),ub.call(E,g)&&E[g]||ni(g);if(!(a instanceof Ch))return this.error("Unexpected type: "+zb(a));switch(e=a.multiplier,c=i.call(this,a.inner),e){case"*":return o(c);case"+":return p(c);case"?":return r(c,Xf);default:throw Error("Unknown syntax multiplier: "+e)}}function j(a){var b,c,d,e,f,g,h,j,k,l;for(j=[],b=xb(a),c=0,d=b.length;d>c;++c)if(h=b[c],h.isConst())k=h.constValue(),"string"!=typeof k&&this.error("Expected a constant string parameter, got "+zb(k)),j.push(ub.call(E,k)&&E[k]||ni(k));else if(h instanceof Dh){if(f=h.ident,f instanceof Ee)g=f.name;else{if(!(f instanceof Gh))throw Error("Don't know how to handle ident type: "+zb(f));g="this"}l=null!=(e=h.asType)?e:Ee(0,h.scope,"Expression"),j.push([g,i.call(this,l)])}else this.error("Unexpected parameter type: "+zb(h));return v.apply(void 0,xb(j))}function k(a){return 0===a.length?void 0:1!==a.length||tb(a[0])?a:a[0]}function l(a){var b,c;for(b in a)if(ub.call(a,b))return c=a[b],a}function m(){return{bare:!0}}function n(a){return null==a?[]:tb(a)?a:[a]}function q(a){var b,c,d,e,f,g,h,i;if(tb(a)){for(b=[],c=xb(a),d=0,e=c.length;e>d;++d)f=c[d],f instanceof Yf?b.push(void 0):b.push(q(f));return b}if(a instanceof Nf)return a;if("object"!=typeof a||null===a||a instanceof RegExp)return a;h={};for(g in a)ub.call(a,g)&&(i=a[g],i instanceof Yf||(h[g]=q(i)));return h}function s(a,b,c,d,e,f,g){function h(a,d,e){var f,h,i,j,k,l;if(d.inAst.peek()||!d.expandingMacros)return d.MacroAccess(e,g,d.getLine(e),q(a),"statement"===d.position.peek(),d.inGenerator.peek(),d.inEvilAst.peek());if(k=d.pushScope(!1),h=gf(d,e,d.position.peek(),d.inGenerator.peek(),d.inEvilAst.peek()),"assignOperator"===b&&h.isIdent(a.left)&&!d.inEvilAst.peek()){if(!h.hasVariable(a.left))throw d.buildError("Trying to assign with "+a.op+" to unknown variable '"+h.name(a.left)+"'",a.left);if(!h.isVariableMutable(a.left))throw d.buildError("Trying to assign with "+a.op+" to immutable variable '"+h.name(a.left)+"'",a.left)}try{j=c.call(h,q(a),lb(h,"wrap"),lb(h,"node"),lb(h,"getConst"))}catch(m){throw m instanceof ReferenceError?m:m instanceof hf?(i=d.getPosition(e),m.setPosition(i.line,i.column),m):hf(m,d,e)}return d.popScope(),j instanceof Nf?(f=d.getLine(e),j=j.reduce(d),l=h.getTmps(),l.unsaved.length?d.TmpWrapper(e,j,l.unsaved):j):j}var i,j,k,l,m,n,o;switch(o=this.macros,this.currentMacro){case z:return g=o.addBinaryOperator(e,h,f,g);case y:return g=o.addAssignOperator(e,h,f,g);case H:return g=o.addUnaryOperator(e,h,f,g);case A:if(!d)throw Error("Expected rule to exist");return o.addSyntax(f.name,Hf(h)(d)),g=o.addMacro(h,g,null!=f.type&&ub.call(Xh,l=f.type)?Xh[l]:void 0);default:if(!d)throw Error("Expected rule to exist");for(i=xb(o.getOrAddByNames(this.currentMacro)),j=0,k=i.length;k>j;++j)n=i[j],null!=this.pendingMacroId&&n.data.pop(),n.data.push(Ac((l=v(["macroName",n.token],["macroData",d]),Hf(h)(l))));if(null!=this.pendingMacroId){if(null!=g)throw Error("Cannot provide the macro id if there is a pending macro id");return m=this.pendingMacroId,this.pendingMacroId=null,o.replaceMacro(m,h,null!=f.type&&ub.call(Xh,l=f.type)?Xh[l]:void 0),g=m}return g=o.addMacro(h,g,null!=f.type&&ub.call(Xh,l=f.type)?Xh[l]:void 0)}}function t(a){function b(){return(new Date).getTime()-c>5?ah(function(a,d){return c=(new Date).getTime(),b.apply(a,xb(d))},this,arguments):a.apply(this,arguments)}var c;return c=(new Date).getTime(),b}function u(){var a;return a=t(function(b,c){var d,e,f,g;if(f=this,null!=b._macroExpandAlled)return c(null,b._macroExpandAlled);if(b instanceof df){try{g=this.macroExpand1(b)}catch(h){return c(h)}return g instanceof Nf?a.call(this,g,(e=!1,function(a,d){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=a?c(a):c(null,g._macroExpandAlled=g._macroExpanded=d._macroExpandAlled=d._macroExpanded=b._macroExpandAlled=b._macroExpanded=d)})):c(null,b._macroExpandAlled=b._macroExpanded=g)}return b.walkAsync(a,this,(d=!1,function(a,e){if(d)throw Error("Attempted to call function more than once");return d=!0,null!=a?c(a):c(null,e._macroExpandAlled=e._macroExpanded=b._macroExpandAlled=b._macroExpanded=e)}))})}function w(a){var b,c;return null!=a._macroExpandAlled?a._macroExpandAlled:a instanceof df?(b=this.macroExpand1(a),b instanceof Nf?(c=w.call(this,b),b._macroExpandAlled=b._macroExpanded=c._macroExpandAlled=c._macroExpanded=a._macroExpandAlled=a._macroExpanded=c):a._macroExpandAlled=a._macroExpanded=b):(c=a.walk(w,this),c._macroExpandAlled=c._macroExpanded=a._macroExpandAlled=a._macroExpanded=c)}var x,y,z,A,B,C,D,E,F,H;return x=a.prototype,a.displayName="Parser",x.buildError=function(a,b){var c;return c="number"==typeof b?b:b.index,hf(a,this,c)},x.makeTmp=function(a,b,c){return null==c&&(c=Xh.any),this.Tmp(a,++this.currentTmpId,b,c)},x.calculateLineInfo=function(){var a,b,d,e,f;for(e=/(?:\r\n?|[\n\u2028\u2029])/g,f=this.source,b=this.lineInfo=[],a=0,b.push(0);;){if(d=e.exec(f),!d)break;a=+d.index+ +d[0].length,b.push(a)}this.getPosition=c(b)},x.indexFromPosition=function(a,b){var c;return c=this.lineInfo[a-1],null!=c?+c+b-1:0},x.getPosition=function(){throw Error("line-info not initialized")},x.getLine=function(a){return null==a&&(a=this.index),this.getPosition(a).line},x.getColumn=function(a){return null==a&&(a=this.index),this.getPosition(a).column},x.fail=function(a,b){b>this.failureIndex&&(this.failureMessages=[],this.failureIndex=b),b>=this.failureIndex&&this.failureMessages.push(a)},x.getFailure=function(a){var b,c;return null==a&&(a=this.failureIndex),c=this.source,b=a<c.length?JSON.stringify(c.substring(a,a+20)):"end-of-input",zg("Expected "+d(this.failureMessages)+", but "+b+" found",this,a)},x["import"]=vb(function(a,c){function d(){h=9}function e(d){for(;;)switch(h){case 0:if(j=b("fs"),m=b("path"),"string"!=typeof i.options.filename)throw zg("Cannot import if the filename option is not provided",i,c);k=m.resolve(m.dirname(i.options.filename),a),h=i.options.sync?1:2;break;case 1:o=j.readFileSync(k,"utf8"),h=4;break;case 2:return++h,{done:!1,value:yb(j.readFile,j,[k,"utf8"])};case 3:o=d,++h;case 4:l={filename:k,noindent:i.options.noindent,sync:i.options.sync},h=i.options.sync?5:6;break;case 5:n=xg.sync(o,i.macros,l),h=8;break;case 6:return++h,{done:!1,value:xg(o,i.macros,l)};case 7:n=d,++h;case 8:i.macros=n.macros,++h;case 9:return{done:!0,value:void 0};default:throw Error("Unknown state: "+h)}}function f(a){throw d(),a}function g(a){try{return e(a)}catch(b){f(b)}}var g,h,e,i,f,j,k,l,m,n,o;return i=this,h=0,{close:d,iterator:function(){return this},next:function(){return g(void 0)},send:g,"throw":function(a){return f(a),g(void 0)}}}),x.importSync=function(a,b){if(!this.options.sync)throw Error("Expected options.sync to be true");return this["import"].sync.call(this,a,b)},x.pushScope=function(a,b){var c;return null==a&&(a=!1),null==b&&(b=null),c=(b||this.scope.peek()).clone(a),this.scope.push(c),c},x.popScope=function(){this.scope.pop()},x.getPackageVersion=function(){var a;return null==(a=this._packageVersion)?this._packageVersion=me(this.options.filename):a},x.hasMacroOrOperator=function(a){return this.macros.hasMacroOrOperator(a)},x.assignOperators=function(){return this.macros.assignOperators},x.allBinaryOperators=function(){return this.macros.allBinaryOperators()},x.binaryOperators=function(a){return this.macros.binaryOperators[a]},x.prefixUnaryOperators=function(){return this.macros.prefixUnaryOperators},x.postfixUnaryOperators=function(){return this.macros.postfixUnaryOperators},x.getMacroByName=function(a){return this.macros.getByName(a)},x.getMacroByLabel=function(a){return this.macros.getByLabel(a)},x.enterMacro=function(a,b){if(!b)throw Error("Must provide a macro name");if(this.currentMacro)throw zg("Attempting to define a macro "+Pg(String(b))+" inside a macro "+Pg(String(this.currentMacro)),this,a);this.currentMacro=b},x.exitMacro=function(){if(!this.currentMacro)throw Error("Attempting to exit a macro when not in one");
this.currentMacro=null},x.defineHelper=function(a,c,d){var e,f,g,h,i,j;i=b("./jstranslator"),h=this.macroExpandAll(d).reduce(this),j=h.type(this),e=i.defineHelper(this.macros,this.getPosition,c,h,j),g=e.helper,f=e.dependencies,this.options.serializeMacros&&this.macros.addSerializedHelper(c.name,g,j,f)},E={",":Sc,";":Zg,":":Mc,":=":Qc,"":Xf,"\n":jh,"<":Ye,">":pe,"(":lg,")":Kc,"[":ng,"]":Lc,"{":jg,"}":Hc,end:G},C=function(){var a;return a={ident:function(a,b){return Ee(0,a,b)},sequence:function(a){var b;return b=wb.call(arguments,1),Eh(0,a,B(b,a))},choice:function(a){var b;return b=wb.call(arguments,1),Bh(0,a,function(){var c,d,e,f;for(c=[],d=0,e=b.length;e>d;++d)f=b[d],c.push(C(f,a));return c}())},"const":function(a,b){return Zc(0,a,b)},many:function(a,b){var c;return c=wb.call(arguments,2),Ch(0,a,C(c,a),b)}},function(b,c){var d;if(null==b&&(b=[]),0!==b.length){if(d=b[0],ub.call(a,d))return a[d].apply(a,[c].concat(xb(wb.call(b,1))));throw Error("Unknown as-type: "+String(d))}}}(),B=function(){var a;return a={"const":function(a,b){return Zc(0,a,b)},ident:function(a,b){var c;return c=wb.call(arguments,2),Dh(0,a,Ee(0,a,b),C(c,a))},"this":function(a){var b;return b=wb.call(arguments,1),Dh(0,a,Gh(0,a),C(b,a))}},function(b,c){var d,e,f,g,h,i;for(d=[],e=xb(n(b)),f=0,g=e.length;g>f;++f){if(h=e[f],i=h[0],!ub.call(a,i))throw Error("Unknown param type: "+String(i));d.push(a[i].apply(a,[c].concat(xb(wb.call(h,1)))))}return d}}(),F={syntax:function(a,b,c,d,g,i){var n,o,p,q,r,s,t,u,v,w,x;if(n=this,s=this.Ident(a,"macroFullData"),p=this.Param(a,s,void 0,!1,!1,void 0),t=this.Ident(a,"macroName"),v=this.scope.peek(),v.add(t,!1,Xh.string),r=this.Ident(a,"macroData"),v.add(r,!1,Xh.object),c=this.Block(a,[this.Var(a,t,!1),this.Assign(a,t,"=",this.Access(a,s,this.Const(a,"macroName"))),this.Var(a,r,!1),this.Assign(a,r,"=",this.Access(a,s,this.Const(a,"macroData")))].concat(function(){var c,d,e,f,g;for(c=[],d=xb(b),e=0,f=d.length;f>e;++e)g=d[e],g instanceof Dh&&(v.add(g.ident,!0,Xh.any),c.push(n.Block(a,[n.Var(a,g.ident,!0),n.Assign(a,g.ident,"=",n.Access(a,r,n.Const(a,g.ident.name)))])));return c}(),[c])),u=f.call(this,a,p,c),x=i(this.macroExpandAll(u).reduce(this),this.macros,this.getPosition,{"return":!0}),o=x.node.toString(m(g)),g.serializeMacros&&(w=o),q=Function(o)(),"function"!=typeof q)throw Error("Error creating function for macro: "+String(this.currentMacro));return{handler:function(a){var b;return b=wb.call(arguments,1),q.apply(this,[e(this.parser,a)].concat(xb(b))).reduce(this.parser)},rule:j.call(this,b),serialization:null!=w?{type:"syntax",code:w,options:l(d),params:h(b),names:k(this.currentMacro)}:void 0}},defineSyntax:function(a,b,c,d,g,i){var k,n,o;return k=this,n=null!=c?function(){var h,j,l,n,p,q,r;if(n=k.Ident(a,"macroData"),j=k.Param(a,n,void 0,!1,!1,void 0),q=k.scope.peek(),c=k.Block(a,function(){var c,d,e,f,g;for(c=[],d=xb(b),e=0,f=d.length;f>e;++e)g=d[e],g instanceof Dh&&(q.add(g.ident,!0,Xh.any),c.push(k.Block(a,[k.Var(a,g.ident,!0),k.Assign(a,g.ident,"=",k.Access(a,n,k.Const(a,g.ident.name)))])));return c}().concat([c])),p=f.call(k,a,j,c),r=i(k.macroExpandAll(p).reduce(k),k.macros,k.getPosition,{"return":!0}),h=r.node.toString(m(g)),g.serializeMacros&&(o=h),l=Function(h)(),"function"!=typeof l)throw Error("Error creating function for syntax: "+d.name);return function(a){var b;return b=wb.call(arguments,1),e(this.parser,l.apply(this,[e(this.parser,a)].concat(xb(b))))}}():function(a){var b;return b=wb.call(arguments,1),e(this.parser,a)},{handler:n,rule:j.call(this,b),serialization:g.serializeMacros?{type:"defineSyntax",code:o,options:l(d),params:h(b)}:void 0}},call:function(a,b,c,d,g,h){var i,j,n,o,p,q,r,s,t,u,v;if(i=this,q=this.Ident(a,"macroFullData"),n=this.Param(a,q,void 0,!1,!1,void 0),t=this.scope.peek(),r=this.Ident(a,"macroName"),t.add(r,!1,Xh.string),p=this.Ident(a,"macroData"),t.add(p,!1,Xh.object),c=this.Block(a,[this.Var(a,r,!1),this.Assign(a,r,"=",this.Access(a,q,this.Const(a,"macroName"))),this.Var(a,p,!1),this.Assign(a,p,"=",this.Access(a,q,this.Const(a,"macroData")))].concat(function(){var c,d,e,f,g;for(c=[],d=xb(b),f=0,e=d.length;e>f;++f)g=d[f],g instanceof ug&&(t.add(g.ident,!0,Xh.any),c.push(i.Block(a,[i.Var(a,g.ident,!0),i.Assign(a,g.ident,"=",i.Access(a,p,i.Const(a,f)))])));return c}(),[c])),s=f.call(this,a,n,c),v=h(this.macroExpandAll(s).reduce(this),this.macros,this.getPosition,{"return":!0}),j=v.node.toString(m(g)),g.serializeMacros&&(u=j),o=Function(j)(),"function"!=typeof o)throw Error("Error creating function for macro: "+this.currentMacro);return o=function(a){return function(b){var c;return c=wb.call(arguments,1),a.apply(this,[e(this.parser,b)].concat(xb(c))).reduce(this.parser)}}(o),{handler:o,rule:Te,serialization:null!=u?{type:"call",code:u,options:l(d),names:k(this.currentMacro)}:void 0}},binaryOperator:function(a,b,c,d,g,h){var i,j,n,o,p,q,r,s,t;if(i=this,p=this.Ident(a,"macroData"),n=this.Param(a,p,void 0,!1,!1,void 0),r=this.scope.peek(),c=this.Block(a,function(){var b,c,d,e,f,g;for(b=[],c=["left","op","right"],d=0,e=c.length;e>d;++d)g=c[d],f=i.Ident(a,g),r.add(f,!0,Xh.any),b.push(i.Block(a,[i.Var(a,f,!0),i.Assign(a,f,"=",i.Access(a,p,i.Const(a,g)))]));return b}().concat([c])),q=f.call(this,a,n,c),t=h(this.macroExpandAll(q).reduce(this),this.macros,this.getPosition,{"return":!0}),j=t.node.toString(m(g)),g.serializeMacros&&(s=j),o=Function(j)(),"function"!=typeof o)throw Error("Error creating function for binary operator "+b.join(", "));return o=d.invertible?function(a){return function(b){var c,d;return c=wb.call(arguments,1),d=a.apply(this,[e(this.parser,b)].concat(xb(c))),b.inverted?bi(d.index,d.scope,"!",d).reduce(this.parser):d.reduce(this.parser)}}(o):function(a){return function(b){var c;return c=wb.call(arguments,1),a.apply(this,[e(this.parser,b)].concat(xb(c))).reduce(this.parser)}}(o),{handler:o,rule:void 0,serialization:null!=s?{type:"binaryOperator",code:s,operators:k(b),options:l(d)}:void 0}},assignOperator:function(a,b,c,d,g,h){var i,j,n,o,p,q,r,s,t;if(i=this,p=this.Ident(a,"macroData"),n=this.Param(a,p,void 0,!1,!1,void 0),r=this.scope.peek(),c=this.Block(a,function(){var b,c,d,e,f,g;for(b=[],c=["left","op","right"],d=0,e=c.length;e>d;++d)g=c[d],f=i.Ident(a,g),r.add(f,!0,Xh.any),b.push(i.Block(a,[i.Var(a,f,!0),i.Assign(a,f,"=",i.Access(a,p,i.Const(a,g)))]));return b}().concat([c])),q=f.call(this,a,n,c),t=h(this.macroExpandAll(q).reduce(this),this.macros,this.getPosition,{"return":!0}),j=t.node.toString(m(g)),g.serializeMacros&&(s=j),o=Function(j)(),"function"!=typeof o)throw Error("Error creating function for assign operator "+b.join(", "));return o=function(a){return function(b){var c;return c=wb.call(arguments,1),a.apply(this,[e(this.parser,b)].concat(xb(c))).reduce(this.parser)}}(o),{handler:o,rule:void 0,serialization:null!=s?{type:"assignOperator",code:s,operators:k(b),options:l(d)}:void 0}},unaryOperator:function(a,b,c,d,g,h){var i,j,n,o,p,q,r,s,t;if(i=this,p=this.Ident(a,"macroData"),n=this.Param(a,p,void 0,!1,!1,void 0),r=this.scope.peek(),c=this.Block(a,function(){var b,c,d,e,f,g;for(b=[],c=["op","node"],d=0,e=c.length;e>d;++d)g=c[d],f=i.Ident(a,g),r.add(f,!0,Xh.any),b.push(i.Block(a,[i.Var(a,f,!0),i.Assign(a,f,"=",i.Access(a,p,i.Const(a,g)))]));return b}().concat([c])),q=f.call(this,a,n,c),t=h(this.macroExpandAll(q).reduce(this),this.macros,this.getPosition,{"return":!0}),j=t.node.toString(m(g)),g.serializeMacros&&(s=j),o=Function(j)(),"function"!=typeof o)throw Error("Error creating function for unary operator "+b.join(", "));return o=function(a){return function(b){var c;return c=wb.call(arguments,1),a.apply(this,[e(this.parser,b)].concat(xb(c))).reduce(this.parser)}}(o),{handler:o,rule:void 0,serialization:null!=s?{type:"unaryOperator",code:s,operators:k(b),options:l(d)}:void 0}}},D={syntax:function(a){var b,c,d,f,g,h,i;if(b=this,c=a.code,i=a.params,g=a.names,h=a.options,null==h&&(h={}),f=a.id,g=n(g),d=c,"function"!=typeof d)throw Error("Error deserializing function for macro "+name);return d=function(a){return function(b){var c;return c=wb.call(arguments,1),a.apply(this,[e(this.parser,b)].concat(xb(c))).reduce(this.parser)}}(d),this.enterMacro(0,g),s.call(this,0,"syntax",d,j.call(this,B(i,this.scope.peek())),null,h,f),this.exitMacro()},call:function(a){var b,c,d,f,g,h;if(b=this,c=a.code,g=a.names,h=a.options,null==h&&(h={}),f=a.id,g=n(g),d=c,"function"!=typeof d)throw Error("Error deserializing function for macro "+name);return d=function(a){return function(b){var c;return c=wb.call(arguments,1),a.apply(this,[e(this.parser,b)].concat(xb(c))).reduce(this.parser)}}(d),this.enterMacro(0,g),s.call(this,0,"call",d,Te,null,h,f),this.exitMacro()},defineSyntax:function(a){var b,c,d,f,g,h;if(b=this,c=a.code,h=a.params,g=a.options,null==g&&(g={}),f=a.id,this.macros.hasSyntax(g.name))throw Error("Cannot override already-defined syntax: "+g.name);if(null!=c){if(d=c,"function"!=typeof d)throw Error("Error deserializing function for macro syntax "+g.name);d=function(a){return function(b){var c;return c=wb.call(arguments,1),e(this.parser,a.apply(this,[e(this.parser,b)].concat(xb(c))))}}(d)}else d=function(a){return e(this.parser,a)};return this.enterMacro(0,A),s.call(this,0,"defineSyntax",d,j.call(this,B(h,this.scope.peek())),null,g,f),this.exitMacro()},binaryOperator:function(a){var b,c,d,f,g,h;if(b=this,c=a.code,g=a.operators,h=a.options,null==h&&(h={}),f=a.id,g=n(g),d=c,"function"!=typeof d)throw Error("Error deserializing function for binary operator "+g.join(", "));return d=h.invertible?function(a){return function(b){var c,d;return c=wb.call(arguments,1),d=a.apply(this,[e(this.parser,b)].concat(xb(c))),b.inverted?bi(d.index,d.scope,"!",d).reduce(this.parser):d.reduce(this.parser)}}(d):function(a){return function(b){var c;return c=wb.call(arguments,1),a.apply(this,[e(this.parser,b)].concat(xb(c))).reduce(this.parser)}}(d),this.enterMacro(0,z),s.call(this,0,"binaryOperator",d,void 0,g,h,f),this.exitMacro()},assignOperator:function(a){var b,c,d,f,g,h;if(b=this,c=a.code,g=a.operators,h=a.options,null==h&&(h={}),f=a.id,g=n(g),d=c,"function"!=typeof d)throw Error("Error deserializing function for assign operator "+g.join(", "));return d=function(a){return function(b){var c;return c=wb.call(arguments,1),a.apply(this,[e(this.parser,b)].concat(xb(c))).reduce(this.parser)}}(d),this.enterMacro(0,y),s.call(this,0,"assignOperator",d,void 0,g,h,f),this.exitMacro()},unaryOperator:function(a){var b,c,d,f,g,h;if(b=this,c=a.code,g=a.operators,h=a.options,null==h&&(h={}),f=a.id,g=n(g),d=c,"function"!=typeof d)throw Error("Error deserializing function for unary operator "+g.join(", "));d=function(a){return function(b){var c;return c=wb.call(arguments,1),a.apply(this,[e(this.parser,b)].concat(xb(c))).reduce(this.parser)}}(d),this.enterMacro(0,H),s.call(this,0,"unaryOperator",d,void 0,g,h,f),this.exitMacro()}},x.startMacroSyntax=function(a,b,c){function d(a,b,c){if(b.inAst.peek()||!b.expandingMacros)return b.MacroAccess(c,k,b.getLine(c),q(a),"statement"===b.position.peek(),b.inGenerator.peek(),b.inEvilAst.peek());throw Error("Cannot use macro until fully defined")}var e,f,g,h,i,k,l,m;if(null==c&&(c={}),!this.currentMacro)throw Error("Attempting to specify a macro syntax when not in a macro");for(m=j.call(this,b),l=this.macros,e=xb(l.getOrAddByNames(this.currentMacro)),f=0,g=e.length;g>f;++f)i=e[f],i.data.push((h=v(["macroName",i.token],["macroData",m]),Hf(d)(h)));return k=l.addMacro(d,void 0,null!=c.type&&ub.call(Xh,h=c.type)?Xh[h]:void 0),this.pendingMacroId=k,b},x.macroSyntax=function(a,c,d,e,f){var g,h,i,j,k;if(!ub.call(F,c))throw Error("Unknown macro-syntax type: "+c);this.currentMacro||this.error("Attempting to specify a macro syntax when not in a macro"),g=F[c].call(this,a,d,f,e,this.options,b("./jstranslator")),h=g.handler,j=g.rule,k=g.serialization,i=s.call(this,a,c,h,j,d,e),null!=k&&(k.id=i,this.macros.addMacroSerialization(k))},z={},x.defineBinaryOperator=function(a,b,c,d){return this.enterMacro(a,z),this.macroSyntax(a,"binaryOperator",b,c,d),this.exitMacro()},y={},x.defineAssignOperator=function(a,b,c,d){return this.enterMacro(a,y),this.macroSyntax(a,"assignOperator",b,c,d),this.exitMacro()},H={},x.defineUnaryOperator=function(a,b,c,d){return this.enterMacro(a,H),this.macroSyntax(a,"unaryOperator",b,c,d),this.exitMacro()},A={},x.defineSyntax=function(a,b,c,d){return this.enterMacro(a,A),this.macroSyntax(a,"defineSyntax",c,{name:b},d),this.exitMacro()},x.defineConst=function(a,b,c){var d;d=this.scope.peek(),d===this.scope.initial&&(this.macros.addConst(b,c),this.options.serializeMacros&&this.macros.addSerializedConst(b)),d.addConst(b,c)},x.getConst=function(a,b){var c,d;return null==b&&(b=this.scope.peek()),null!=(c=b.constValue(a))?c:(d=this.macros.consts,ub.call(d,a)?{value:d[a]}:void 0)},x.getConstValue=function(a,b){var c;return c=this.getConst(a),c?c.value:b},x.deserializeMacros=function(a){var b,c,d,e,f,g,h;for(h in D)if(ub.call(D,h))for(f=D[h],b=xb(null!=(e=ub.call(a,h)?a[h]:void 0)?e:[]),c=0,d=b.length;d>c;++c)g=b[c],f.call(this,g)},x.macroExpand1=function(a){var b,c,d,e,f,g;if(null!=a._macroExpanded)return a._macroExpanded;if(a instanceof df){for(e=[];a instanceof df;){e.push(a),this.position.push(a.inStatement?"statement":"expression"),this.inGenerator.push(a.inGenerator),this.inEvilAst.push(a.inEvilAst),this.scope.push(a.scope),f=this.expandingMacros,this.expandingMacros=!0,g=void 0;try{g=this.macros.getById(a.id)(a.data,this,a.index)}catch(h){throw h instanceof hf&&h.setPosition(a.callLine,0),h}finally{this.scope.pop(),this.position.pop(),this.inGenerator.pop(),this.inEvilAst.pop(),this.expandingMacros=f}a=a.doWrapped?g.doWrap(this):g}for(b=0,c=e.length;c>b;++b)d=e[b],d._macroExpanded=a;return a}return a._macroExpanded=a},x.macroExpandAllAsync=function(a,b){return u().call(this,a,function(a,c){return b(a,c)})},x.macroExpandAll=function(a){return w.call(this,a)},x.macroExpandAllPromise=function(a){var b;return this.options.sync?pb.fulfilled(this.macroExpandAll(a)):(b=pb(),this.macroExpandAllAsync(a,function(a,c){return a?b.reject(a):b.fulfill(c)}),b.promise)},x.clearCache=function(){this.cache=[]},a.addNodeFactory=function(b,c){a.prototype[b]=function(a){var b;return b=wb.call(arguments,1),c.apply(void 0,[a,this.scope.peek()].concat(xb(b)))}},a}(),xg=vb(function(a,b,c){function d(){h=8}function e(d){for(;;)switch(h){case 0:null==b&&(b=null),null==c&&(c={}),o=yg(a,null!=b?b.clone():void 0,c),b=o.macros,r=c.embeddedGenerator?Jd:c.embedded?Ld:Xg,s=(new Date).getTime(),++h;case 1:h=c.sync?2:3;break;case 2:q=r.sync(o),h=6;break;case 3:return++h,{done:!1,value:r(o)};case 4:q=d,h=6;break;case 5:if(i!==dh)throw i;++h;case 6:if(o.clearCache(),k=(new Date).getTime(),"function"==typeof c.progress&&c.progress("parse",k-s),!q||q.index<a.length)throw o.getFailure(null!=q?q.index:void 0);return++h,{done:!1,value:o.macroExpandAllPromise(q.value)};case 7:return m=d,j=(new Date).getTime(),"function"==typeof c.progress&&c.progress("macroExpand",j-k),p=m.reduce(o),l=(new Date).getTime(),"function"==typeof c.progress&&c.progress("reduce",l-j),n=o.getPosition,o=null,++h,{done:!0,value:{result:p,macros:b,getPosition:n,parseTime:k-s,macroExpandTime:j-k,reduceTime:l-j,time:l-s}};case 8:return{done:!0,value:void 0};default:throw Error("Unknown state: "+h)}}function f(a){if(!(h>=1&&4>=h))throw d(),a;i=a,h=5}function g(a){for(;;)try{return e(a)}catch(b){f(b)}}var g,h,e,f,i,j,k,l,m,n,o,p,q,r,s;return h=0,{close:d,iterator:function(){return this},next:function(){return g(void 0)},send:g,"throw":function(a){return f(a),g(void 0)}}}),xg.ParserError=zg,xg.MacroError=hf,xg.Node=Nf,xg.MacroHolder=jf,xg.unusedCaches=ji,xg.deserializePrelude=function(a){var b,c;return b="string"==typeof a?Function("'use strict'; return "+a)():a,c=yg(),c.macros.deserialize(b,c,{}),c.macros},xg.getReservedWords=function(a,b){return null==b&&(b={}),ii(xb(ne(b)).concat(xb(null!=a&&"function"==typeof a.getMacroAndOperatorNames&&a.getMacroAndOperatorNames()||[])))},a.exports=xg;for(Ab=["Access","AccessMulti","Args","Array","Assign","Binary","Block","Break","Call","Cascade","Comment","Const","Continue","Debugger","Def","EmbedWrite","Eval","For","ForIn","Function","Ident","If","MacroAccess","MacroConst","Nothing","Object","Param","Regexp","Return","Root","Spread","Super","Switch","SyntaxChoice","SyntaxMany","SyntaxParam","SyntaxSequence","This","Throw","Tmp","TmpWrapper","TryCatch","TryFinally","TypeFunction","TypeGeneric","TypeObject","TypeUnion","Unary","Var","Yield"],Fb=0,Hb=Ab.length;Hb>Fb;++Fb)Of=Ab[Fb],yg.addNodeFactory(Of,Nf[Of]);yg.prototype.string=Nf.string,yg.prototype.arrayParam=yg.prototype.array,yg.prototype.object=Nf.object,yg.prototype.objectParam=Nf.objectParam}.call(this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:this),a.exports},b["./parser-utils"]=function(){var a={exports:this},c=this;return function(){function a(a,b,c){var d,e,f,g,h,i,j;for(j=[],g=!1,d=k(a),e=0,f=d.length;f>e;++e)h=d[e],i=b.call(c,h),j.push(i),h!==i&&(g=!0);return g?j:a}function d(a,b,c,d){var e;return e=!1,f(1,+a.length,!0,function(d,f){var g,h;return h=a[d],b.call(c,h,(g=!1,function(a,b){if(g)throw Error("Attempted to call function more than once");return g=!0,null!=a?f(a):(h!==b&&(e=!0),f(null,b))}))},function(b,c){return"undefined"!=typeof b&&null!==b?d(b):d(null,e?c:a)})}function e(a,c,d){var f,g,h,i,j,o;if(j=b("./parser-nodes"),c instanceof j.Param)if((h=c.ident)instanceof j.Ident||h instanceof j.Tmp)a.add(c.ident,d||c.isMutable,c.asType?m(c.asType):c.spread?n.array:n.any);else{if(!(c.ident instanceof j.Access))throw Error("Unknown param ident: "+l(c.ident));if(!(c.ident.child instanceof j.Const)||"string"!=typeof c.ident.child.value)throw Error("Expected constant access: "+l(c.ident.child));a.add(j.Ident(c.index,c.scope,c.ident.child.value),d||c.isMutable,c.asType?m(c.asType):c.spread?n.array:n.any)}else if(c instanceof j.Array)for(f=k(c.elements),g=f.length;g--;)i=f[g],e(a,i,d);else if(c instanceof j.Object)for(f=k(c.pairs),g=f.length;g--;)o=f[g],e(a,o.value,d);else if(!(c instanceof j.Nothing))throw Error("Unknown param node type: "+l(c))}var f,g,h,i,j,k,l,m,n;f=function(a,b,c,d,e){function f(a,b){j||(--n,null!=a&&null==i&&(i=a),c&&null==i&&arguments.length>1&&m.push(b),o||g())}function g(){for(;!j&&null==i&&a>n&&++k<b;)++n,o=!0,d(k,h(f)),o=!1;j||null==i&&0!==n||(j=!0,null!=i?e(i):e(null,m))}var i,j,k,m,n,o;if("number"!=typeof a)throw TypeError("Expected limit to be a Number, got "+l(a));if("number"!=typeof b)throw TypeError("Expected length to be a Number, got "+l(b));if(null==c)c=!1;else if("boolean"!=typeof c)throw TypeError("Expected hasResult to be a Boolean, got "+l(c));if("function"!=typeof d)throw TypeError("Expected onValue to be a Function, got "+l(d));if("function"!=typeof e)throw TypeError("Expected onComplete to be a Function, got "+l(e));return m=c?[]:null,0>=b?e(null,m):((1>a||a!==a)&&(a=1/0),i=null,n=0,o=!1,j=!1,k=-1,g(),void 0)},g="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),h=function(){function a(){throw Error("Attempted to call function more than once")}function b(){}return function(c,d){if("function"!=typeof c)throw TypeError("Expected func to be a Function, got "+l(c));if(null==d)d=!1;else if("boolean"!=typeof d)throw TypeError("Expected silentFail to be a Boolean, got "+l(d));return function(){var e;return e=c,c=d?b:a,e.apply(this,arguments)}}}(),i=Object.prototype.hasOwnProperty,j=Array.prototype.slice,k=function(a){if(null==a)throw TypeError("Expected an object, got "+l(a));if(g(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return j.call(a);throw TypeError("Expected an object with a length property, got "+l(a))},l=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),n=b("./types"),m=function(){var a;return a={Boolean:n.boolean,String:n.string,Number:n.number,Array:n.array,Object:n.object,Function:n["function"],RegExp:n.regexp,Date:n.date,Error:n.error,RangeError:n.error,ReferenceError:n.error,SyntaxError:n.error,TypeError:n.error,URIError:n.error},function(c){var d,e,f,g,h,j,o,p,q,r,s,t,u,v;if(t=b("./parser-nodes"),!(c instanceof t))throw TypeError("Expected a Node, got "+l(c));if(c instanceof t.Ident)return(i.call(a,h=c.name)?a[h]:void 0)||n.any;if(c instanceof t.Const)return null===c.value?n["null"]:void 0===c.value?n.undefined:n.any;if(c instanceof t.TypeGeneric){for(p=m(c.basetype),d=[],e=k(c.args),f=0,g=e.length;g>f;++f)j=e[f],d.push(m(j));return o=d,p===n.array||p===n["function"]?n.generic.apply(n,[p.base].concat(k(o))):p!==n.any?n.generic.apply(n,[p].concat(k(o))):n.any}if(c instanceof t.TypeUnion){for(q=n.none,d=k(c.types),f=d.length;f--;)u=d[f],q=q.union(m(u));return q}if(c instanceof t.TypeObject){for(r={},d=k(c.pairs),f=0,g=d.length;g>f;++f)h=d[f],s=h.key,v=h.value,s instanceof t.Const&&(r[s.value]=m(v));return n.makeObject(r)}return n.any}}(),c.nodeToType=m,c.map=a,c.mapAsync=d,c.addParamToScope=e}.call(this),a.exports},b["./parser-scope"]=function(){var a={exports:this};return function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;c="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},d=function(a,b){var c;for(c in b)f.call(b,c)&&(a[c]=b[c]);return a},e="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),f=Object.prototype.hasOwnProperty,g=Array.prototype.slice,h=function(a){if(null==a)throw TypeError("Expected an object, got "+i(a));if(e(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return g.call(a);throw TypeError("Expected an object with a length property, got "+i(a))},i=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),p=b("./types"),l=b("./parser-nodes"),k=l.Ident,o=l.Tmp,n=function(a){function b(d){var f,g;return f=this instanceof b?this:c(e),null==d&&(d="Scope already destroyed"),f.message=d,g=a.call(f,f.message),"function"==typeof a.captureStackTrace?a.captureStackTrace(f,b):"stack"in g&&(f.stack=g.stack),f}var d,e;return d=a.prototype,e=b.prototype=c(d),e.constructor=b,b.displayName="ScopeDestroyedError","function"==typeof a.extended&&a.extended(b),e.name="ScopeDestroyedError",b}(Error),m=function(){function a(b,d){var e;if(e=this instanceof a?this:c(l),null==b&&(b=null),e.parent=b,null==d&&(d=!1),e.isTop=d,!b&&!d)throw Error("Must either provide a parent or is-top = true");return e.destroyed=!1,e.children=[],e.variables={},e.consts={},e.tmps={},d||b.children.push(e),e}function e(a){var b;for(b in a)if(f.call(a,b))return!1;return!0}function g(a,b){var c,d,e,i,j,k;if(k=a.variables,f.call(k,b))return k[b];for(c=h(a.children),d=0,e=c.length;e>d;++d)if(j=c[d],null!=(i=g(j,b)))return i}function i(a,b){var c,d,e,g,j,k;if(k=a.tmps,f.call(k,b))return k[b];for(c=h(a.children),d=0,e=c.length;e>d;++d)if(j=c[d],null!=(g=i(j,b)))return g}function j(a,b){var c,d,e,f,h;for(e=a,f=b instanceof o,h=0;e;){if(++h,h>1e3)throw Error("Infinite loop detected");if(e=e.top(),f){if(null!=(c=i(e,b.id)))return c}else if(null!=(d=g(e,b.name)))return d;e=e.parent}}function k(a,b){var c,d,e,g,i,j;if(j=a.consts,f.call(j,b))return{value:j[b]};for(c=h(a.children),d=0,e=c.length;e>d;++d)if(i=c[d],null!=(g=k(i,b)))return g}var l;return l=a.prototype,a.displayName="Scope",l._allVariables=function(){var a,b,c,e,f;for(f=d({},this.variables),a=h(this.children),b=0,c=a.length;c>b;++b)e=a[b],d(f,e._allVariables());return f},l._allTmps=function(){var a,b,c,e,f;for(f=d({},this.tmps),a=h(this.children),b=0,c=a.length;c>b;++b)e=a[b],d(f,e._allTmps());return f},l._allConsts=function(){var a,b,c,e,f;for(f=d({},this.consts),a=h(this.children),b=0,c=a.length;c>b;++b)e=a[b],d(f,e._allConsts());return f},l.inspect=function(){var a,c,d,f,g;return this.isTop?(c=b("util").inspect,g=this._allVariables(),f=this._allTmps(),a=this._allConsts(),d=[],d.push("Scope("),e(g)&&e(f)&&e(a)||d.push(c(g)),e(f)&&e(a)||(d.push(", "),d.push(c(f))),e(a)||(d.push(", "),d.push(c(a))),d.push(")"),this.parent&&(d.push(" -> "),d.push(this.parent.inspect())),d.join("")):this.top().inspect()},l.destroy=function(){var a,b,c,d,e;if(this.destroyed)throw n();for(a=h(this.children),b=a.length;b--;)c=a[b],c.destroy();if(!this.isTop){if(e=this.parent.children,d=e.lastIndexOf(this),-1===d)throw Error("Not found in parents' children");e.splice(d,1)}},l.clone=function(b){if(null==b&&(b=!1),this.destroyed)throw n();return a(this,b)},l.reparent=function(a){var b,c,d;if(null==a&&(a=null),this.destroyed)throw n();if(!a&&!this.isTop)throw Error("Must either provide a parent or is-top = true");if(c=this.parent,a!==c){if(a===this)throw Error("Cannot parent to self");if(a&&a.parent===this)throw Error("Trying to become your own grandpa");if(this.parent=a,!this.isTop){if(d=c.children,b=d.lastIndexOf(this),-1===b)throw Error("Not found in old parents' children");d.splice(b,1),a.children.push(this)}}},l.top=function(){if(this.destroyed)throw n();return this.isTop?this:this.parent.top()},l.add=function(a,b,c){if(null==b&&(b=!1),this.destroyed)throw n();a instanceof o?this.tmps[a.id]={isMutable:b,type:c}:this.variables[a.name]={isMutable:b,type:c}},l.addConst=function(a,b){this.consts[a]=b},l.has=function(a){if(this.destroyed)throw n();return null!=j(this,a)},l.isMutable=function(a){var b;if(this.destroyed)throw n();return(null!=(b=j(this,a))?b.isMutable:void 0)||!1},l.type=function(a){var b;if(this.destroyed)throw n();return(null!=(b=j(this,a))?b.type:void 0)||p.any},l.constValue=function(a){var b,c,d;if(this.destroyed)throw n();for(c=this,d=0;c;){if(++d,d>1e3)throw Error("Infinite loop detected");if(c=c.top(),null!=(b=k(c,a)))return b;c=c.parent}},a}(),a.exports=m,j=a.exports,j.ScopeDestroyedError=n}.call(this),a.exports},b["./parser-nodes"]=function(){var a={exports:this};return function(c){function d(a){var b,c;if(0===a.length)return a;for(a=a.slice(),b=+a.length;b--&&(c=a[b],!c||c instanceof V||0===c.length);)a.pop();return a}function e(a,b){var c,d,e,f,g,h,i,k,l,m,o;for(h=n.call(arguments,3),i=null!=a?a-1:null,k=!1,d=h.length;d--&&(g=h[d],!g||g instanceof V||j(g)&&0===g.length);)h.pop();for(c=[],d=0,e=h.length;e>d;++d)g=h[d],c.push(N(g,null,i));for(o=c,f=!1,d=0,e=o.length;e>d;++d)if(m=o[d],o.length>50||-1!==m.indexOf("\n")){f=!0;break}if(l=f){for(c=[],d=0,e=o.length;e>d;++d)m=o[d],c.push("  "+m.split("\n").join("\n  "));return o=c,b+"(\n"+o.join(",\n")+")"}return b+"("+o.join(", ")+")"}var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub;f=function(a,b,c,d,e){function f(a,b){i||(--m,null!=a&&null==h&&(h=a),c&&null==h&&arguments.length>1&&k.push(b),n||g())}function g(){for(;!i&&null==h&&a>m&&++j<b;)++m,n=!0,d(j,l(f)),n=!1;i||null==h&&0!==m||(i=!0,null!=h?e(h):e(null,k))}var h,i,j,k,m,n;if("number"!=typeof a)throw TypeError("Expected limit to be a Number, got "+p(a));if("number"!=typeof b)throw TypeError("Expected length to be a Number, got "+p(b));if(null==c)c=!1;else if("boolean"!=typeof c)throw TypeError("Expected hasResult to be a Boolean, got "+p(c));if("function"!=typeof d)throw TypeError("Expected onValue to be a Function, got "+p(d));if("function"!=typeof e)throw TypeError("Expected onComplete to be a Function, got "+p(e));return k=c?[]:null,0>=b?e(null,k):((1>a||a!==a)&&(a=1/0),h=null,m=0,n=!1,i=!1,j=-1,g(),void 0)},g="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},h=function(a,b){var c;if("number"!=typeof a)throw TypeError("Expected numArgs to be a Number, got "+p(a));if("function"!=typeof b)throw TypeError("Expected f to be a Function, got "+p(b));return a>1?(c=function(d){var e;return d.length>=a?b.apply(this,d):e=function(){return 0===arguments.length?e:c.call(this,d.concat(n.call(arguments)))}},c([])):b},i="function"==typeof Array.prototype.indexOf?function(){var a;return a=Array.prototype.indexOf,function(b,c){return-1!==a.call(c,b)}}():function(a,b){var c,d;for(d=+b.length,c=-1;++c<d;)if(a===b[c]&&c in b)return!0;return!1},j="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),k="function"==typeof Object.keys?Object.keys:function(a){var b,c;c=[];for(b in a)m.call(a,b)&&c.push(b);return c},l=function(){function a(){throw Error("Attempted to call function more than once")}function b(){}return function(c,d){if("function"!=typeof c)throw TypeError("Expected func to be a Function, got "+p(c));if(null==d)d=!1;else if("boolean"!=typeof d)throw TypeError("Expected silentFail to be a Boolean, got "+p(d));return function(){var e;return e=c,c=d?b:a,e.apply(this,arguments)}}}(),m=Object.prototype.hasOwnProperty,n=Array.prototype.slice,o=function(a){if(null==a)throw TypeError("Expected an object, got "+p(a));if(j(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return n.call(a);throw TypeError("Expected an object with a length property, got "+p(a))},p=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),nb=b("./types"),q=b("./parser-utils"),U=q.nodeToType,R=q.map,S=q.mapAsync,q=b("./utils"),Y=q.quote,O=q.isPrimordial,null!=(q=b("util"))&&(N=q.inspect),T=function(){function a(){var c;throw c=this instanceof a?this:g(b),Error("Node should not be instantiated directly")}var b;return b=a.prototype,a.displayName="Node",b.type=function(){return nb.any},b.walk=function(){return this},b.walkAsync=function(a,b,c){return c(null,this)},b.cacheable=!0,b.withLabel=function(a){return null==a&&(a=null),x(this.index,this.scope,[this],a)},b._reduce=function(a){return this.walk(function(b){return b.reduce(a)})},b.reduce=function(a){var b;return null!=this._reduced?this._reduced:(b=this._reduce(a),this._reduced=b===this?this:b.reduce(a))},b.isConst=function(){return!1},b.constValue=function(){throw Error("Not a const: "+p(this))},b.isConstType=function(){return!1},b.isConstValue=function(){return!1},b.isLiteral=function(){return this.isConst()},b.literalValue=function(){return this.constValue()},b.isNoop=function(a){return this.reduce(a)._isNoop(a)},b._isNoop=function(){return!1},b.isStatement=function(){return!1},b.rescope=function(a){function b(d){var e,f;return e=d.scope,e===a?d:e===c?d.rescope(a):(f=e.parent,f===c&&e.reparent(a),d.walk(b))}var c;return this.scope===a?this:(c=this.scope,this.scope=a,this.walk(b))},b.doWrap=function(a){var b,c;return this.isStatement()?(b=a.pushScope(!0,this.scope),c=z(this.index,this.scope,K(this.index,this.scope,[],this.rescope(b),!0,!0),[]),a.popScope(),c):this},b.mutateLast=function(a,b,c){var d;return null!=(d=b.call(c,this))?d:this},a.byTypeId=[],b._toJSON=function(){var a;return a=this,d(function(){var b,c,d,e,f;for(b=[],c=o(a.constructor.argNames),d=0,e=c.length;e>d;++d)f=c[d],b.push(a[f]);return b}())},a}(),T.Access=T.byTypeId[1]=s=function(a){function b(a,d,e,f){var h;return h=this instanceof b?this:g(c),h.index=a,h.scope=d,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.parent=e,h.child=f,h}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="AccessNode","function"==typeof a.extended&&a.extended(b),c.typeId=1,b.argNames=["parent","child"],c.type=function(a){var b,c;return c=this,null==(b=this._type)?this._type=function(){var b,d,e,f,g;if(g=c.parent.type(a),f=g.isSubsetOf(nb.string),f||g.isSubsetOf(nb.arrayLike)){if(b=a.macroExpand1(c.child).reduce(a),b.isConst()){if(e=b.constValue(),"length"===e)return nb.number;if("number"==typeof e)return e>=0&&0===e%1?f?nb.string.union(nb.undefined):g.subtype?g.subtype.union(nb.undefined):nb.any:nb.undefined
}else if(d=b.type(a),d.isSubsetOf(nb.number))return f?nb.string.union(nb.undefined):g.subtype?g.subtype.union(nb.undefined):nb.any}else if(g.isSubsetOf(nb.object)&&"function"==typeof g.value&&(b=a.macroExpand1(c.child).reduce(a),b.isConst()))return g.value(String(b.constValue()));return nb.any}():b},c._reduce=function(a){function c(d){var e;return d instanceof L&&"__currentArrayLength"===d.name?(r.cacheable&&null==i&&(i=a.makeTmp(d.index,"ref",r.type(a)),i.scope=d.scope),b(d.index,d.scope,null!=i?i:r,C(d.index,d.scope,"length"))):d instanceof b?(e=c(d.parent),e!==d.parent?b(d.index,d.scope,e,d.child).walk(c):d.walk(c)):d.walk(c)}var d,e,f,g,h,i,j,k,l,m,n,p,q,r,s,t,x,y;if(r=this.parent.reduce(a).doWrap(a),i=null,j=c(this.child.reduce(a).doWrap(a)),null!=i)return kb(this.index,this.scope,b(this.index,this.scope,v(this.index,this.scope,i,"=",r),j),[i.id]);if(r.isLiteral()&&j.isConst())if(k=j.constValue(),r.isConst()){if(s=r.constValue(),k in Object(s)&&(y=s[k],null===y||y instanceof RegExp||"string"==(g=typeof y)||"number"===g||"boolean"===g||"undefined"===g))return C(this.index,this.scope,y)}else if(r instanceof u){if("length"===k)return C(this.index,this.scope,r.elements.length);if("number"==typeof k)return r.elements[k]||C(this.index,this.scope,void 0)}else if(r instanceof W)for(d=o(r.pairs),e=0,f=d.length;f>e;++e)if(g=d[e],q=g.key,y=g.value,q.constValue()===k)return y;return j instanceof z&&j.func instanceof L&&"__range"===j.func.name?(g=j.args,t=g[0],l=g[1],x=g[2],p=g[3],n=!x.isConst()||1!==x.constValue(),n||(p.isConst()?p.constValue()&&(l=l.isConst()&&"number"==typeof l.constValue()?C(l.index,l.scope,+l.constValue()+1||1/0):w(l.index,l.scope,w(l.index,l.scope,l,"+",C(p.index,p.scope,1)),"||",C(l.index,l.scope,1/0))):l=M(l.index,l.scope,p,w(l.index,l.scope,w(l.index,l.scope,l,"+",C(p.index,p.scope,1)),"||",C(l.index,l.scope,1/0)),l)),h=[r],m=!l.isConst()||void 0!==(g=l.constValue())&&g!==1/0,(!t.isConst()||0!==t.constValue()||m||n)&&h.push(t),(m||n)&&h.push(l),n&&(h.push(x),(!p.isConst()||p.constValue())&&h.push(p)),z(this.index,this.scope,L(this.index,this.scope,n?"__sliceStep":"__slice"),h,!1,!n).reduce(a)):r!==this.parent||j!==this.child?b(this.index,this.scope,r,j):this},c._isNoop=function(a){var b;return null==(b=this.__isNoop)?this.__isNoop=this.parent.isNoop(a)&&this.child.isNoop(a):b},c.inspect=function(a){return e(a,"AccessNode",this.index,this.parent,this.child)},c.walk=function(a,c){var d,e;return e=a.call(c,this.parent),d=a.call(c,this.child),e!==this.parent||d!==this.child?b(this.index,this.scope,e,d):this},c.walkAsync=function(a,c,d){var e,f;return f=this,a.call(c,this.parent,(e=!1,function(g,h){var i;if(e)throw Error("Attempted to call function more than once");return e=!0,null!=g?d(g):a.call(c,f.child,(i=!1,function(a,c){if(i)throw Error("Attempted to call function more than once");return i=!0,null!=a?d(a):d(null,h!==f.parent||c!==f.child?b(f.index,f.scope,h,c):f)}))}))},b}(T),T.AccessMulti=T.byTypeId[2]=r=function(a){function b(a,d,e,f){var h;return h=this instanceof b?this:g(c),null==f&&(f=[]),h.index=a,h.scope=d,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.parent=e,h.elements=f,h}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="AccessMultiNode","function"==typeof a.extended&&a.extended(b),c.typeId=2,b.argNames=["parent","elements"],c.type=function(){return nb.array},c._reduce=function(a){var b,c,d,e,f,g;return b=this,c=this.parent.reduce(a),e=c,g=[],c.cacheable&&(f=a.makeTmp(a.indexFromPosition(this.index),"ref",c.type(a)),f.scope=this.scope,g.push(f.id),e=v(this.index,this.scope,f,"=",c.doWrap(a)),c=f),d=u(this.index,this.scope,function(){var d,f,g,h,i;for(d=[],f=o(b.elements),i=0,g=f.length;g>i;++i)h=f[i],d.push(s(b.index,b.scope,0===i?e:c,h.reduce(a)));return d}()),g.length?kb(this.index,this.scope,d,g):d},c.inspect=function(a){return e(a,"AccessMultiNode",this.index,this.parent,this.elements)},c.walk=function(a,c){var d,e;return e=a.call(c,this.parent),d=R(this.elements,a,c),e!==this.parent||d!==this.elements?b(this.index,this.scope,e,d):this},c.walkAsync=function(a,c,d){var e,f;return f=this,a.call(c,this.parent,(e=!1,function(g,h){var i;if(e)throw Error("Attempted to call function more than once");return e=!0,null!=g?d(g):S(f.elements,a,c,(i=!1,function(a,c){if(i)throw Error("Attempted to call function more than once");return i=!0,null!=a?d(a):d(null,h!==f.parent||c!==f.elements?b(f.index,f.scope,h,c):f)}))}))},b}(T),T.Args=T.byTypeId[3]=t=function(a){function b(a,d){var e;return e=this instanceof b?this:g(c),e.index=a,e.scope=d,e._reduced=void 0,e._macroExpanded=void 0,e._macroExpandAlled=void 0,e}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="ArgsNode","function"==typeof a.extended&&a.extended(b),c.typeId=3,b.argNames=[],c.type=function(){return nb.args},c.cacheable=!1,c._isNoop=function(){return!0},c.inspect=function(a){return e(a,"ArgsNode",this.index)},b}(T),T.Array=T.byTypeId[4]=u=function(a){function b(a,d,e){var f;return f=this instanceof b?this:g(c),null==e&&(e=[]),f.index=a,f.scope=d,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.elements=e,f}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="ArrayNode","function"==typeof a.extended&&a.extended(b),c.typeId=4,b.argNames=["elements"],c.type=function(){return nb.array},c._reduce=function(a){var c;return c=R(this.elements,function(b){return b.reduce(a).doWrap(a)}),c!==this.elements?b(this.index,this.scope,c):this},c._isNoop=function(a){var b,c,d,e,f,g;if(null==(f=this.__isNoop)){for(c=!0,b=o(this.elements),d=0,e=b.length;e>d;++d)if(g=b[d],!g.isNoop(a)){c=!1;break}return this.__isNoop=c}return f},c.isLiteral=function(){var a,b,c,d,e,f;if(null==(e=this._isLiteral)){for(b=!0,a=o(this.elements),c=0,d=a.length;d>c;++c)if(f=a[c],!f.isLiteral()){b=!1;break}return this._isLiteral=b}return e},c.literalValue=function(){var a,b,c,d,e;for(a=[],b=o(this.elements),c=0,d=b.length;d>c;++c)e=b[c],a.push(e.literalValue());return a},c.inspect=function(a){return e(a,"ArrayNode",this.index,this.elements)},c.walk=function(a,c){var d;return d=R(this.elements,a,c),d!==this.elements?b(this.index,this.scope,d):this},c.walkAsync=function(a,c,d){var e,f;return f=this,S(this.elements,a,c,(e=!1,function(a,c){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=a?d(a):d(null,c!==f.elements?b(f.index,f.scope,c):f)}))},b}(T),T.Assign=T.byTypeId[5]=v=function(a){function b(a,d,e,f,h){var i;return i=this instanceof b?this:g(c),i.index=a,i.scope=d,i._reduced=void 0,i._macroExpanded=void 0,i._macroExpandAlled=void 0,i.left=e,i.op=f,i.right=h,i}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="AssignNode","function"==typeof a.extended&&a.extended(b),c.typeId=5,b.argNames=["left","op","right"],c.type=function(){var a;return a={"=":function(a,b){return b},"+=":function(a,b){return a.isSubsetOf(nb.numeric)&&b.isSubsetOf(nb.numeric)?nb.number:a.overlaps(nb.numeric)&&b.overlaps(nb.numeric)?nb.stringOrNumber:nb.string},"-=":nb.number,"*=":nb.number,"/=":nb.number,"%=":nb.number,"<<=":nb.number,">>=":nb.number,">>>=":nb.number,"&=":nb.number,"^=":nb.number,"|=":nb.number},function(b){var c,d,e;return null==(c=this._type)?(m.call(a,d=this.op)&&(e=a[d]),this._type=e?"function"==typeof e?e(this.left.type(b),this.right.type(b)):e:nb.any):c}}(),c._reduce=function(a){var c,d;return c=this.left.reduce(a),d=this.right.reduce(a).doWrap(a),c!==this.left||d!==this.right?b(this.index,this.scope,c,this.op,d):this},c.inspect=function(a){return e(a,"AssignNode",this.index,this.left,this.op,this.right)},c.walk=function(a,c){var d,e;return d=a.call(c,this.left),e=a.call(c,this.right),d!==this.left||e!==this.right?b(this.index,this.scope,d,this.op,e):this},c.walkAsync=function(a,c,d){var e,f;return f=this,a.call(c,this.left,(e=!1,function(g,h){var i;if(e)throw Error("Attempted to call function more than once");return e=!0,null!=g?d(g):a.call(c,f.right,(i=!1,function(a,c){if(i)throw Error("Attempted to call function more than once");return i=!0,null!=a?d(a):d(null,h!==f.left||c!==f.right?b(f.index,f.scope,h,f.op,c):f)}))}))},b}(T),T.Binary=T.byTypeId[6]=w=function(a){function b(a,d,e,f,h){var i;return i=this instanceof b?this:g(c),i.index=a,i.scope=d,i._reduced=void 0,i._macroExpanded=void 0,i._macroExpandAlled=void 0,i.left=e,i.op=f,i.right=h,i}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="BinaryNode","function"==typeof a.extended&&a.extended(b),c.typeId=6,b.argNames=["left","op","right"],c.type=function(){var a;return a={"*":nb.number,"/":nb.number,"%":nb.number,"+":function(a,b){return a.isSubsetOf(nb.numeric)&&b.isSubsetOf(nb.numeric)?nb.number:a.overlaps(nb.numeric)&&b.overlaps(nb.numeric)?nb.stringOrNumber:nb.string},"-":nb.number,"<<":nb.number,">>":nb.number,">>>":nb.number,"<":nb.boolean,"<=":nb.boolean,">":nb.boolean,">=":nb.boolean,"in":nb.boolean,"instanceof":nb.boolean,"==":nb.boolean,"!=":nb.boolean,"===":nb.boolean,"!==":nb.boolean,"&":nb.number,"^":nb.number,"|":nb.number,"&&":function(a,b){return a.intersect(nb.potentiallyFalsy).union(b)},"||":function(a,b){return a.intersect(nb.potentiallyTruthy).union(b)}},function(b){var c,d,e;return null==(c=this._type)?(m.call(a,d=this.op)&&(e=a[d]),this._type=e?"function"==typeof e?e(this.left.type(b),this.right.type(b)):e:nb.any):c}}(),c._reduce=function(){function a(a,b){var c;return(c=a.constValue())!==c?x(this.index,this.scope,[b,a]):void 0}function c(a,b){var c;return(c=b.constValue())!==c?x(this.index,this.scope,[a,b]):void 0}function d(a,c){var d,e;return d=a instanceof sb&&"+"===a.op?a.node:a,e=c instanceof sb&&"+"===c.op?c.node:c,a!==d||c!==e?b(this.index,this.scope,d,this.op,e):void 0}var e,f,g,i;return e={"*":h(2,function(a,b){return a*b}),"/":h(2,function(a,b){return a/b}),"%":h(2,function(a,b){return a%b}),"+":function(){function a(a){var b;return null===a||"number"==(b=typeof a)||"boolean"===b||"undefined"===b}return function(b,c){return a(b)&&a(c)?b- -c:""+b+c}}(),"-":h(2,function(a,b){return a-b}),"<<":h(2,function(a,b){return a<<b}),">>":h(2,function(a,b){return a>>b}),">>>":h(2,function(a,b){return a>>>b}),"<":h(2,function(a,b){return b>a}),"<=":h(2,function(a,b){return b>=a}),">":h(2,function(a,b){return a>b}),">=":h(2,function(a,b){return a>=b}),"==":h(2,function(a,b){return a==b}),"!=":h(2,function(a,b){return a!=b}),"===":h(2,function(a,b){return a===b}),"!==":h(2,function(a,b){return a!==b}),"&":h(2,function(a,b){return a&b}),"^":h(2,function(a,b){return a^b}),"|":h(2,function(a,b){return a|b}),"&&":h(2,function(a,b){return a&&b}),"||":h(2,function(a,b){return a||b})},f={"*":function(a,b){var c;return 1===a.constValue()?sb(this.index,this.scope,"+",b):-1===a.constValue()?sb(this.index,this.scope,"-",b):(c=a.constValue())!==c?x(this.index,this.scope,[b,a]):void 0},"/":a,"%":a,"+":function(a,c,d){var e;return 0===a.constValue()&&c.type(d).isSubsetOf(nb.number)?sb(this.index,this.scope,"+",c):""===a.constValue()&&c.type(d).isSubsetOf(nb.string)?c:"string"==typeof a.constValue()&&c instanceof b&&"+"===c.op&&c.left.isConst()&&"string"==typeof c.left.constValue()?b(this.index,this.scope,C(a.index,this.scope,""+a.constValue()+c.left.constValue()),"+",c.right):(e=a.constValue())!==e?x(this.index,this.scope,[c,a]):void 0},"-":function(a,b){var c;return 0===a.constValue()?sb(this.index,this.scope,"-",b):(c=a.constValue())!==c?x(this.index,this.scope,[b,a]):void 0},"<<":a,">>":a,">>>":a,"&":a,"|":a,"^":a,"&&":function(a,b){return a.constValue()?b:a},"||":function(a,b){return a.constValue()?a:b}},i={"*":function(a,b){var c;return 1===b.constValue()?sb(this.index,this.scope,"+",a):-1===b.constValue()?sb(this.index,this.scope,"-",a):(c=b.constValue())!==c?x(this.index,this.scope,[a,b]):void 0},"/":function(a,b){var c;return 1===b.constValue()?sb(this.index,this.scope,"+",a):-1===b.constValue()?sb(this.index,this.scope,"-",a):(c=b.constValue())!==c?x(this.index,this.scope,[a,b]):void 0},"%":c,"+":function(a,c,d){var e;return 0===c.constValue()&&a.type(d).isSubsetOf(nb.number)?sb(this.index,this.scope,"+",a):"number"==typeof c.constValue()&&c.constValue()<0&&a.type(d).isSubsetOf(nb.number)?b(this.index,this.scope,a,"-",C(c.index,this.scope,-c.constValue())):""===c.constValue()&&a.type(d).isSubsetOf(nb.string)?a:"string"==typeof c.constValue()&&a instanceof b&&"+"===a.op&&a.right.isConst()&&"string"==typeof a.right.constValue()?b(this.index,this.scope,a.left,"+",C(a.right.index,this.scope,""+a.right.constValue()+c.constValue())):(e=c.constValue())!==e?x(this.index,this.scope,[a,c]):void 0},"-":function(a,c,d){var e;return 0===c.constValue()?sb(this.index,this.scope,"+",a):"number"==typeof c.constValue()&&c.constValue()<0&&a.type(d).isSubsetOf(nb.number)?b(this.index,this.scope,a,"+",C(c.index,this.scope,-c.constValue())):(e=c.constValue())!==e?x(this.index,this.scope,[a,c]):void 0},"<<":c,">>":c,">>>":c,"&":c,"|":c,"^":c},g={"*":d,"/":d,"%":d,"-":d,"<<":d,">>":d,">>>":d,"&":d,"^":d,"|":d,"&&":function(a,c,d){var e,f,g;if(g=a.type(d),g.isSubsetOf(nb.alwaysTruthy))return x(this.index,this.scope,[a,c]);if(g.isSubsetOf(nb.alwaysFalsy))return a;if(a instanceof b&&"&&"===a.op){if(a.right.isConst()?e=!!a.right.constValue():(f=a.right.type(d),e=f.isSubsetOf(nb.alwaysTruthy)?!0:f.isSubsetOf(nb.alwaysFalsy)?!1:null),e===!0)return b(this.index,this.scope,a.left,"&&",x(a.right.index,this.scope,[a.right,c]));if(e===!1)return a}},"||":function(a,c,d){var e,f,g,h,i;if(i=a.type(d),i.isSubsetOf(nb.alwaysTruthy))return a;if(i.isSubsetOf(nb.alwaysFalsy))return x(this.index,this.scope,[a,c]);if(a instanceof b&&"||"===a.op){if(a.right.isConst()?f=!!a.right.constValue():(h=a.right.type(d),f=h.isSubsetOf(nb.alwaysTruthy)?!0:h.isSubsetOf(nb.alwaysFalsy)?!1:null),f===!0)return a;if(f===!1)return b(this.index,this.scope,a.left,"||",x(a.right.index,this.scope,[a.right,c]))}else if(a instanceof M&&a.whenFalse.isConst()&&!a.whenFalse.constValue()){for(e=a.test,g=a.whenTrue;g instanceof M&&g.whenFalse.isConst()&&!g.whenFalse.constValue();)e=b(a.index,a.scope,e,"&&",g.test),g=g.whenTrue;return b(this.index,this.scope,b(a.index,a.scope,e,"&&",g),"||",c)}}},function(a){var c,d,h,j,k;if(h=this.left.reduce(a).doWrap(a),k=this.right.reduce(a).doWrap(a),j=this.op,h.isConst()){if(k.isConst()&&m.call(e,j))return C(this.index,this.scope,e[j](h.constValue(),k.constValue()));if(m.call(f,j)){if(null!=(c=f[j].call(this,h,k,a)))return c}else if(null!=(d=void 0))return d}if(k.isConst())if(m.call(i,j)){if(null!=(c=i[j].call(this,h,k,a)))return c}else if(null!=(d=void 0))return d;if(m.call(g,j)){if(null!=(c=g[j].call(this,h,k,a)))return c}else if(null!=(d=void 0))return d;return h!==this.left||k!==this.right?b(this.index,this.scope,h,j,k):this}}(),c._isNoop=function(a){var b;return null==(b=this.__isNoop)?this.__isNoop=this.left.isNoop(a)&&this.right.isNoop(a):b},c.inspect=function(a){return e(a,"BinaryNode",this.index,this.left,this.op,this.right)},c.walk=function(a,c){var d,e;return d=a.call(c,this.left),e=a.call(c,this.right),d!==this.left||e!==this.right?b(this.index,this.scope,d,this.op,e):this},c.walkAsync=function(a,c,d){var e,f;return f=this,a.call(c,this.left,(e=!1,function(g,h){var i;if(e)throw Error("Attempted to call function more than once");return e=!0,null!=g?d(g):a.call(c,f.right,(i=!1,function(a,c){if(i)throw Error("Attempted to call function more than once");return i=!0,null!=a?d(a):d(null,h!==f.left||c!==f.right?b(f.index,f.scope,h,f.op,c):f)}))}))},b}(T),T.Block=T.byTypeId[7]=x=function(a){function b(a,d,e,f){var h;return h=this instanceof b?this:g(c),null==e&&(e=[]),null==f&&(f=null),h.index=a,h.scope=d,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.nodes=e,h.label=f,h}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="BlockNode","function"==typeof a.extended&&a.extended(b),c.typeId=7,b.argNames=["nodes","label"],c.type=function(a){var b,c,d,e,f,g,h;if(null==(f=this._type)){if(h=this.nodes,0===h.length)return this._type=nb.undefined;for(b=o(h),d=0,e=b.length,c=-1,c+=e,c>e&&(c=e);c>d;++d)g=b[d],g.type(a);return this._type=h[h.length-1].type(a)}return f},c.withLabel=function(a,c){var d,e;if(e=this,null==a&&(a=null),null==this.label){if(1===this.nodes.length)return this.nodes[0].withLabel(a,c);if(this.nodes.length>1&&(d=this.nodes)[d.length-1]instanceof I&&function(){var a,b,c,d,f,g;for(c=!0,a=o(e.nodes),d=0,f=a.length,b=-1,b+=f,b>f&&(b=f);b>d;++d)if(g=a[d],!(g instanceof v||g instanceof tb)){c=!1;break}return c}())return b(this.index,this.scope,n.call(this.nodes,0,-1).concat([(d=this.nodes)[d.length-1].withLabel(a,c)]))}return b(this.index,this.scope,this.nodes,a)},c._reduce=function(a){var c,d,e,f,g,h,i,j;for(e=!1,d=[],c=o(this.nodes),f=0,h=c.length;h>f;++f)if(i=c[f],j=i.reduce(a),j instanceof b&&null==j.label)d.push.apply(d,o(j.nodes)),e=!0;else if(j instanceof V)e=!0;else{if(j instanceof y||j instanceof D||j instanceof ib||j instanceof $){d.push(j),(j!==i||h-1>f)&&(e=!0);break}d.push(j),j!==i&&(e=!0)}return g=null!=this.label?this.label.reduce(a):this.label,0===d.length?V(this.index,this.scope):null==g&&1===d.length?d[0]:e||g!==this.label?b(this.index,this.scope,d,g):this},c.isStatement=function(){var a,b,c,d;for(c=!1,a=o(this.nodes),b=a.length;b--;)if(d=a[b],d.isStatement()){c=!0;break}return c},c._isNoop=function(a){var b,c,d,e,f;if(null==(e=this.__isNoop)){for(c=!0,b=o(this.nodes),d=b.length;d--;)if(f=b[d],!f.isNoop(a)){c=!1;break}return this.__isNoop=c}return e},c.mutateLast=function(a,c,d,e){var f,g,h;return h=this.nodes,g=h.length,0===g?Noop(this.index,this.scope).mutateLast(a,c,d,e):(f=h[g-1].mutateLast(a,c,d,e),f!==h[g-1]?b(this.index,this.scope,o(n.call(h,0,-1)).concat([f])):this)},c.inspect=function(a){return e(a,"BlockNode",this.index,this.nodes,this.label)},c.walk=function(c,d){var e,f;return f=R(this.nodes,c,d),e=this.label instanceof a?c.call(d,this.label):this.label,f!==this.nodes||e!==this.label?b(this.index,this.scope,f,e):this},c.walkAsync=function(c,d,e){var f,g;return g=this,S(this.nodes,c,d,(f=!1,function(h,i){if(f)throw Error("Attempted to call function more than once");return f=!0,null!=h?e(h):(g.label instanceof a?function(a){var b;return c.call(d,g.label,(b=!1,function(c,d){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?e(c):a(d)}))}:function(a){return a(g.label)})(function(a){return e(null,i!==g.nodes||a!==g.label?b(g.index,g.scope,i,a):g)})}))},b}(T),T.Break=T.byTypeId[8]=y=function(a){function b(a,d,e){var f;return f=this instanceof b?this:g(c),null==e&&(e=null),f.index=a,f.scope=d,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.label=e,f}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="BreakNode","function"==typeof a.extended&&a.extended(b),c.typeId=8,b.argNames=["label"],c.type=function(){return nb.undefined},c.isStatement=function(){return!0},c.withLabel=function(a){return null==a&&(a=null),b(this.index,this.scope,a)},c.mutateLast=function(){return this},c.inspect=function(a){return e(a,"BreakNode",this.index,this.label)},c.walk=function(c,d){var e;return e=this.label instanceof a?c.call(d,this.label):this.label,e!==this.label?b(this.index,this.scope,e):this},c.walkAsync=function(c,d,e){var f;return f=this,(this.label instanceof a?function(a){var b;return c.call(d,f.label,(b=!1,function(c,d){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?e(c):a(d)}))}:function(a){return a(f.label)})(function(a){return e(null,a!==f.label?b(f.index,f.scope,a):f)})},b}(T),T.Call=T.byTypeId[9]=z=function(a){function b(a,c,e,f,h,i){var j;return j=this instanceof b?this:g(d),null==f&&(f=[]),null==h&&(h=!1),null==i&&(i=!1),j.index=a,j.scope=c,j._reduced=void 0,j._macroExpanded=void 0,j._macroExpandAlled=void 0,j.func=e,j.args=f,j.isNew=h,j.isApply=i,j}var d,f;return f=a.prototype,d=b.prototype=g(f),d.constructor=b,b.displayName="CallNode","function"==typeof a.extended&&a.extended(b),d.typeId=9,b.argNames=["func","args","isNew","isApply"],d.type=function(){var a,b,c;return a={Object:nb.object,String:nb.string,Number:nb.number,Boolean:nb.boolean,Function:nb["function"],Array:nb.array,Date:nb.string,RegExp:nb.regexp,Error:nb.error,RangeError:nb.error,ReferenceError:nb.error,SyntaxError:nb.error,TypeError:nb.error,URIError:nb.error,escape:nb.string,unescape:nb.string,parseInt:nb.number,parseFloat:nb.number,isNaN:nb.boolean,isFinite:nb.boolean,decodeURI:nb.string,decodeURIComponent:nb.string,encodeURI:nb.string,encodeURIComponent:nb.string},c={Object:{getPrototypeOf:nb.object,getOwnPropertyDescriptor:nb.object,getOwnPropertyNames:nb.string.array(),create:nb.object,defineProperty:nb.object,defineProperties:nb.object,seal:nb.object,freeze:nb.object,preventExtensions:nb.object,isSealed:nb.boolean,isFrozen:nb.boolean,isExtensible:nb.boolean,keys:nb.string.array()},String:{fromCharCode:nb.string},Number:{isFinite:nb.boolean,isNaN:nb.boolean},Array:{isArray:nb.boolean},Math:{abs:nb.number,acos:nb.number,asin:nb.number,atan:nb.number,atan2:nb.number,ceil:nb.number,cos:nb.number,exp:nb.number,floor:nb.number,log:nb.number,max:nb.number,min:nb.number,pow:nb.number,random:nb.number,round:nb.number,sin:nb.number,sqrt:nb.number,tan:nb.number},JSON:{stringify:nb.string.union(nb.undefined),parse:nb.string.union(nb.number).union(nb.boolean).union(nb["null"]).union(nb.array).union(nb.object)},Date:{UTC:nb.number,now:nb.number}},b={String:{toString:nb.string,valueOf:nb.string,charAt:nb.string,charCodeAt:nb.number,concat:nb.string,indexOf:nb.number,lastIndexOf:nb.number,localeCompare:nb.number,match:nb.array.union(nb["null"]),replace:nb.string,search:nb.number,slice:nb.string,split:nb.string.array(),substring:nb.string,toLowerCase:nb.string,toLocaleLowerCase:nb.string,toUpperCase:nb.string,toLocaleUpperCase:nb.string,trim:nb.string},Boolean:{toString:nb.string,valueOf:nb.boolean},Number:{toString:nb.string,valueOf:nb.number,toLocaleString:nb.string,toFixed:nb.string,toExponential:nb.string,toPrecision:nb.string},Date:{toString:nb.string,toDateString:nb.string,toTimeString:nb.string,toLocaleString:nb.string,toLocaleDateString:nb.string,toLocaleTimeString:nb.string,valueOf:nb.number,getTime:nb.number,getFullYear:nb.number,getUTCFullYear:nb.number,getMonth:nb.number,getUTCMonth:nb.number,getDate:nb.number,getUTCDate:nb.number,getDay:nb.number,getUTCDay:nb.number,getHours:nb.number,getUTCHours:nb.number,getMinutes:nb.number,getUTCMinutes:nb.number,getSeconds:nb.number,getUTCSeconds:nb.number,getMilliseconds:nb.number,getUTCMilliseconds:nb.number,getTimezoneOffset:nb.number,setTime:nb.number,setMilliseconds:nb.number,setUTCMilliseconds:nb.number,setSeconds:nb.number,setUTCSeconds:nb.number,setMinutes:nb.number,setUTCMinutes:nb.number,setHours:nb.number,setUTCHours:nb.number,setDate:nb.number,setUTCDate:nb.number,setMonth:nb.number,setUTCMonth:nb.number,setFullYear:nb.number,setUTCFullYear:nb.number,toUTCString:nb.string,toISOString:nb.string,toJSON:nb.string},RegExp:{exec:nb.array.union(nb["null"]),test:nb.boolean,toString:nb.string},Error:{toString:nb.string}},function(b){var d,e;return e=this,null==(d=this._type)?this._type=function(){var d,f,g,h,i,j,k,l,n,o,p;if(k=e.func,l=k.type(b),l.isSubsetOf(nb["function"]))return l.args[0];if(k instanceof L){if(n=k.name,m.call(a,n))return a[n];if((null!=b?b.macros.hasHelper(n):void 0)&&(l=b.macros.helperType(n),l.isSubsetOf(nb["function"])))return l.args[0]}else if(k instanceof s&&(o=k.parent,j=k.child,j instanceof C))if("call"===(d=j.value)||"apply"===d){if(p=o.type(b),p.isSubsetOf(nb["function"]))return p.args[0]}else if(o instanceof L)if(m.call(c,d=o.name)){if(m.call(f=c[d],g=j.value)){if(null!=(h=f[g]))return h}else if(null!=(i=void 0))return i}else if(null!=(f=void 0))return f;return nb.any}():d}}(),d._reduce=function(){var a,d;return a={escape:!0,unescape:!0,parseInt:!0,parseFloat:!0,isNaN:!0,isFinite:!0,decodeURI:!0,decodeURIComponent:!0,encodeURI:!0,encodeURIComponent:!0,String:!0,Boolean:!0,Number:!0,RegExp:!0},d={String:{fromCharCode:!0},Number:{isFinite:!0,isNaN:!0},Math:{abs:!0,acos:!0,asin:!0,atan:!0,atan2:!0,ceil:!0,cos:!0,exp:!0,floor:!0,log:!0,max:!0,min:!0,pow:!0,round:!0,sin:!0,sqrt:!0,tan:!0},JSON:{parse:!0,stringify:!0}},function(e){var f,g,h,i,j,k,l,n,p,q,r,t,u,v,w,x;if(u=this.func.reduce(e).doWrap(e),p=R(this.args,function(a){return a.reduce(e).doWrap(e)}),!this.isNew&&!this.isApply){for(r=[],l=!0,f=o(p),g=0,h=f.length;h>g;++g){if(n=f[g],!n.isConst()){l=!1;break}r.push(n.constValue())}if(l)if(u instanceof L){if(m.call(a,u.name))try{if(x=c[u.name].apply(void 0,o(r)),null===x||"number"==(i=typeof x)||"string"===i||"boolean"===i||"undefined"===i)return C(this.index,this.scope,x)}catch(y){}}else if(u instanceof s&&u.child.isConst())if(v=u.parent,q=u.child,t=q.constValue(),v.isConst()){if(w=v.constValue(),"function"==typeof w[t])try{if(x=w[t].apply(w,o(r)),null===x||"number"==(i=typeof x)||"string"===i||"boolean"===i||"undefined"===i)return C(this.index,this.scope,x)}catch(y){}}else if(v instanceof L&&(m.call(d,i=v.name)&&m.call(j=d[i],k=q.value)?j[k]:void 0))try{if(x=(i=c[v.name])[t].apply(i,o(r)),null===x||"number"==(i=typeof x)||"string"===i||"boolean"===i||"undefined"===i)return C(this.index,this.scope,x)}catch(y){}}return u!==this.func||p!==this.args?b(this.index,this.scope,u,p,this.isNew,this.isApply):this}}(),d.inspect=function(a){return e(a,"CallNode",this.index,this.func,this.args,this.isNew,this.isApply)},d.walk=function(a,c){var d,e;return e=a.call(c,this.func),d=R(this.args,a,c),e!==this.func||d!==this.args?b(this.index,this.scope,e,d,this.isNew,this.isApply):this},d.walkAsync=function(a,c,d){var e,f;return f=this,a.call(c,this.func,(e=!1,function(g,h){var i;if(e)throw Error("Attempted to call function more than once");return e=!0,null!=g?d(g):S(f.args,a,c,(i=!1,function(a,c){if(i)throw Error("Attempted to call function more than once");return i=!0,null!=a?d(a):d(null,h!==f.func||c!==f.args?b(f.index,f.scope,h,c,f.isNew,f.isApply):f)}))}))},b}(T),T.Cascade=T.byTypeId[10]=A=function(a){function b(a,d,e,f){var h;return h=this instanceof b?this:g(c),null==f&&(f=[]),h.index=a,h.scope=d,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.node=e,h.cascades=f,h}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="CascadeNode","function"==typeof a.extended&&a.extended(b),c.typeId=10,b.argNames=["node","cascades"],c.inspect=function(a){return e(a,"CascadeNode",this.index,this.node,this.cascades)},c.walk=function(a,c){var d;return d=a.call(c,this.node),d!==this.node?b(this.index,this.scope,d,this.cascades):this},c.walkAsync=function(a,c,d){var e,f;return f=this,a.call(c,this.node,(e=!1,function(a,c){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=a?d(a):d(null,c!==f.node?b(f.index,f.scope,c,f.cascades):f)}))},b}(T),T.Comment=T.byTypeId[11]=B=function(a){function b(a,d,e){var f;return f=this instanceof b?this:g(c),f.index=a,f.scope=d,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.text=e,f}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="CommentNode","function"==typeof a.extended&&a.extended(b),c.typeId=11,b.argNames=["text"],c.type=function(){return nb.undefined},c.cacheable=!1,c.isConst=function(){return!0},c.constValue=function(){},c._isNoop=function(){return!0},c.inspect=function(a){return e(a,"CommentNode",this.index,this.text)},c.walk=function(){return this},c.walkAsync=function(a,b,c){return c(null,this)},b}(T),T.Const=T.byTypeId[12]=C=function(a){function b(a,d,e){var f;return f=this instanceof b?this:g(c),f.index=a,f.scope=d,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.value=e,f}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="ConstNode","function"==typeof a.extended&&a.extended(b),c.typeId=12,b.argNames=["value"],c.type=function(){var a;if(a=this.value,null===a)return nb["null"];switch(typeof a){case"number":return nb.number;case"string":return nb.string;case"boolean":return nb.boolean;case"undefined":return nb.undefined;default:throw Error("Unknown type for "+String(a))}},c.cacheable=!1,c.isConst=function(){return!0},c.constValue=function(){return this.value},c.isConstType=function(a){return a===typeof this.value},c.isConstValue=function(a){return a===this.value},c._isNoop=function(){return!0},c.inspect=function(a){return"ConstNode("+N(this.value,null,null!=a?a-1:null)+")"},c._toJSON=function(){return[this.value]},c.walk=function(){return this},c.walkAsync=function(a,b,c){return c(null,this)},b}(T),T.Continue=T.byTypeId[13]=D=function(a){function b(a,d,e){var f;return f=this instanceof b?this:g(c),null==e&&(e=null),f.index=a,f.scope=d,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.label=e,f}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="ContinueNode","function"==typeof a.extended&&a.extended(b),c.typeId=13,b.argNames=["label"],c.type=function(){return nb.undefined},c.isStatement=function(){return!0},c.withLabel=function(a){return null==a&&(a=null),b(this.index,this.scope,a)},c.mutateLast=function(){return this},c.inspect=function(a){return e(a,"ContinueNode",this.index,this.label)},c.walk=function(c,d){var e;return e=this.label instanceof a?c.call(d,this.label):this.label,e!==this.label?b(this.index,this.scope,e):this},c.walkAsync=function(c,d,e){var f;return f=this,(this.label instanceof a?function(a){var b;return c.call(d,f.label,(b=!1,function(c,d){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?e(c):a(d)}))}:function(a){return a(f.label)})(function(a){return e(null,a!==f.label?b(f.index,f.scope,a):f)})},b}(T),T.Debugger=T.byTypeId[14]=E=function(a){function b(a,d){var e;return e=this instanceof b?this:g(c),e.index=a,e.scope=d,e._reduced=void 0,e._macroExpanded=void 0,e._macroExpandAlled=void 0,e}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="DebuggerNode","function"==typeof a.extended&&a.extended(b),c.typeId=14,b.argNames=[],c.type=function(){return nb.undefined},c.isStatement=function(){return!0},c.mutateLast=function(){return this},c.inspect=function(a){return e(a,"DebuggerNode",this.index)},b}(T),T.Def=T.byTypeId[15]=F=function(a){function b(a,d,e,f){var h;return h=this instanceof b?this:g(c),null==f&&(f=void 0),h.index=a,h.scope=d,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.left=e,h.right=f,h}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="DefNode","function"==typeof a.extended&&a.extended(b),c.typeId=15,b.argNames=["left","right"],c.type=function(a){return null!=this.right?this.right.type(a):nb.any},c.inspect=function(a){return e(a,"DefNode",this.index,this.left,this.right)},c.walk=function(c,d){var e,f;return e=c.call(d,this.left),f=this.right instanceof a?c.call(d,this.right):this.right,e!==this.left||f!==this.right?b(this.index,this.scope,e,f):this},c.walkAsync=function(c,d,e){var f,g;return g=this,c.call(d,this.left,(f=!1,function(h,i){if(f)throw Error("Attempted to call function more than once");return f=!0,null!=h?e(h):(g.right instanceof a?function(a){var b;return c.call(d,g.right,(b=!1,function(c,d){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?e(c):a(d)}))}:function(a){return a(g.right)})(function(a){return e(null,i!==g.left||a!==g.right?b(g.index,g.scope,i,a):g)})}))},b}(T),T.EmbedWrite=T.byTypeId[16]=G=function(a){function b(a,d,e,f){var h;return h=this instanceof b?this:g(c),null==f&&(f=!1),h.index=a,h.scope=d,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.text=e,h.escape=f,h}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="EmbedWriteNode","function"==typeof a.extended&&a.extended(b),c.typeId=16,b.argNames=["text","escape"],c.inspect=function(a){return e(a,"EmbedWriteNode",this.index,this.text,this.escape)},c.walk=function(a,c){var d;
return d=a.call(c,this.text),d!==this.text?b(this.index,this.scope,d,this.escape):this},c.walkAsync=function(a,c,d){var e,f;return f=this,a.call(c,this.text,(e=!1,function(a,c){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=a?d(a):d(null,c!==f.text?b(f.index,f.scope,c,f.escape):f)}))},b}(T),T.Eval=T.byTypeId[17]=H=function(a){function b(a,d,e){var f;return f=this instanceof b?this:g(c),f.index=a,f.scope=d,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.code=e,f}var c,d,f;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="EvalNode","function"==typeof a.extended&&a.extended(b),c.typeId=17,b.argNames=["code"],f={"true":function(){return C(this.index,this.scope,!0)},"false":function(){return C(this.index,this.scope,!1)},"void 0":function(){return C(this.index,this.scope,void 0)},"null":function(){return C(this.index,this.scope,null)}},c._reduce=function(a){var c,d,e;return d=this.code.reduce(a).doWrap(),d.isConst()&&d.isConstType("string")&&(m.call(f,c=d.constValue())&&(e=f[c]),e)?e.call(this):d!==this.code?b(this.index,this.scope,d):this},c.inspect=function(a){return e(a,"EvalNode",this.index,this.code)},c.walk=function(a,c){var d;return d=a.call(c,this.code),d!==this.code?b(this.index,this.scope,d):this},c.walkAsync=function(a,c,d){var e,f;return f=this,a.call(c,this.code,(e=!1,function(a,c){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=a?d(a):d(null,c!==f.code?b(f.index,f.scope,c):f)}))},b}(T),T.For=T.byTypeId[18]=J=function(a){function b(a,d,e,f,h,i,j){var k;return k=this instanceof b?this:g(c),null==e&&(e=V(0,d)),null==f&&(f=C(0,d,!0)),null==h&&(h=V(0,d)),null==j&&(j=null),k.index=a,k.scope=d,k._reduced=void 0,k._macroExpanded=void 0,k._macroExpandAlled=void 0,k.init=e,k.test=f,k.step=h,k.body=i,k.label=j,k}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="ForNode","function"==typeof a.extended&&a.extended(b),c.typeId=18,b.argNames=["init","test","step","body","label"],c.type=function(){return nb.undefined},c.isStatement=function(){return!0},c.withLabel=function(a){return null==a&&(a=null),b(this.index,this.scope,this.init,this.test,this.step,this.body,a)},c.inspect=function(a){return e(a,"ForNode",this.index,this.init,this.test,this.step,this.body,this.label)},c.walk=function(c,d){var e,f,g,h,i;return f=c.call(d,this.init),i=c.call(d,this.test),h=c.call(d,this.step),e=c.call(d,this.body),g=this.label instanceof a?c.call(d,this.label):this.label,f!==this.init||i!==this.test||h!==this.step||e!==this.body||g!==this.label?b(this.index,this.scope,f,i,h,e,g):this},c.walkAsync=function(c,d,e){var f,g;return g=this,c.call(d,this.init,(f=!1,function(h,i){var j;if(f)throw Error("Attempted to call function more than once");return f=!0,null!=h?e(h):c.call(d,g.test,(j=!1,function(f,h){var k;if(j)throw Error("Attempted to call function more than once");return j=!0,null!=f?e(f):c.call(d,g.step,(k=!1,function(f,j){var l;if(k)throw Error("Attempted to call function more than once");return k=!0,null!=f?e(f):c.call(d,g.body,(l=!1,function(f,k){if(l)throw Error("Attempted to call function more than once");return l=!0,null!=f?e(f):(g.label instanceof a?function(a){var b;return c.call(d,g.label,(b=!1,function(c,d){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?e(c):a(d)}))}:function(a){return a(g.label)})(function(a){return e(null,i!==g.init||h!==g.test||j!==g.step||k!==g.body||a!==g.label?b(g.index,g.scope,i,h,j,k,a):g)})}))}))}))}))},b}(T),T.ForIn=T.byTypeId[19]=I=function(a){function b(a,d,e,f,h,i){var j;return j=this instanceof b?this:g(c),null==i&&(i=null),j.index=a,j.scope=d,j._reduced=void 0,j._macroExpanded=void 0,j._macroExpandAlled=void 0,j.key=e,j.object=f,j.body=h,j.label=i,j}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="ForInNode","function"==typeof a.extended&&a.extended(b),c.typeId=19,b.argNames=["key","object","body","label"],c.type=function(){return nb.undefined},c.isStatement=function(){return!0},c.withLabel=function(a){return null==a&&(a=null),b(this.index,this.scope,this.key,this.object,this.body,a)},c.inspect=function(a){return e(a,"ForInNode",this.index,this.key,this.object,this.body,this.label)},c.walk=function(c,d){var e,f,g,h;return f=c.call(d,this.key),h=c.call(d,this.object),e=c.call(d,this.body),g=this.label instanceof a?c.call(d,this.label):this.label,f!==this.key||h!==this.object||e!==this.body||g!==this.label?b(this.index,this.scope,f,h,e,g):this},c.walkAsync=function(c,d,e){var f,g;return g=this,c.call(d,this.key,(f=!1,function(h,i){var j;if(f)throw Error("Attempted to call function more than once");return f=!0,null!=h?e(h):c.call(d,g.object,(j=!1,function(f,h){var k;if(j)throw Error("Attempted to call function more than once");return j=!0,null!=f?e(f):c.call(d,g.body,(k=!1,function(f,j){if(k)throw Error("Attempted to call function more than once");return k=!0,null!=f?e(f):(g.label instanceof a?function(a){var b;return c.call(d,g.label,(b=!1,function(c,d){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?e(c):a(d)}))}:function(a){return a(g.label)})(function(a){return e(null,i!==g.key||h!==g.object||j!==g.body||a!==g.label?b(g.index,g.scope,i,h,j,a):g)})}))}))}))},b}(T),T.Function=T.byTypeId[20]=K=function(a){function b(a,d,e,f,h,i,j,k,l,m){var n;return n=this instanceof b?this:g(c),null==e&&(e=[]),null==h&&(h=!0),null==i&&(i=!1),null==j&&(j=!1),null==k&&(k=void 0),null==l&&(l=!1),null==m&&(m=[]),n.index=a,n.scope=d,n._reduced=void 0,n._macroExpanded=void 0,n._macroExpandAlled=void 0,n.params=e,n.body=f,n.autoReturn=h,n.bound=i,n.curry=j,n.asType=k,n.generator=l,n.generic=m,n}var c,f;return f=a.prototype,c=b.prototype=g(f),c.constructor=b,b.displayName="FunctionNode","function"==typeof a.extended&&a.extended(b),c.typeId=20,b.argNames=["params","body","autoReturn","bound","curry","asType","generator","generic"],c.type=function(a){var c,d,e;return null==(c=this._type)?null!=this.asType?this._type=U(this.asType)["function"]():(d=this.autoReturn?this.body.type(a):nb.undefined,e=function(c){var f;return c instanceof $?(d=d.union(c.type(a)),c):c instanceof b?c:c instanceof P?(("return"===(f=c.data.macroName)||"return?"===f)&&(d=c.data.macroData.node?d.union(c.data.macroData.node.type(a)):d.union(nb.undefined)),c.walk(e)):c.walk(e)},e(this.body),this._type=d["function"]()):c},c._isNoop=function(){return!0},c._toJSON=function(){return[this.params,this.body,this.autoReturn].concat(o(d([this.bound,this.curry,this.asType,this.generator,this.generic])))},c.inspect=function(a){return e(a,"FunctionNode",this.index,this.params,this.body,this.autoReturn,this.bound,this.curry,this.asType,this.generator,this.generic)},c.walk=function(c,d){var e,f,g,h;return h=R(this.params,c,d),f=c.call(d,this.body),g=this.bound instanceof a?c.call(d,this.bound):this.bound,e=this.asType instanceof a?c.call(d,this.asType):this.asType,h!==this.params||f!==this.body||g!==this.bound||e!==this.asType?b(this.index,this.scope,h,f,this.autoReturn,g,this.curry,e,this.generator,this.generic):this},c.walkAsync=function(c,d,e){var f,g;return g=this,S(this.params,c,d,(f=!1,function(h,i){var j;if(f)throw Error("Attempted to call function more than once");return f=!0,null!=h?e(h):c.call(d,g.body,(j=!1,function(f,h){if(j)throw Error("Attempted to call function more than once");return j=!0,null!=f?e(f):(g.bound instanceof a?function(a){var b;return c.call(d,g.bound,(b=!1,function(c,d){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?e(c):a(d)}))}:function(a){return a(g.bound)})(function(f){return(g.asType instanceof a?function(a){var b;return c.call(d,g.asType,(b=!1,function(c,d){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?e(c):a(d)}))}:function(a){return a(g.asType)})(function(a){return e(null,i!==g.params||h!==g.body||f!==g.bound||a!==g.asType?b(g.index,g.scope,i,h,g.autoReturn,f,g.curry,a,g.generator,g.generic):g)})})}))}))},b}(T),T.Ident=T.byTypeId[21]=L=function(a){function b(a,d,e){var f;return f=this instanceof b?this:g(c),f.index=a,f.scope=d,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.name=e,f}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="IdentNode","function"==typeof a.extended&&a.extended(b),c.typeId=21,b.argNames=["name"],c.cacheable=!1,c.type=function(a){return"__currentArrayLength"===this.name?nb.number:a?this.scope.type(this):nb.any},c._isNoop=function(){return!0},c.isPrimordial=function(){return O(this.name)},c.inspect=function(a){return e(a,"IdentNode",this.index,this.name)},c.walk=function(){return this},c.walkAsync=function(a,b,c){return c(null,this)},b}(T),T.If=T.byTypeId[22]=M=function(a){function b(a,d,e,f,h,i){var j;return j=this instanceof b?this:g(c),null==h&&(h=V(0,d)),null==i&&(i=null),j.index=a,j.scope=d,j._reduced=void 0,j._macroExpanded=void 0,j._macroExpandAlled=void 0,j.test=e,j.whenTrue=f,j.whenFalse=h,j.label=i,j}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="IfNode","function"==typeof a.extended&&a.extended(b),c.typeId=22,b.argNames=["test","whenTrue","whenFalse","label"],c.type=function(a){var b;return null==(b=this._type)?this._type=this.whenTrue.type(a).union(this.whenFalse.type(a)):b},c.withLabel=function(a){return null==a&&(a=null),b(this.index,this.scope,this.test,this.whenTrue,this.whenFalse,a)},c._reduce=function(a){var c,d,e,f,g;return d=this.test.reduce(a),g=this.whenTrue.reduce(a),f=this.whenFalse.reduce(a),c=null!=this.label?this.label.reduce(a):this.label,d.isConst()?x(this.index,this.scope,[d.constValue()?g:f],c).reduce(a):(e=d.type(a),e.isSubsetOf(nb.alwaysTruthy)?x(this.index,this.scope,[d,g],c).reduce(a):e.isSubsetOf(nb.alwaysFalsy)?x(this.index,this.scope,[d,f],c).reduce(a):d!==this.test||g!==this.whenTrue||f!==this.whenFalse||c!==this.label?b(this.index,this.scope,d,g,f,c):this)},c.isStatement=function(){var a;return null==(a=this._isStatement)?this._isStatement=this.whenTrue.isStatement()||this.whenFalse.isStatement():a},c.doWrap=function(a){var c,d;return d=this.whenTrue.doWrap(a),c=this.whenFalse.doWrap(a),d!==this.whenTrue||c!==this.whenFalse?b(this.index,this.scope,this.test,d,c,this.label):this},c._isNoop=function(a){var b;return null==(b=this.__isNoop)?this.__isNoop=this.test.isNoop(a)&&this.whenTrue.isNoop(a)&&this.whenFalse.isNoop(a):b},c.mutateLast=function(a,c,d,e){var f,g;return g=this.whenTrue.mutateLast(a,c,d,e),f=this.whenFalse.mutateLast(a,c,d,e),g!==this.whenTrue||f!==this.whenFalse?b(this.index,this.scope,this.test,g,f,this.label):this},c.inspect=function(a){return e(a,"IfNode",this.index,this.test,this.whenTrue,this.whenFalse,this.label)},c.walk=function(c,d){var e,f,g,h;return f=c.call(d,this.test),h=c.call(d,this.whenTrue),g=c.call(d,this.whenFalse),e=this.label instanceof a?c.call(d,this.label):this.label,f!==this.test||h!==this.whenTrue||g!==this.whenFalse||e!==this.label?b(this.index,this.scope,f,h,g,e):this},c.walkAsync=function(c,d,e){var f,g;return g=this,c.call(d,this.test,(f=!1,function(h,i){var j;if(f)throw Error("Attempted to call function more than once");return f=!0,null!=h?e(h):c.call(d,g.whenTrue,(j=!1,function(f,h){var k;if(j)throw Error("Attempted to call function more than once");return j=!0,null!=f?e(f):c.call(d,g.whenFalse,(k=!1,function(f,j){if(k)throw Error("Attempted to call function more than once");return k=!0,null!=f?e(f):(g.label instanceof a?function(a){var b;return c.call(d,g.label,(b=!1,function(c,d){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?e(c):a(d)}))}:function(a){return a(g.label)})(function(a){return e(null,i!==g.test||h!==g.whenTrue||j!==g.whenFalse||a!==g.label?b(g.index,g.scope,i,h,j,a):g)})}))}))}))},b}(T),T.MacroAccess=T.byTypeId[23]=P=function(a){function b(a,d,e,f,h,i,j,k,l){var m;return m=this instanceof b?this:g(c),null==i&&(i=!1),null==j&&(j=!1),null==k&&(k=!1),null==l&&(l=!1),m.index=a,m.scope=d,m._reduced=void 0,m._macroExpanded=void 0,m._macroExpandAlled=void 0,m.id=e,m.callLine=f,m.data=h,m.inStatement=i,m.inGenerator=j,m.inEvilAst=k,m.doWrapped=l,m}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="MacroAccessNode","function"==typeof a.extended&&a.extended(b),c.typeId=23,b.argNames=["id","callLine","data","inStatement","inGenerator","inEvilAst","doWrapped"],c.type=function(a){var b,c;return null==(b=this._type)?(c=a.macros.getTypeById(this.id),this._type=null!=c?"string"==typeof c?this.data[c].type(a):c:a.macroExpand1(this).type(a)):b},c.withLabel=function(a,b){return null==a&&(a=null),b.macroExpand1(this).withLabel(a,b)},c.walk=function(){function c(a,b,c){var e,f,g,h,i;h={},e=!1;for(f in a)m.call(a,f)&&(i=a[f],g=d(i,b,c),g!==i&&(e=!0),h[f]=g);return e?h:a}function d(b,e,f){return b instanceof a?e.call(f,b):j(b)?R(b,function(a){return d(a,e,f)}):"object"==typeof b&&null!==b?c(b,e,f):b}return function(a,c){var e;return e=d(this.data,a,c),e!==this.data?b(this.index,this.scope,this.id,this.callLine,e,this.inStatement,this.inGenerator,this.inEvilAst,this.doWrapped):this}}(),c.walkAsync=function(){function c(a,b,c,e){var g,h,i;return h=!1,i={},g=k(a),f(1,g.length,!1,function(e,f){var j,k,l;return k=g[e],l=a[k],d(item,b,c,(j=!1,function(a,b){if(j)throw Error("Attempted to call function more than once");return j=!0,null!=a?f(a):(item!==b&&(h=!0),i[k]=b,f(null))}))},function(b){return"undefined"!=typeof b&&null!==b?e(b):e(null,h?i:a)})}function d(b,e,f,g){return b instanceof a?e(b,f,g):j(b)?S(b,function(a,b){return d(a,e,f,b)},null,g):"object"==typeof b&&null!==b?c(b,e,f,g):g(null,b)}return function(a,c,e){var f,g;return g=this,d(this.data,a,c,(f=!1,function(a,c){if(f)throw Error("Attempted to call function more than once");return f=!0,null!=a?e(a):e(null,c!==g.data?b(g.index,g.scope,g.id,g.callLine,c,g.inStatement,g.inGenerator,g.inEvilAst,g.doWrapped):g)}))}}(),c._isNoop=function(a){return a.macroExpand1(this).isNoop(a)},c.doWrap=function(){return this.doWrapped?this:b(this.index,this.scope,this.id,this.callLine,this.data,this.inStatement,this.inGenerator,this.inEvilAst,!0)},c.mutateLast=function(a,b,c,d){return a.macroExpand1(this).mutateLast(a,b,c,d)},c.inspect=function(a){return e(a,"MacroAccessNode",this.index,this.id,this.callLine,this.data,this.inStatement,this.inGenerator,this.inEvilAst,this.doWrapped)},b}(T),T.MacroConst=T.byTypeId[24]=Q=function(a){function b(a,d,e){var f;return f=this instanceof b?this:g(c),f.index=a,f.scope=d,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.name=e,f}var c,d;return d=a.prototype,c=b.prototype=g(d),c.constructor=b,b.displayName="MacroConstNode","function"==typeof a.extended&&a.extended(b),c.typeId=24,b.argNames=["name"],c.type=function(a){var b,c,d;if(null!=(b=this._type))return b;if(c=a.getConst(this.name),!c)return this._type=nb.any;if(d=c.value,null===d)return this._type=nb["null"];switch(typeof d){case"number":return this._type=nb.number;case"string":return this._type=nb.string;case"boolean":return this._type=nb.boolean;case"undefined":return this._type=nb.undefined;default:throw Error("Unknown type for "+String(c.value))}},c._isNoop=function(){return!0},c.toConst=function(a){var b;return C(this.index,this.scope,null!=(b=a.getConst(this.name))?b.value:void 0)},c.inspect=function(a){return e(a,"MacroConstNode",this.index,this.name)},c.walk=function(){return this},c.walkAsync=function(a,b,c){return c(null,this)},b}(T),T.Nothing=T.byTypeId[25]=V=function(a){function b(a,c){var e;return e=this instanceof b?this:g(d),e.index=a,e.scope=c,e._reduced=void 0,e._macroExpanded=void 0,e._macroExpandAlled=void 0,e}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="NothingNode","function"==typeof a.extended&&a.extended(b),d.typeId=25,b.argNames=[],d.type=function(){return nb.undefined},d.cacheable=!1,d.isConst=function(){return!0},d.constValue=function(){},d.isConstType=function(a){return"undefined"===a},d.isConstValue=function(a){return void 0===a},d._isNoop=function(){return!0},d.mutateLast=function(a,b,c,d){var e;return d?null!=(e=b.call(c,this))?e:this:this},d.inspect=function(a){return e(a,"NothingNode",this.index)},b}(T),T.Object=T.byTypeId[26]=W=function(a){function b(a,c,e,f){var h;return h=this instanceof b?this:g(d),null==e&&(e=[]),null==f&&(f=void 0),h.index=a,h.scope=c,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.pairs=e,h.prototype=f,h}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="ObjectNode","function"==typeof a.extended&&a.extended(b),d.typeId=26,b.argNames=["pairs","prototype"],d.type=function(a){var b,c,d,e,f,g,h,i;if(null==(e=this._type)){for(g={},b=o(this.pairs),c=0,d=b.length;d>c;++c)f=b[c],h=f.key,i=f.value,h.isConst()&&(g[h.constValue()]=i.isConst()&&null==i.constValue()?nb.any:i.type(a));return this._type=nb.makeObject(g)}return e},d.walk=function(a,c){var d,e;return d=R(this.pairs,function(b){var d,e;return d=a.call(c,b.key),e=a.call(c,b.value),d!==b.key||e!==b.value?{key:d,value:e,property:b.property}:b}),e=null!=this.prototype?a.call(c,this.prototype):this.prototype,d!==this.pairs||e!==this.prototype?b(this.index,this.scope,d,e):this},d.walkAsync=function(a,c,d){var e,f;return f=this,S(this.pairs,function(b,d){var e;return a.call(c,b.key,(e=!1,function(f,g){var h;if(e)throw Error("Attempted to call function more than once");return e=!0,null!=f?d(f):a.call(c,b.value,(h=!1,function(a,c){if(h)throw Error("Attempted to call function more than once");return h=!0,null!=a?d(a):d(null,g!==b.key||c!==b.value?{key:g,value:c,property:b.property}:b)}))}))},null,(e=!1,function(g,h){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=g?d(g):(null!=f.prototype?function(b){var e;return a.call(c,f.prototype,(e=!1,function(a,c){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=a?d(a):b(c)}))}:function(a){return a(f.prototype)})(function(a){return d(null,h!==f.pairs||a!==f.prototype?b(f.index,f.scope,h,a):f)})}))},d._reduce=function(a){var c,d;return c=R(this.pairs,function(b){var c,d;return c=b.key.reduce(a),d=b.value.reduce(a).doWrap(a),c!==b.key||d!==b.value?{key:c,value:d,property:b.property}:b}),d=null!=this.prototype?this.prototype.reduce(a):this.prototype,c!==this.pairs||d!==this.prototype?b(this.index,this.scope,c,d):this},d._isNoop=function(a){var b,c,d,e,f,g,h,i;if(null==(f=this.__isNoop)){for(c=!0,b=o(this.pairs),d=0,e=b.length;e>d;++d)if(g=b[d],h=g.key,i=g.value,!h.isNoop(a)||!i.isNoop(a)){c=!1;break}return this.__isNoop=c}return f},d.isLiteral=function(){var a,b;return b=this,null==(a=this._isLiteral)?this._isLiteral=null==this.prototype&&function(){var a,c,d,e,f,g,h,i;for(c=!0,a=o(b.pairs),d=0,e=a.length;e>d;++d)if(f=a[d],g=f.key,i=f.value,h=f.property,h||!g.isLiteral()||!i.isLiteral()){c=!1;break}return c}():a},d.literalValue=function(){var a,b,c,d,e,f,g;if(null!=this.prototype)throw Error("Cannot convert object with prototype to a literal");for(f={},a=o(this.pairs),b=0,c=a.length;c>b;++b)d=a[b],e=d.key,g=d.value,f[e.literalValue()]=g.literalValue();return f},d.inspect=function(a){return e(a,"ObjectNode",this.index,this.pairs,this.prototype)},b}(T),T.object=function(a,c,d){var e,f,g,h,j,k,l,m,n,p;for(l=[],m=null,e=o(c),f=0,g=e.length;g>f;++f)if(h=e[f],j=h.key,p=h.property,j instanceof C){if(k=String(j.value),("get"===p||"set"===p)&&m&&m.property!==p&&m.key===k){m=null;continue}if(i(k,l))throw n=b("./parser").ParserError,n("Duplicate key "+Y(k)+" in object",this,j.index);l.push(k),m="get"===p||"set"===p?{key:k,property:p}:null}else m=null;return this.Object(a,c,d)},T.objectParam=T.object,T.Param=T.byTypeId[27]=X=function(a){function b(a,c,e,f,h,i,j){var k;return k=this instanceof b?this:g(d),null==f&&(f=void 0),null==h&&(h=!1),null==i&&(i=!1),null==j&&(j=void 0),k.index=a,k.scope=c,k._reduced=void 0,k._macroExpanded=void 0,k._macroExpandAlled=void 0,k.ident=e,k.defaultValue=f,k.spread=h,k.isMutable=i,k.asType=j,k}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="ParamNode","function"==typeof a.extended&&a.extended(b),d.typeId=27,b.argNames=["ident","defaultValue","spread","isMutable","asType"],d.inspect=function(a){return e(a,"ParamNode",this.index,this.ident,this.defaultValue,this.spread,this.isMutable,this.asType)},d.walk=function(c,d){var e,f,g;return g=c.call(d,this.ident),f=this.defaultValue instanceof a?c.call(d,this.defaultValue):this.defaultValue,e=this.asType instanceof a?c.call(d,this.asType):this.asType,g!==this.ident||f!==this.defaultValue||e!==this.asType?b(this.index,this.scope,g,f,this.spread,this.isMutable,e):this},d.walkAsync=function(c,d,e){var f,g;return g=this,c.call(d,this.ident,(f=!1,function(h,i){if(f)throw Error("Attempted to call function more than once");return f=!0,null!=h?e(h):(g.defaultValue instanceof a?function(a){var b;return c.call(d,g.defaultValue,(b=!1,function(c,d){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?e(c):a(d)}))}:function(a){return a(g.defaultValue)})(function(f){return(g.asType instanceof a?function(a){var b;return c.call(d,g.asType,(b=!1,function(c,d){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?e(c):a(d)}))}:function(a){return a(g.asType)})(function(a){return e(null,i!==g.ident||f!==g.defaultValue||a!==g.asType?b(g.index,g.scope,i,f,g.spread,g.isMutable,a):g)})})}))},b}(T),T.Regexp=T.byTypeId[28]=Z=function(a){function b(a,c,e,f){var h;return h=this instanceof b?this:g(d),null==f&&(f=""),h.index=a,h.scope=c,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.source=e,h.flags=f,h}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="RegexpNode","function"==typeof a.extended&&a.extended(b),d.typeId=28,b.argNames=["source","flags"],d.type=function(){return nb.regexp},d._isNoop=function(a){return this.text.isNoop(a)},d._reduce=function(a){var c;return c=this.source.reduce(a).doWrap(a),c.isConst()?c!==this.source?b(this.index,this.scope,c,this.flags):this:z(this.index,this.scope,L(this.index,this.scope,"RegExp"),[c,C(this.index,this.scope,this.flags)])},d.inspect=function(a){return e(a,"RegexpNode",this.index,this.source,this.flags)},d.walk=function(a,c){var d;return d=a.call(c,this.source),d!==this.source?b(this.index,this.scope,d,this.flags):this},d.walkAsync=function(a,c,d){var e,f;return f=this,a.call(c,this.source,(e=!1,function(a,c){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=a?d(a):d(null,c!==f.source?b(f.index,f.scope,c,f.flags):f)}))},b}(T),T.Return=T.byTypeId[29]=$=function(a){function b(a,c,e){var f;return f=this instanceof b?this:g(d),null==e&&(e=C(a,c,void 0)),f.index=a,f.scope=c,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.node=e,f}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="ReturnNode","function"==typeof a.extended&&a.extended(b),d.typeId=29,b.argNames=["node"],d.type=function(a){return this.node.type(a)},d.isStatement=function(){return!0},d._reduce=function(a){var c;return c=this.node.reduce(a),c!==this.node?b(this.index,this.scope,c):this},d.mutateLast=function(){return this},d.inspect=function(a){return e(a,"ReturnNode",this.index,this.node)},d.walk=function(a,c){var d;return d=a.call(c,this.node),d!==this.node?b(this.index,this.scope,d):this},d.walkAsync=function(a,c,d){var e,f;return f=this,a.call(c,this.node,(e=!1,function(a,c){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=a?d(a):d(null,c!==f.node?b(f.index,f.scope,c):f)}))},b}(T),T.Root=T.byTypeId[30]=_=function(a){function b(a,c,e,f,h,i){var j;return j=this instanceof b?this:g(d),null==e&&(e=void 0),null==h&&(h=!1),null==i&&(i=!1),j.index=a,j.scope=c,j._reduced=void 0,j._macroExpanded=void 0,j._macroExpandAlled=void 0,j.file=e,j.body=f,j.isEmbedded=h,j.isGenerator=i,j}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="RootNode","function"==typeof a.extended&&a.extended(b),d.typeId=30,b.argNames=["file","body","isEmbedded","isGenerator"],d.isStatement=function(){return!0},d.inspect=function(a){return e(a,"RootNode",this.index,this.file,this.body,this.isEmbedded,this.isGenerator)},d.walk=function(a,c){var d;return d=a.call(c,this.body),d!==this.body?b(this.index,this.scope,this.file,d,this.isEmbedded,this.isGenerator):this},d.walkAsync=function(a,c,d){var e,f;return f=this,a.call(c,this.body,(e=!1,function(a,c){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=a?d(a):d(null,c!==f.body?b(f.index,f.scope,f.file,c,f.isEmbedded,f.isGenerator):f)}))},b}(T),T.Spread=T.byTypeId[31]=ab=function(a){function b(a,c,e){var f;return f=this instanceof b?this:g(d),f.index=a,f.scope=c,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.node=e,f}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="SpreadNode","function"==typeof a.extended&&a.extended(b),d.typeId=31,b.argNames=["node"],d._reduce=function(a){var c;return c=this.node.reduce(a).doWrap(a),c!==this.node?b(this.index,this.scope,c):this},d.inspect=function(a){return e(a,"SpreadNode",this.index,this.node)},d.walk=function(a,c){var d;return d=a.call(c,this.node),d!==this.node?b(this.index,this.scope,d):this},d.walkAsync=function(a,c,d){var e,f;return f=this,a.call(c,this.node,(e=!1,function(a,c){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=a?d(a):d(null,c!==f.node?b(f.index,f.scope,c):f)}))},b}(T),T.string=function(a,b){var c,d,e,f,g;if(e=this.getMacroByLabel("stringConcat"),!e)throw Error("Cannot use string interpolation until the string-concat operator has been defined");if(0===b.length)return this.Const(a,"");if(1===b.length)return e.func({left:this.Const(a,""),op:"",right:b[0]},this,a);for(f=b[0],c=1,d=b.length;d>c;++c)g=b[c],f=e.func({left:f,op:"",right:g},this,a);return f},T.Super=T.byTypeId[32]=bb=function(a){function b(a,c,e,f){var h;return h=this instanceof b?this:g(d),null==e&&(e=void 0),null==f&&(f=[]),h.index=a,h.scope=c,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.child=e,h.args=f,h}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="SuperNode","function"==typeof a.extended&&a.extended(b),d.typeId=32,b.argNames=["child","args"],d._reduce=function(a){var c,d;return d=null!=this.child?this.child.reduce(a).doWrap(a):this.child,c=R(this.args,function(b){return b.reduce(a).doWrap(a)}),d!==this.child||c!==this.args?b(this.index,this.scope,d,c):this},d.inspect=function(a){return e(a,"SuperNode",this.index,this.child,this.args)},d.walk=function(c,d){var e,f;return f=this.child instanceof a?c.call(d,this.child):this.child,e=R(this.args,c,d),f!==this.child||e!==this.args?b(this.index,this.scope,f,e):this},d.walkAsync=function(c,d,e){var f;return f=this,(this.child instanceof a?function(a){var b;return c.call(d,f.child,(b=!1,function(c,d){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?e(c):a(d)}))}:function(a){return a(f.child)})(function(a){var g;return S(f.args,c,d,(g=!1,function(c,d){if(g)throw Error("Attempted to call function more than once");return g=!0,null!=c?e(c):e(null,a!==f.child||d!==f.args?b(f.index,f.scope,a,d):f)}))})},b}(T),T.Switch=T.byTypeId[33]=cb=function(a){function b(a,c,e,f,h,i){var j;return j=this instanceof b?this:g(d),null==f&&(f=[]),null==h&&(h=NoopNode(a,c)),null==i&&(i=null),j.index=a,j.scope=c,j._reduced=void 0,j._macroExpanded=void 0,j._macroExpandAlled=void 0,j.node=e,j.cases=f,j.defaultCase=h,j.label=i,j}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="SwitchNode","function"==typeof a.extended&&a.extended(b),d.typeId=33,b.argNames=["node","cases","defaultCase","label"],d.type=function(a){var b,c,d,e,f,g;if(null==(e=this._type)){for(g=null!=this.defaultCase?this.defaultCase.type(a):nb.undefined,b=o(this.cases),c=0,d=b.length;d>c;++c)f=b[c],g=f.fallthrough?g:g.union(f.body.type(a));return this._type=g}return e},d.withLabel=function(a){return null==a&&(a=null),b(this.index,this.scope,this.node,this.cases,this.defaultCase,a)},d.walk=function(a,c){var d,e,f,g;return g=a.call(c,this.node),d=R(this.cases,function(b){var d,e;return e=a.call(c,b.node),d=a.call(c,b.body),e!==b.node||d!==b.body?{node:e,body:d,fallthrough:b.fallthrough}:b}),e=this.defaultCase?a.call(c,this.defaultCase):this.defaultCase,f=null!=this.label?a.call(c,this.label):this.label,g!==this.node||d!==this.cases||e!==this.defaultCase||f!==this.label?b(this.index,this.scope,g,d,e,f):this},d.walkAsync=function(a,c,d){var e,f;return f=this,a.call(c,this.node,(e=!1,function(g,h){var i;if(e)throw Error("Attempted to call function more than once");return e=!0,null!=g?d(g):S(f.cases,function(b,d){var e;return a.call(c,b.node,(e=!1,function(f,g){var h;if(e)throw Error("Attempted to call function more than once");return e=!0,null!=f?d(f):a.call(c,b.body,(h=!1,function(a,c){if(h)throw Error("Attempted to call function more than once");return h=!0,null!=a?d(a):d(null,g!==b.node||c!==b.body?{node:g,body:c,fallthrough:b.fallthrough}:b)}))}))},null,(i=!1,function(e,g){if(i)throw Error("Attempted to call function more than once");return i=!0,null!=e?d(e):(null!=f.defaultCase?function(b){var e;return a.call(c,f.defaultCase,(e=!1,function(a,c){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=a?d(a):b(c)}))}:function(a){return a(f.defaultCase)})(function(e){return(null!=f.label?function(b){var e;return a.call(c,f.label,(e=!1,function(a,c){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=a?d(a):b(c)}))}:function(a){return a(f.label)})(function(a){return d(null,h!==f.node||g!==f.cases||e!==f.defaultCase||a!==f.label?b(f.index,f.scope,h,g,e,a):f)})})}))}))},d.isStatement=function(){return!0},d.mutateLast=function(a,c,d,e){var f,g,h,i,j,k,l,m,n;for(m=!1,f=[],g=o(this.cases),h=0,i=g.length;i>h;++h)k=g[h],k.fallthrough?f.push(k):(j=k.body.mutateLast(a,c,d,e),j!==k.body?(m=!0,f.push({node:k.node,body:j,fallthrough:k.fallthrough})):f.push(k));return l=f,n=this.defaultCase.mutateLast(a,c,d,e),m||n!==this.defaultCase?b(this.index,this.scope,this.node,l,n,this.label):this},d.inspect=function(a){return e(a,"SwitchNode",this.index,this.node,this.cases,this.defaultCase,this.label)},b}(T),T.SyntaxChoice=T.byTypeId[34]=db=function(a){function b(a,c,e){var f;return f=this instanceof b?this:g(d),null==e&&(e=[]),f.index=a,f.scope=c,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.choices=e,f}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="SyntaxChoiceNode","function"==typeof a.extended&&a.extended(b),d.typeId=34,b.argNames=["choices"],d.inspect=function(a){return e(a,"SyntaxChoiceNode",this.index,this.choices)},d.walk=function(a,c){var d;return d=R(this.choices,a,c),d!==this.choices?b(this.index,this.scope,d):this},d.walkAsync=function(a,c,d){var e,f;return f=this,S(this.choices,a,c,(e=!1,function(a,c){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=a?d(a):d(null,c!==f.choices?b(f.index,f.scope,c):f)}))},b}(T),T.SyntaxMany=T.byTypeId[35]=eb=function(a){function b(a,c,e,f){var h;return h=this instanceof b?this:g(d),h.index=a,h.scope=c,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.inner=e,h.multiplier=f,h}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="SyntaxManyNode","function"==typeof a.extended&&a.extended(b),d.typeId=35,b.argNames=["inner","multiplier"],d.inspect=function(a){return e(a,"SyntaxManyNode",this.index,this.inner,this.multiplier)},d.walk=function(a,c){var d;return d=a.call(c,this.inner),d!==this.inner?b(this.index,this.scope,d,this.multiplier):this},d.walkAsync=function(a,c,d){var e,f;return f=this,a.call(c,this.inner,(e=!1,function(a,c){if(e)throw Error("Attempted to call function more than once");
return e=!0,null!=a?d(a):d(null,c!==f.inner?b(f.index,f.scope,c,f.multiplier):f)}))},b}(T),T.SyntaxParam=T.byTypeId[36]=fb=function(a){function b(a,c,e,f){var h;return h=this instanceof b?this:g(d),null==f&&(f=void 0),h.index=a,h.scope=c,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.ident=e,h.asType=f,h}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="SyntaxParamNode","function"==typeof a.extended&&a.extended(b),d.typeId=36,b.argNames=["ident","asType"],d.inspect=function(a){return e(a,"SyntaxParamNode",this.index,this.ident,this.asType)},d.walk=function(c,d){var e,f;return f=c.call(d,this.ident),e=this.asType instanceof a?c.call(d,this.asType):this.asType,f!==this.ident||e!==this.asType?b(this.index,this.scope,f,e):this},d.walkAsync=function(c,d,e){var f,g;return g=this,c.call(d,this.ident,(f=!1,function(h,i){if(f)throw Error("Attempted to call function more than once");return f=!0,null!=h?e(h):(g.asType instanceof a?function(a){var b;return c.call(d,g.asType,(b=!1,function(c,d){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?e(c):a(d)}))}:function(a){return a(g.asType)})(function(a){return e(null,i!==g.ident||a!==g.asType?b(g.index,g.scope,i,a):g)})}))},b}(T),T.SyntaxSequence=T.byTypeId[37]=gb=function(a){function b(a,c,e){var f;return f=this instanceof b?this:g(d),null==e&&(e=[]),f.index=a,f.scope=c,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.params=e,f}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="SyntaxSequenceNode","function"==typeof a.extended&&a.extended(b),d.typeId=37,b.argNames=["params"],d.inspect=function(a){return e(a,"SyntaxSequenceNode",this.index,this.params)},d.walk=function(a,c){var d;return d=R(this.params,a,c),d!==this.params?b(this.index,this.scope,d):this},d.walkAsync=function(a,c,d){var e,f;return f=this,S(this.params,a,c,(e=!1,function(a,c){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=a?d(a):d(null,c!==f.params?b(f.index,f.scope,c):f)}))},b}(T),T.This=T.byTypeId[38]=hb=function(a){function b(a,c){var e;return e=this instanceof b?this:g(d),e.index=a,e.scope=c,e._reduced=void 0,e._macroExpanded=void 0,e._macroExpandAlled=void 0,e}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="ThisNode","function"==typeof a.extended&&a.extended(b),d.typeId=38,b.argNames=[],d.cacheable=!1,d._isNoop=function(){return!0},d.inspect=function(a){return e(a,"ThisNode",this.index)},b}(T),T.Throw=T.byTypeId[39]=ib=function(a){function b(a,c,e){var f;return f=this instanceof b?this:g(d),f.index=a,f.scope=c,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.node=e,f}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="ThrowNode","function"==typeof a.extended&&a.extended(b),d.typeId=39,b.argNames=["node"],d.type=function(){return nb.none},d.isStatement=function(){return!0},d._reduce=function(a){var c;return c=this.node.reduce(a).doWrap(a),c!==this.node?b(this.index,this.scope,c):this},d.doWrap=function(){return z(this.index,this.scope,L(this.index,this.scope,"__throw"),[this.node])},d.mutateLast=function(){return this},d.inspect=function(a){return e(a,"ThrowNode",this.index,this.node)},d.walk=function(a,c){var d;return d=a.call(c,this.node),d!==this.node?b(this.index,this.scope,d):this},d.walkAsync=function(a,c,d){var e,f;return f=this,a.call(c,this.node,(e=!1,function(a,c){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=a?d(a):d(null,c!==f.node?b(f.index,f.scope,c):f)}))},b}(T),T.Tmp=T.byTypeId[40]=jb=function(a){function b(a,c,e,f,h){var i;return i=this instanceof b?this:g(d),null==h&&(h=nb.any),i.index=a,i.scope=c,i._reduced=void 0,i._macroExpanded=void 0,i._macroExpandAlled=void 0,i.id=e,i.name=f,i._type=h,i}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="TmpNode","function"==typeof a.extended&&a.extended(b),d.typeId=40,b.argNames=["id","name","_type"],d.cacheable=!1,d.type=function(){return this._type},d._isNoop=function(){return!0},d._toJSON=function(){return this._type===nb.any?[this.id,this.name]:[this.id,this.name,this._type]},d.inspect=function(a){return e(a,"TmpNode",this.index,this.id,this.name,this._type)},d.walk=function(){return this},d.walkAsync=function(a,b,c){return c(null,this)},b}(T),T.TmpWrapper=T.byTypeId[41]=kb=function(a){function b(a,c,e,f){var h;return h=this instanceof b?this:g(d),null==f&&(f=[]),h.index=a,h.scope=c,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.node=e,h.tmps=f,h}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="TmpWrapperNode","function"==typeof a.extended&&a.extended(b),d.typeId=41,b.argNames=["node","tmps"],d.type=function(a){return this.node.type(a)},d.withLabel=function(a,c){return null==a&&(a=null),b(this.index,this.scope,this.node.withLabel(a,c),this.tmps)},d._reduce=function(a){var c;return c=this.node.reduce(a),0===this.tmps.length?c:this.node!==c?b(this.index,this.scope,c,this.tmps):this},d.isStatement=function(){return this.node.isStatement()},d._isNoop=function(a){return this.node.isNoop(a)},d.doWrap=function(a){var c;return c=this.node.doWrap(a),c!==this.node?b(this.index,this.scope,c,this.tmps):this},d.mutateLast=function(a,c,d,e){var f;return f=this.node.mutateLast(a,c,d,e),f!==this.node?b(this.index,this.scope,f,this.tmps):this},d.inspect=function(a){return e(a,"TmpWrapperNode",this.index,this.node,this.tmps)},d.walk=function(a,c){var d;return d=a.call(c,this.node),d!==this.node?b(this.index,this.scope,d,this.tmps):this},d.walkAsync=function(a,c,d){var e,f;return f=this,a.call(c,this.node,(e=!1,function(a,c){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=a?d(a):d(null,c!==f.node?b(f.index,f.scope,c,f.tmps):f)}))},b}(T),T.TryCatch=T.byTypeId[42]=lb=function(a){function b(a,c,e,f,h,i){var j;return j=this instanceof b?this:g(d),null==i&&(i=null),j.index=a,j.scope=c,j._reduced=void 0,j._macroExpanded=void 0,j._macroExpandAlled=void 0,j.tryBody=e,j.catchIdent=f,j.catchBody=h,j.label=i,j}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="TryCatchNode","function"==typeof a.extended&&a.extended(b),d.typeId=42,b.argNames=["tryBody","catchIdent","catchBody","label"],d.type=function(a){var b;return null==(b=this._type)?this._type=this.tryBody.type(a).union(this.catchBody.type(a)):b},d.isStatement=function(){return!0},d._isNoop=function(a){return this.tryBody.isNoop(a)},d.withLabel=function(a){return null==a&&(a=null),b(this.index,this.scope,this.tryBody,this.catchIdent,this.catchBody,a)},d.mutateLast=function(a,c,d,e){var f,g;return g=this.tryBody.mutateLast(a,c,d,e),f=this.catchBody.mutateLast(a,c,d,e),g!==this.tryBody||f!==this.catchBody?b(this.index,this.scope,g,this.catchIdent,f,this.label):this},d.inspect=function(a){return e(a,"TryCatchNode",this.index,this.tryBody,this.catchIdent,this.catchBody,this.label)},d.walk=function(c,d){var e,f,g,h;return h=c.call(d,this.tryBody),f=c.call(d,this.catchIdent),e=c.call(d,this.catchBody),g=this.label instanceof a?c.call(d,this.label):this.label,h!==this.tryBody||f!==this.catchIdent||e!==this.catchBody||g!==this.label?b(this.index,this.scope,h,f,e,g):this},d.walkAsync=function(c,d,e){var f,g;return g=this,c.call(d,this.tryBody,(f=!1,function(h,i){var j;if(f)throw Error("Attempted to call function more than once");return f=!0,null!=h?e(h):c.call(d,g.catchIdent,(j=!1,function(f,h){var k;if(j)throw Error("Attempted to call function more than once");return j=!0,null!=f?e(f):c.call(d,g.catchBody,(k=!1,function(f,j){if(k)throw Error("Attempted to call function more than once");return k=!0,null!=f?e(f):(g.label instanceof a?function(a){var b;return c.call(d,g.label,(b=!1,function(c,d){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?e(c):a(d)}))}:function(a){return a(g.label)})(function(a){return e(null,i!==g.tryBody||h!==g.catchIdent||j!==g.catchBody||a!==g.label?b(g.index,g.scope,i,h,j,a):g)})}))}))}))},b}(T),T.TryFinally=T.byTypeId[43]=mb=function(a){function b(a,c,e,f,h){var i;return i=this instanceof b?this:g(d),null==h&&(h=null),i.index=a,i.scope=c,i._reduced=void 0,i._macroExpanded=void 0,i._macroExpandAlled=void 0,i.tryBody=e,i.finallyBody=f,i.label=h,i}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="TryFinallyNode","function"==typeof a.extended&&a.extended(b),d.typeId=43,b.argNames=["tryBody","finallyBody","label"],d.type=function(a){return this.tryBody.type(a)},d._reduce=function(a){var c,d,e;return e=this.tryBody.reduce(a),c=this.finallyBody.reduce(a),d=null!=this.label?this.label.reduce(a):this.label,c instanceof V?x(this.index,this.scopeIf([e],d)).reduce(a):e instanceof V?x(this.index,this.scopeIf([c],d)).reduce(a):e!==this.tryBody||c!==this.finallyBody||d!==this.label?b(this.index,this.scope,e,c,d):this},d.isStatement=function(){return!0},d._isNoop=function(a){var b;return null==(b=this.__isNoop)?this.__isNoop=this.tryBody.isNoop(a)&&this.finallyBody.isNoop():b},d.withLabel=function(a){return null==a&&(a=null),b(this.index,this.scope,this.tryBody,this.finallyBody,a)},d.mutateLast=function(a,c,d,e){var f;return f=this.tryBody.mutateLast(a,c,d,e),f!==this.tryBody?b(this.index,this.scope,f,this.finallyBody,this.label):this},d.inspect=function(a){return e(a,"TryFinallyNode",this.index,this.tryBody,this.finallyBody,this.label)},d.walk=function(c,d){var e,f,g;return g=c.call(d,this.tryBody),e=c.call(d,this.finallyBody),f=this.label instanceof a?c.call(d,this.label):this.label,g!==this.tryBody||e!==this.finallyBody||f!==this.label?b(this.index,this.scope,g,e,f):this},d.walkAsync=function(c,d,e){var f,g;return g=this,c.call(d,this.tryBody,(f=!1,function(h,i){var j;if(f)throw Error("Attempted to call function more than once");return f=!0,null!=h?e(h):c.call(d,g.finallyBody,(j=!1,function(f,h){if(j)throw Error("Attempted to call function more than once");return j=!0,null!=f?e(f):(g.label instanceof a?function(a){var b;return c.call(d,g.label,(b=!1,function(c,d){if(b)throw Error("Attempted to call function more than once");return b=!0,null!=c?e(c):a(d)}))}:function(a){return a(g.label)})(function(a){return e(null,i!==g.tryBody||h!==g.finallyBody||a!==g.label?b(g.index,g.scope,i,h,a):g)})}))}))},b}(T),T.TypeFunction=T.byTypeId[44]=ob=function(a){function b(a,c,e){var f;return f=this instanceof b?this:g(d),f.index=a,f.scope=c,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.returnType=e,f}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="TypeFunctionNode","function"==typeof a.extended&&a.extended(b),d.typeId=44,b.argNames=["returnType"],d.inspect=function(a){return e(a,"TypeFunctionNode",this.index,this.returnType)},d.walk=function(a,c){var d;return d=a.call(c,this.returnType),d!==this.returnType?b(this.index,this.scope,d):this},d.walkAsync=function(a,c,d){var e,f;return f=this,a.call(c,this.returnType,(e=!1,function(a,c){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=a?d(a):d(null,c!==f.returnType?b(f.index,f.scope,c):f)}))},b}(T),T.TypeGeneric=T.byTypeId[45]=pb=function(a){function b(a,c,e,f){var h;return h=this instanceof b?this:g(d),null==f&&(f=[]),h.index=a,h.scope=c,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.basetype=e,h.args=f,h}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="TypeGenericNode","function"==typeof a.extended&&a.extended(b),d.typeId=45,b.argNames=["basetype","args"],d.inspect=function(a){return e(a,"TypeGenericNode",this.index,this.basetype,this.args)},d.walk=function(a,c){var d,e;return e=a.call(c,this.basetype),d=R(this.args,a,c),e!==this.basetype||d!==this.args?b(this.index,this.scope,e,d):this},d.walkAsync=function(a,c,d){var e,f;return f=this,a.call(c,this.basetype,(e=!1,function(g,h){var i;if(e)throw Error("Attempted to call function more than once");return e=!0,null!=g?d(g):S(f.args,a,c,(i=!1,function(a,c){if(i)throw Error("Attempted to call function more than once");return i=!0,null!=a?d(a):d(null,h!==f.basetype||c!==f.args?b(f.index,f.scope,h,c):f)}))}))},b}(T),T.TypeObject=T.byTypeId[46]=qb=function(a){function b(a,c,e){var f;return f=this instanceof b?this:g(d),f.index=a,f.scope=c,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.pairs=e,f}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="TypeObjectNode","function"==typeof a.extended&&a.extended(b),d.typeId=46,b.argNames=["pairs"],d._reduce=function(a){var c;return c=R(this.pairs,function(b){var c,d;return c=b.key.reduce(a),d=b.value.reduce(a),c!==b.key||d!==b.value?{key:c,value:d}:b}),c!==this.pairs?b(this.index,this.scope,c):this},d.inspect=function(a){return e(a,"TypeObjectNode",this.index,this.pairs)},d.walk=function(){return this},d.walkAsync=function(a,b,c){return c(null,this)},b}(T),T.TypeUnion=T.byTypeId[47]=rb=function(a){function b(a,c,e){var f;return f=this instanceof b?this:g(d),null==e&&(e=[]),f.index=a,f.scope=c,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.types=e,f}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="TypeUnionNode","function"==typeof a.extended&&a.extended(b),d.typeId=47,b.argNames=["types"],d.inspect=function(a){return e(a,"TypeUnionNode",this.index,this.types)},d.walk=function(a,c){var d;return d=R(this.types,a,c),d!==this.types?b(this.index,this.scope,d):this},d.walkAsync=function(a,c,d){var e,f;return f=this,S(this.types,a,c,(e=!1,function(a,c){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=a?d(a):d(null,c!==f.types?b(f.index,f.scope,c):f)}))},b}(T),T.Unary=T.byTypeId[48]=sb=function(a){function b(a,c,e,f){var h;return h=this instanceof b?this:g(d),h.index=a,h.scope=c,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.op=e,h.node=f,h}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="UnaryNode","function"==typeof a.extended&&a.extended(b),d.typeId=48,b.argNames=["op","node"],d.type=function(){var a;return a={"-":nb.number,"+":nb.number,"--":nb.number,"++":nb.number,"--post":nb.number,"++post":nb.number,"!":nb.boolean,"~":nb.number,"typeof":nb.string,"delete":nb.boolean},function(){var b;return(m.call(a,b=this.op)?a[b]:void 0)||nb.any}}(),d._reduce=function(){var a,c;return a={"-":function(a){return-a},"+":function(a){return+a},"!":function(a){return!a},"~":function(a){return~a},"typeof":function(a){return typeof a}},c={"+":function(a,b){return a.type(b).isSubsetOf(nb.number)?a:void 0},"-":function(a){var c;if(a instanceof b){if("-"===(c=a.op)||"+"===c)return b(this.index,this.scope,"-"===a.op?"+":"-",a.node)}else if(a instanceof w){if("-"===(c=a.op)||"+"===c)return w(this.index,this.scope,b(a.left.index,a.left.scope,"-",a.left),"-"===a.op?"+":"-",a.right);if("*"===(c=a.op)||"/"===c)return w(this.index,this.scope,b(a.left.index,a.left.scope,"-",a.left),a.op,a.right)}},"!":function(){var a;return a={"<":">=","<=":">",">":"<=",">=":"<","==":"!=","!=":"==","===":"!==","!==":"===","&&":function(a,c){return w(this.index,this.scope,b(a.index,a.scope,"!",a),"||",b(c.index,c.scope,"!",c))},"||":function(a,c){return w(this.index,this.scope,b(a.index,a.scope,"!",a),"&&",b(c.index,c.scope,"!",c))}},function(c,d){var e;if(c instanceof b){if("!"===c.op&&c.node.type(d).isSubsetOf(nb.boolean))return c.node}else if(c instanceof w&&m.call(a,c.op))return e=a[c.op],"function"==typeof e?e.call(this,c.left,c.right):w(this.index,this.scope,c.left,e,c.right)}}(),"typeof":function(){var a;return a=nb["null"].union(nb.object).union(nb.arrayLike).union(nb.regexp).union(nb.date).union(nb.error),function(b,c){var d;if(b.isNoop(c)){if(d=b.type(c),d.isSubsetOf(nb.number))return C(this.index,this.scope,"number");if(d.isSubsetOf(nb.string))return C(this.index,this.scope,"string");if(d.isSubsetOf(nb.boolean))return C(this.index,this.scope,"boolean");if(d.isSubsetOf(nb.undefined))return C(this.index,this.scope,"undefined");if(d.isSubsetOf(nb["function"]))return C(this.index,this.scope,"function");if(d.isSubsetOf(a))return C(this.index,this.scope,"object")}}}()},function(d){var e,f,g;return e=this.node.reduce(d).doWrap(d),f=this.op,e.isConst()&&m.call(a,f)?C(this.index,this.scope,a[f](e.constValue())):(m.call(c,f)&&(g=c[f].call(this,e,d)),null!=g?g.reduce(d):e!==this.node?b(this.index,this.scope,f,e):this)}}(),d._isNoop=function(a){var b,c;return null==(b=this.__isNoop)?this.__isNoop="++"!==(c=this.op)&&"--"!==c&&"++post"!==c&&"--post"!==c&&"delete"!==c&&this.node.isNoop(a):b},d.inspect=function(a){return e(a,"UnaryNode",this.index,this.op,this.node)},d.walk=function(a,c){var d;return d=a.call(c,this.node),d!==this.node?b(this.index,this.scope,this.op,d):this},d.walkAsync=function(a,c,d){var e,f;return f=this,a.call(c,this.node,(e=!1,function(a,c){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=a?d(a):d(null,c!==f.node?b(f.index,f.scope,f.op,c):f)}))},b}(T),T.Var=T.byTypeId[49]=tb=function(a){function b(a,c,e,f){var h;return h=this instanceof b?this:g(d),null==f&&(f=!1),h.index=a,h.scope=c,h._reduced=void 0,h._macroExpanded=void 0,h._macroExpandAlled=void 0,h.ident=e,h.isMutable=f,h}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="VarNode","function"==typeof a.extended&&a.extended(b),d.typeId=49,b.argNames=["ident","isMutable"],d.type=function(){return nb.undefined},d._reduce=function(a){var c;return c=this.ident.reduce(a),c!==this.ident?b(this.index,this.scope,c,this.isMutable):this},d.inspect=function(a){return e(a,"VarNode",this.index,this.ident,this.isMutable)},d.walk=function(a,c){var d;return d=a.call(c,this.ident),d!==this.ident?b(this.index,this.scope,d,this.isMutable):this},d.walkAsync=function(a,c,d){var e,f;return f=this,a.call(c,this.ident,(e=!1,function(a,c){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=a?d(a):d(null,c!==f.ident?b(f.index,f.scope,c,f.isMutable):f)}))},b}(T),T.Yield=T.byTypeId[50]=ub=function(a){function b(a,c,e){var f;return f=this instanceof b?this:g(d),f.index=a,f.scope=c,f._reduced=void 0,f._macroExpanded=void 0,f._macroExpandAlled=void 0,f.node=e,f}var c,d;return c=a.prototype,d=b.prototype=g(c),d.constructor=b,b.displayName="YieldNode","function"==typeof a.extended&&a.extended(b),d.typeId=50,b.argNames=["node"],d.type=function(){return nb.any},d._reduce=function(a){var c;return c=this.node.reduce(a).doWrap(a),c!==this.node?b(this.index,this.scope,c):this},d.inspect=function(a){return e(a,"YieldNode",this.index,this.node)},d.walk=function(a,c){var d;return d=a.call(c,this.node),d!==this.node?b(this.index,this.scope,d):this},d.walkAsync=function(a,c,d){var e,f;return f=this,a.call(c,this.node,(e=!1,function(a,c){if(e)throw Error("Attempted to call function more than once");return e=!0,null!=a?d(a):d(null,c!==f.node?b(f.index,f.scope,c):f)}))},b}(T),a.exports=T}.call(this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:this),a.exports},b["./parser-macroholder"]=function(){var a={exports:this};return function(){var c,d,e,f,g,h,i,j,k;c="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},d=function(a,b){var c;for(c in b)f.call(b,c)&&(a[c]=b[c]);return a},e="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),f=Object.prototype.hasOwnProperty,g=Array.prototype.slice,h=function(a){if(null==a)throw TypeError("Expected an object, got "+i(a));if(e(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return g.call(a);throw TypeError("Expected an object with a length property, got "+i(a))},i=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),k=b("./types"),j=function(){function a(b,d,f,g,h){var i;return i=this instanceof a?this:c(e),i.syntaxes=b,i.macroName=d,i.wordOrSymbol=f,i.oneOf=g,i.sequential=h,i.byName={},i.byId=[],i.byLabel={},i.typeById=[],i.operatorNames={},i.binaryOperators=[],i.assignOperators=[],i.prefixUnaryOperators=[],i.postfixUnaryOperators=[],i.consts={},i.serialization={},i.helpers={},i}var e;return e=a.prototype,a.displayName="MacroHolder",e.clone=function(){var b;return b=a(this.syntaxes,this.macroName,this.wordOrSymbol,this.oneOf,this.sequential),b.byName=d({},this.byName),b.byId=this.byId.slice(),b.byLabel=d({},this.byLabel),b.typeById=this.typeById.slice(),b.operatorNames=d({},this.operatorNames),b.binaryOperators=this.binaryOperators.slice(),b.assignOperators=this.assignOperators.slice(),b.prefixUnaryOperators=this.prefixUnaryOperators.slice(),b.postfixUnaryOperators=this.postfixUnaryOperators.slice(),b.consts=d({},this.consts),b.serialization=d({},this.serialization),b.helpers=d({},this.helpers),b.syntaxes=d({},this.syntaxes),b},e.getByName=function(a){var b;return f.call(b=this.byName,a)?b[a]:void 0},e.getOrAddByName=function(a){var b,c,d;return b=this.byName,f.call(b,a)?b[a]:(d=this.macroName(a),c=function(a,b){var d,e,f,g,i;for(d=h(c.data),e=0,f=d.length;f>e;++e)if(i=d[e],g=i(a,b))return g},c.token=d,c.data=[],b[a]=c)},e.getOrAddByNames=function(a){var b,c,d,e;for(b=[],c=0,d=a.length;d>c;++c)e=a[c],b.push(this.getOrAddByName(e));return b},e.setTypeById=function(a,b){this.typeById[a]=b},e.getTypeById=function(a){return this.typeById[a]},e.getById=function(a){var b;return b=this.byId,a>=0&&a<b.length?b[a]:void 0},e.addMacro=function(a,b,c){var d;if(null==b&&(b=void 0),null==c&&(c=void 0),d=this.byId,null!=b){if(f.call(d,b))throw Error("Cannot add macro #"+b+", as it already exists");d[b]=a}else d.push(a),b=d.length-1;return null!=c&&(this.typeById[b]=c),b},e.replaceMacro=function(a,b,c){var d;null==c&&(c=void 0),d=this.byId,d[a]=b,null!=c&&(this.typeById[a]=c)},e.hasMacroOrOperator=function(a){return f.call(this.byName,a)||f.call(this.operatorNames,a)},e.getMacroAndOperatorNames=function(){var a,b,c;c=[],a=this.byName;for(b in a)f.call(a,b)&&c.push(b);a=this.operatorNames;for(b in a)f.call(a,b)&&c.push(b);return c},e.allBinaryOperators=function(){var a,b,c,d,e,f;if(null==(d=this._allBinaryOperators)){for(f=[],a=h(this.binaryOperators),b=0,c=a.length;c>b;++b)e=a[b],f.push.apply(f,h(e));return this._allBinaryOperators=f}return d},e.addBinaryOperator=function(a,b,c,d){var e,g,i,j,l,m,n,o,p;for(j=this,e=h(a),g=e.length;g--;)o=e[g],this.operatorNames[o]=!0;for(p=Number(c.precedence)||0,n=+this.binaryOperators.length;p>=n;++n)this.binaryOperators[n]=[];return l=this.binaryOperators[p],m={rule:this.oneOf.apply(this,function(){var b,c,d,e,f;for(b=[],c=h(a),d=0,e=c.length;e>d;++d)f=c[d],b.push(j.wordOrSymbol(f));return b}()),func:b,rightToLeft:!!c.rightToLeft,maximum:c.maximum||0,minimum:c.minimum||0,invertible:!!c.invertible},l.push(m),this._allBinaryOperators=null,c.label&&this.addByLabel(c.label,m),this.addMacro(b,d,"left"===(i=c.type)||"right"===i?c.type:null!=c.type&&f.call(k,i=c.type)?k[i]:void 0)},e.getByLabel=function(a){var b;return f.call(b=this.byLabel,a)?b[a]:void 0},e.addByLabel=function(a,b){return this.byLabel[a]=b},e.addAssignOperator=function(a,b,c,d){var e,g,i,j,l,m;for(j=this,e=h(a),g=e.length;g--;)m=e[g],this.operatorNames[m]=!0;return l={rule:this.oneOf.apply(this,function(){var b,c,d,e,f;for(b=[],c=h(a),d=0,e=c.length;e>d;++d)f=c[d],":="===f?b.push(j.syntaxes.ColonEqual):b.push(j.wordOrSymbol(f));return b}()),func:b},this.assignOperators.push(l),c.label&&this.addByLabel(c.label,l),this.addMacro(b,d,"left"===(i=c.type)||"right"===i?c.type:null!=c.type&&f.call(k,i=c.type)?k[i]:void 0)},e.addUnaryOperator=function(a,b,c,d){var e,g,i,j,l,m,n;for(j=this,e=h(a),g=e.length;g--;)m=e[g],this.operatorNames[m]=!0;return n=c.postfix?this.postfixUnaryOperators:this.prefixUnaryOperators,l={rule:this.oneOf.apply(this,function(){var b,d,e,f,g,i;for(b=[],d=h(a),e=0,f=d.length;f>e;++e)g=d[e],i=j.wordOrSymbol(g),/[a-zA-Z]/.test(g)?b.push(i):c.postfix?b.push(j.sequential(j.syntaxes.NoSpace,["this",i])):b.push(j.sequential(["this",i],j.syntaxes.NoSpace));return b}()),func:b,standalone:f.call(!c,"standalone")||!!c.standalone},n.push(l),c.label&&this.addByLabel(c.label,l),this.addMacro(b,d,"node"===c.type?c.type:null!=c.type&&f.call(k,i=c.type)?k[i]:void 0)},e.addSerializedHelper=function(a,b,c,d){var e,f,g;g=null!=(e=(f=this.serialization).helpers)?e:f.helpers={},g[a]={helper:b,type:c,dependencies:d}},e.addConst=function(a,b){this.consts[a]=b},e.addSerializedConst=function(a){var b,c,d;if(!f.call(this.consts,a))throw Error("Unknown const "+a);d=null!=(b=(c=this.serialization).consts)?b:c.consts={},d[a]=this.consts[a]},e.addMacroSerialization=function(a){var b,c,e,f,g;g=d({},a),delete g.type,f=null!=(b=(c=this.serialization)[e=a.type])?b:c[e]=[],f.push(g)},e.addSyntax=function(a,b){if(f.call(this.syntaxes,a))throw Error("Cannot override already-defined syntax: "+a);this.syntaxes[a]=b},e.hasSyntax=function(a){return f.call(this.syntaxes,a)},e.getSyntax=function(a){if(f.call(this.syntaxes,a))return this.syntaxes[a];throw Error("Unknown syntax: "+a)},e.serialize=function(){function a(a){return void 0===a?a:JSON.parse(JSON.stringify(a))}function c(a){return b("./jsutils").toJSSource(a,null,{indent:2})}function e(a){return a=a.replace(/^return\s*([\s\S]*);\s*$/,"$1"),a=a.replace(/^\s*\(function\s*\(\s*\)\s*{\s*"use strict";\s*return\s*function([\s\S]*)\};\s*\}\.call\(this\)\)\s*$/,"function$1}"),a=a.replace(/^\s*\(function\s*\(\s*\)\s*{\s*"use strict";\s*([\s\S]*)\};\s*\}\.call\(this\)\)\s*$/,"function() {\n  $1\n  }\n}.call(this)"),a=a.split("\n").join("\n      ")}var g,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;i=this,q=d({},this.serialization),m=f.call(q,"helpers")&&q.helpers||{};for(o in m)if(f.call(m,o))for(l=m[o],g=h(l.dependencies),n=g.length;n--;)k=g[n],f.call(m,k)&&k!==o||l.dependencies.splice(n,1);return p={line:0,column:0},j=b("./jsast"),v=j.Obj(p,function(){var b,c,d;b=[];for(d in m)f.call(m,d)&&(c=m[d],b.push(j.Obj.Pair(p,d,j.Obj(p,[j.Obj.Pair(p,"helper",c.helper.toAst(p,j.Ident(p,"AST$"))),j.Obj.Pair(p,"type",c.type.toAst(j,p,j.Ident(p,"TYPE$"))),j.Obj.Pair(p,"dependencies",j.fromLiteral(p,a(c.dependencies)))]))));return b}()).toString({indent:2}),s=j.Arr(p,function(){var a,b,c,d,f,g,i,k,l;for(a=[],b=h(q.binaryOperator),c=0,d=b.length;d>c;++c)f=b[c],g=f.code,k=f.operators,l=f.options,i=f.id,a.push(j.Obj(p,[j.Obj.Pair(p,"code",j.Eval(p,e(g))),j.Obj.Pair(p,"operators",j.fromLiteral(p,k)),j.Obj.Pair(p,"options",j.fromLiteral(p,l)),j.Obj.Pair(p,"id",j.fromLiteral(p,i))]));return a}()).toString({indent:2}),r=j.Arr(p,function(){var a,b,c,d,f,g,i,k,l;for(a=[],b=h(q.assignOperator),c=0,d=b.length;d>c;++c)f=b[c],g=f.code,k=f.operators,l=f.options,i=f.id,a.push(j.Obj(p,[j.Obj.Pair(p,"code",j.Eval(p,e(g))),j.Obj.Pair(p,"operators",j.fromLiteral(p,k)),j.Obj.Pair(p,"options",j.fromLiteral(p,l)),j.Obj.Pair(p,"id",j.fromLiteral(p,i))]));return a}()).toString({indent:2}),x=j.Arr(p,function(){var a,b,c,d,f,g,i,k,l;for(a=[],b=h(q.unaryOperator),c=0,d=b.length;d>c;++c)f=b[c],g=f.code,k=f.operators,l=f.options,i=f.id,a.push(j.Obj(p,[j.Obj.Pair(p,"code",j.Eval(p,e(g))),j.Obj.Pair(p,"operators",j.fromLiteral(p,k)),j.Obj.Pair(p,"options",j.fromLiteral(p,l)),j.Obj.Pair(p,"id",j.fromLiteral(p,i))]));return a}()).toString({indent:2}),u=j.Arr(p,function(){var b,c,d,f,g,i,k,l,m;for(b=[],c=h(q.defineSyntax),d=0,f=c.length;f>d;++d)g=c[d],i=g.code,l=g.options,m=g.params,k=g.id,b.push(j.Obj(p,[j.Obj.Pair(p,"code",i&&j.Eval(p,e(i))),j.Obj.Pair(p,"options",j.fromLiteral(p,l)),j.Obj.Pair(p,"params",j.fromLiteral(p,a(m))),j.Obj.Pair(p,"id",j.fromLiteral(p,k))]));return b}()).toString({indent:2}),w=j.Arr(p,function(){var b,c,d,f,g,i,k,l,m,n;for(b=[],c=h(q.syntax),d=0,f=c.length;f>d;++d)g=c[d],i=g.code,m=g.options,n=g.params,l=g.names,k=g.id,b.push(j.Obj(p,[j.Obj.Pair(p,"code",i&&j.Eval(p,e(i))),j.Obj.Pair(p,"options",j.fromLiteral(p,m)),j.Obj.Pair(p,"params",j.fromLiteral(p,a(n))),j.Obj.Pair(p,"names",j.fromLiteral(p,l)),j.Obj.Pair(p,"id",j.fromLiteral(p,k))]));return b}()).toString({indent:2}),t=j.Arr(p,function(){var a,b,c,d,f,g,i,k,l;for(a=[],b=h(q.call),c=0,d=b.length;d>c;++c)f=b[c],g=f.code,l=f.options,k=f.names,i=f.id,a.push(j.Obj(p,[j.Obj.Pair(p,"code",g&&j.Eval(p,e(g))),j.Obj.Pair(p,"options",j.fromLiteral(p,l)),j.Obj.Pair(p,"names",j.fromLiteral(p,k)),j.Obj.Pair(p,"id",j.fromLiteral(p,i))]));return a}()).toString({indent:2}),"function (TYPE$, AST$) {\n  return {\n    consts: "+c(q.consts)+",\n    helpers: "+v+",\n    binaryOperator: "+s+",\n    assignOperator: "+r+",\n    unaryOperator: "+x+",\n    defineSyntax: "+u+",\n    syntax: "+w+",\n    call: "+t+"\n  };\n}"},e.deserialize=function(a,c){var d,e,g,h,i,j,l,m,n;g=b("./jsast"),h=a(k,g.byTypeId),d=null!=(e=f.call(h,"helpers")?h.helpers:void 0)?e:{};for(l in d)if(f.call(d,l)){if(e=d[l],j=e.helper,m=e.type,i=e.dependencies,!(j instanceof g.Node))throw Error("bad helper ast in helper "+l);if(!(m instanceof k))throw Error("bad type in helper "+l);this.addHelper(l,j,m,i)}d=null!=(e=f.call(h,"consts")?h.consts:void 0)?e:{};for(l in d)f.call(d,l)&&(n=d[l],this.addConst(l,n));c.deserializeMacros(h)},e.addHelper=function(a,b,c,d){if(f.call(this.helpers,a))throw Error("Trying to overwrite helper "+a);return this.helpers[a]={value:b,type:c,dependencies:d}},e.hasHelper=function(a){return f.call(this.helpers,a)},e.getHelper=function(a){if(f.call(this.helpers,a))return this.helpers[a].value;throw Error("No such helper: "+a)},e.helperType=function(a){if(f.call(this.helpers,a))return this.helpers[a].type;throw Error("No such helper: "+a)},e.helperDependencies=function(a){if(f.call(this.helpers,a))return this.helpers[a].dependencies;throw Error("No such helper: "+a)},a}(),a.exports=j}.call(this),a.exports},b["./parser-macrocontext"]=function(){var a={exports:this};return function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb;c="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},d="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),e=Object.prototype.hasOwnProperty,f=Array.prototype.slice,g=function(a){throw a},h=function(a){if(null==a)throw TypeError("Expected an object, got "+i(a));if(d(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return f.call(a);throw TypeError("Expected an object with a length property, got "+i(a))},i=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),J=b("./parser-nodes"),db=b("./types"),R=b("./parser-scope"),j=b("./parser-utils"),K=j.nodeToType,m=j.addParamToScope,l=J.Access,k=J.AccessMulti,n=J.Args,o=J.Array,p=J.Assign,q=J.Binary,r=J.Block,s=J.Break,t=J.Call,u=J.Comment,v=J.Const,w=J.Continue,x=J.Debugger,y=J.Def,z=J.EmbedWrite,A=J.Eval,C=J.For,B=J.ForIn,D=J.Function,E=J.Ident,F=J.If,G=J.MacroAccess,H=J.MacroConst,L=J.Nothing,M=J.Object,N=J.Param,O=J.Regexp,P=J.Return,Q=J.Root,S=J.Spread,T=J.Super,U=J.Switch,V=J.SyntaxChoice,W=J.SyntaxMany,X=J.SyntaxParam,Y=J.SyntaxSequence,Z=J.This,$=J.Throw,_=J.Tmp,ab=J.TmpWrapper,bb=J.TryCatch,cb=J.TryFinally,eb=J.TypeFunction,fb=J.TypeGeneric,gb=J.TypeObject,hb=J.TypeUnion,ib=J.Unary,jb=J.Var,kb=J.Yield,I=function(){function a(b,d,e,f,g){var h;return h=this instanceof a?this:c(x),h.parser=b,h.index=d,h.position=e,h.inGenerator=f,h.inEvilAst=g,h.unsavedTmps=[],h.savedTmps=[],h}function j(a,b,c,f){if("object"!=typeof b||null===b||b instanceof RegExp)return v(c,f,b);if(d(b))return o(c,f,function(){var d,e,g,i,k;for(d=[],e=h(b),g=0,i=e.length;i>g;++g)k=e[g],d.push(j(a,k,c,f));return d}());if(b instanceof E&&b.name.length>1&&36===b.name.charCodeAt(0))return t(b.index,f,E(b.index,f,"__wrap"),[E(b.index,f,b.name.substring(1))]);
if(b instanceof t&&!b.isNew&&!b.isApply&&b.func instanceof E&&"$"===b.func.name){if(1!==b.args.length||b.args[0]instanceof S)throw Error("Can only use $() in an AST if it has one argument.");return t(b.index,f,E(b.index,f,"__wrap"),[b.args[0]])}if(b instanceof H)return t(b.index,f,E(b.index,f,"__const"),[v(b.index,f,b.name)]);if(b instanceof J){if(b.constructor===J)throw Error("Cannot constify a raw node");return t(b.index,f,E(b.index,f,"__node"),[v(b.index,f,b.typeId),a||v(b.index,f,void 0)].concat(function(){var c,d,e,g,i;for(c=[],d=h(b._toJSON()),e=0,g=d.length;g>e;++e)i=d[e],c.push(j(a,i,b.index,f));return c}()))}return M(c,f,function(){var d,g,h;d=[];for(g in b)e.call(b,g)&&(h=b[g],d.push({key:v(c,f,g),value:j(a,h,c,f)}));return d}())}function k(a){var b,c;if(c=this,null===a||"undefined"==(b=typeof a)||"boolean"===b||"number"===b||"string"===b)return v(0,this.scope(),a);if(d(a))return o(0,this.scope(),function(){var b,d,e,f,g;for(b=[],d=h(a),e=0,f=d.length;f>e;++e)g=d[e],b.push(k.call(c,g));return b}());if(a.constructor===Object)return M(0,this.scope(),function(){var b,d,f;b=[];for(d in a)e.call(a,d)&&(f=a[d],b.push({key:k.call(c,d),value:k.call(c,f)}));return b}());throw Error("Cannot convert "+i(a)+" to a literal node")}function u(a,b){var c;if("object"!=typeof a||null===a||a instanceof RegExp)return a;if(!(a instanceof J))throw Error("Unexpected type to walk through: "+i(a));return a instanceof r||null==(c=b.call(this,a))?a.walk(function(a){return u.call(this,a,b)},this):c}var x;return x=a.prototype,a.displayName="MacroContext",x.doWrap=function(a){return a instanceof J?a.doWrap(this.parser):a},x.error=function(a,b){throw null==b&&(b=null),this.parser.buildError(a,b||this.index)},x.scope=function(){return this.parser.scope.peek()},x.line=function(a){var b;return b=a instanceof J?a.index:this.index,this.parser.getPosition(b).line},x.column=function(a){var b;return b=a instanceof J?a.index:this.index,this.parser.getPosition(b).column},x.file=function(){return this.parser.options.filename||""},x.version=function(){return this.parser.getPackageVersion()},x.let=function(a,b,c){return null==b&&(b=!1),null==c&&(c=db.any),a instanceof E&&b&&c.isSubsetOf(db.undefinedOrNull)&&(c=db.any),this.scope().add(a,b,c)},x.hasVariable=function(a){return this.scope().has(a)},x.isVariableMutable=function(a){return this.scope().isMutable(a)},x["var"]=function(a,b){return null==b&&(b=!1),this.parser.Var(this.index,a,b)},x.def=function(a,b){return null==a&&(a=L(0,this.scope())),null==b&&(b=void 0),this.parser.Def(this.index,a,this.doWrap(b))},x.noop=function(){return this.parser.Nothing(this.index)},x.block=function(a,b){return null==b&&(b=null),this.parser.Block(this.index,a,b).reduce(this.parser)},x["if"]=function(a,b,c,d){return null==a&&(a=L(0,this.scope())),null==b&&(b=L(0,this.scope())),null==c&&(c=null),null==d&&(d=null),this.parser.If(this.index,this.doWrap(a),b,c,d).reduce(this.parser)},x["switch"]=function(a,b,c,d){var e;return e=this,null==a&&(a=L(0,this.scope())),null==c&&(c=null),null==d&&(d=null),this.parser.Switch(this.index,this.doWrap(a),function(){var a,c,d,f;for(a=[],c=0,d=b.length;d>c;++c)f=b[c],a.push({node:e.doWrap(f.node),body:f.body,fallthrough:f.fallthrough});return a}(),c,d).reduce(this.parser)},x["for"]=function(a,b,c,d,e){return null==a&&(a=null),null==b&&(b=null),null==c&&(c=null),null==d&&(d=L(0,this.scope())),null==e&&(e=null),this.parser.For(this.index,this.doWrap(a),this.doWrap(b),this.doWrap(c),d,e).reduce(this.parser)},x.forIn=function(a,b,c,d){return null==b&&(b=L(0)),null==c&&(c=L(0,this.scope())),null==d&&(d=null),this.parser.ForIn(this.index,a,this.doWrap(b),c,d).reduce(this.parser)},x.tryCatch=function(a,b,c,d){return null==a&&(a=L(0,this.scope())),null==b&&(b=L(0,this.scope())),null==c&&(c=L(0,this.scope())),null==d&&(d=null),this.parser.TryCatch(this.index,a,b,c,d).reduce(this.parser)},x.tryFinally=function(a,b,c){return null==a&&(a=L(0,this.scope())),null==b&&(b=L(0,this.scope())),null==c&&(c=null),this.parser.TryFinally(this.index,a,b,c).reduce(this.parser)},x.assign=function(a,b,c){return null==a&&(a=L(0,this.scope())),null==c&&(c=L(0,this.scope())),this.parser.Assign(this.index,a,b,this.doWrap(c)).reduce(this.parser)},x.binary=function(a,b,c){return null==a&&(a=L(0,this.scope())),null==c&&(c=L(0,this.scope())),this.parser.Binary(this.index,this.doWrap(a),b,this.doWrap(c)).reduce(this.parser)},x.binaryChain=function(a,b){var c,d,e,f,g;if(0===b.length)throw Error("Expected nodes to at least have a length of 1");for(e=this.doWrap(b[0]),c=1,d=b.length;d>c;++c)g=b[c],e=this.parser.Binary(this.index,e,a,this.doWrap(g));return f=e,f.reduce(this.parser)},x.unary=function(a,b){return null==b&&(b=L(0,this.scope())),this.parser.Unary(this.index,a,this.doWrap(b)).reduce(this.parser)},x["throw"]=function(a){return null==a&&(a=L(0,this.scope())),this.parser.Throw(this.index,this.doWrap(a)).reduce(this.parser)},x["return"]=function(a){return null==a&&(a=void 0),this.parser.Return(this.index,this.doWrap(a)).reduce(this.parser)},x.yield=function(a){return null==a&&(a=L(0,this.scope())),this.parser.Yield(this.index,this.doWrap(a)).reduce(this.parser)},x["debugger"]=function(){return this.parser.Debugger(this.index)},x["break"]=function(a){return null==a&&(a=null),this.parser.Break(this.index,a)},x["continue"]=function(a){return null==a&&(a=null),this.parser.Continue(this.index,a)},x.spread=function(a){return this.parser.Spread(this.index,a)},x.real=function(a){return a=this.macroExpand1(a),a instanceof ab?a.node:a},x.rewrap=function(a,b){return b=this.macroExpand1(b),b instanceof ab?a instanceof ab?ab(a.index,a.scope,a,b.tmps.concat(a.tmps)):ab(a.index,a.scope,a,b.tmps.slice()):a},x.eq=function(a,b){return a=this.real(a),b=this.real(b),a instanceof v?b instanceof v&&a.value===b.value:a instanceof E?b instanceof E&&a.name===b.name:!1},x.isLabeledBlock=function(a){return a=this.real(a),a instanceof r||a instanceof F||a instanceof U||a instanceof C||a instanceof B||a instanceof bb||a instanceof cb?null!=a.label:!1},x.isBreak=function(a){return this.real(a)instanceof s},x.isContinue=function(a){return this.real(a)instanceof w},x.label=function(a){return a=this.real(a),a instanceof s||a instanceof w||a instanceof r||a instanceof F||a instanceof U||a instanceof C||a instanceof B||a instanceof bb||a instanceof cb?a.label:null},x.withLabel=function(a,b){return null==b&&(b=null),a.withLabel(b,this.parser)},x.macroExpand1=function(a){var b;return a instanceof J?(b=this.parser.macroExpand1(a),b instanceof J?b.reduce(this.parser):b):a},x.macroExpandAll=function(a){var b;return a instanceof J?(b=this.parser.macroExpandAll(a),b instanceof J?b.reduce(this.parser):b):a},x.tmp=function(a,b,c){var d;if(null==a&&(a="ref"),null==b&&(b=!1),null==c)c=db.any;else if("string"==typeof c){if(!((e.call(db,c)?db[c]:void 0)instanceof db))throw Error(c+" is not a known type name");c=e.call(db,c)?db[c]:void 0}else if(!(c instanceof db))throw Error("Must provide a Type or a string for type, got "+i(c));return d=this.parser.makeTmp(this.index,a,c),(b?this.savedTmps:this.unsavedTmps).push(d.id),d},x.getTmps=function(){return{unsaved:this.unsavedTmps.slice(),saved:this.savedTmps.slice()}},x.isConst=function(a){return void 0===a||a instanceof J&&this.real(a).isConst()},x.value=function(a){var b;if(void 0!==a)return a instanceof J&&(b=this.real(a),b.isConst())?b.constValue():void 0},x["const"]=function(a){return this.parser.Const(this.index,a)},x.isSpread=function(a){return this.real(a)instanceof S},x.spreadSubnode=function(a){return a=this.real(a),a instanceof S?a.node:void 0},x.isNode=function(a){return a instanceof J},x.isIdent=function(a){return this.real(a)instanceof E},x.isPrimordial=function(a){return a=this.real(a),a instanceof E&&a.isPrimordial()},x.isTmp=function(a){return this.real(a)instanceof _},x.isIdentOrTmp=function(a){var b;return(b=this.real(a))instanceof E||b instanceof _},x.name=function(a){return a=this.real(a),this.isIdent(a)?a.name:void 0},x.ident=function(a){return b("./jsutils").isAcceptableIdent(a,!0)?this.parser.Ident(this.index,a):void 0},x.isCall=function(a){return this.real(a)instanceof t},x.callFunc=function(a){return a=this.real(a),a instanceof t?a.func:void 0},x.callArgs=function(a){return a=this.real(a),a instanceof t?a.args:void 0},x.isSuper=function(a){return this.real(a)instanceof T},x.superChild=function(a){return a=this.real(a),this.isSuper(a)?a.child:void 0},x.superArgs=function(a){return a=this.real(a),this.isSuper(a)?a.args:void 0},x.callIsNew=function(a){return a=this.real(a),a instanceof t?!!a.isNew:!1},x.callIsApply=function(a){return a=this.real(a),a instanceof t?!!a.isApply:!1},x.call=function(a,b,c,d){var e;if(e=this,null==b&&(b=[]),null==c&&(c=!1),null==d&&(d=!1),c&&d)throw Error("Cannot specify both is-new and is-apply");return t(a.index,this.scope(),this.doWrap(a),function(){var a,c,d,f;for(a=[],c=0,d=b.length;d>c;++c)f=b[c],a.push(e.doWrap(f));return a}(),c,d).reduce(this.parser)},x.func=function(a,b,c,d,e,f,g,i){var j,k,l,n,o,p,q,r;for(null==c&&(c=!0),null==d&&(d=!1),null==e&&(e=!1),null==f&&(f=void 0),null==g&&(g=!1),null==i&&(i=[]),r=this.parser.pushScope(!0),j=[],k=h(a),l=0,n=k.length;n>l;++l)q=k[l],p=q.rescope(r),m(r,p),j.push(p);return a=j,o=D(b.index,r.parent,a,b.rescope(r),c,d,e,f,g,i).reduce(this.parser),this.parser.popScope(),o},x.isFunc=function(a){return this.real(a)instanceof D},x.funcBody=function(a){return a=this.real(a),this.isFunc(a)?a.body:void 0},x.funcParams=function(a){return a=this.real(a),this.isFunc(a)?a.params:void 0},x.funcIsAutoReturn=function(a){return a=this.real(a),this.isFunc(a)?!!a.autoReturn:void 0},x.funcIsBound=function(a){return a=this.real(a),this.isFunc(a)?!(!a.bound||a.bound instanceof J):void 0},x.funcIsCurried=function(a){return a=this.real(a),this.isFunc(a)?!!a.curry:void 0},x.funcAsType=function(a){return a=this.real(a),this.isFunc(a)?a.asType:void 0},x.funcIsGenerator=function(a){return a=this.real(a),this.isFunc(a)?!!a.generator:void 0},x.funcGeneric=function(a){return a=this.real(a),this.isFunc(a)?a.generic.slice():[]},x.param=function(a,b,c,d,e){return N(a.index,a.scope,a,b,c,d,e).reduce(this.parser)},x.isParam=function(a){return this.real(a)instanceof N},x.paramIdent=function(a){return a=this.real(a),this.isParam(a)?a.ident:void 0},x.paramDefaultValue=function(a){return a=this.real(a),this.isParam(a)?a.defaultValue:void 0},x.paramIsSpread=function(a){return a=this.real(a),this.isParam(a)?!!a.spread:void 0},x.paramIsMutable=function(a){return a=this.real(a),this.isParam(a)?!!a.isMutable:void 0},x.paramType=function(a){return a=this.real(a),this.isParam(a)?a.asType:void 0},x.isArray=function(a){return this.real(a)instanceof o},x.elements=function(a){return a=this.real(a),this.isArray(a)?a.elements:void 0},x.arrayHasSpread=function(a){var b,c,d,e,f;if(a=this.real(a),a instanceof o){for(e=!1,b=h(a.elements),c=0,d=b.length;d>c;++c)if(f=b[c],this.real(f)instanceof S){e=!0;break}return e}return!1},x.isObject=function(a){return this.real(a)instanceof M},x.pairs=function(a){return a=this.real(a),this.isObject(a)||this.isTypeObject(a)?a.pairs:void 0},x.isBlock=function(a){return this.real(a)instanceof r},x.nodes=function(a){return a=this.real(a),this.isBlock(a)?a.nodes:void 0},x.array=function(a){var b;return b=this,this.parser.Array(0,function(){var c,d,e,f,g;for(c=[],d=h(a),e=0,f=d.length;f>e;++e)g=d[e],c.push(b.doWrap(g));return c}()).reduce(this.parser)},x.object=function(a){var b;return b=this,this.parser.Object(0,function(){var c,d,e,f,g,i,j,k;for(c=[],d=h(a),e=0,f=d.length;f>e;++e)g=d[e],i=g.key,k=g.value,j=g.property,c.push({key:b.doWrap(i),value:b.doWrap(k)(j)});return c}()).reduce(this.parser)},x.type=function(a){if("string"==typeof a)return e.call(db,a)&&db[a]||g(Error("Unknown type "+a));if(a instanceof J)return a.type(this.parser);throw Error("Can only retrieve type from a String or Node, got "+i(a))},x.toType=K,x.isComplex=function(a){return a=this.real(a),!(null==a||a instanceof v||a instanceof E||a instanceof _||a instanceof Z||a instanceof n||a instanceof r&&0===a.nodes.length)},x.isNoop=function(a){return a=this.real(a),a.isNoop(this.parser)},x.isNothing=function(a){return this.real(a)instanceof L},x.isTypeArray=function(a){return a=this.real(a),a instanceof fb&&a.basetype instanceof E&&"Array"===a.basetype.name},x.subtype=function(a){return a=this.real(a),a instanceof fb&&a.basetype instanceof E&&"Array"===a.basetype.name?a.args[0]:void 0},x.isTypeGeneric=function(a){return this.real(a)instanceof fb},x.basetype=function(a){return a=this.real(a),a instanceof fb&&a.basetype},x.typeArguments=function(a){return a=this.real(a),a instanceof fb&&a.args},x.isTypeObject=function(a){return this.real(a)instanceof gb},x.isTypeFunction=function(a){return a=this.real(a),a instanceof fb&&a.basetype instanceof E&&"Function"===a.basetype.name},x.returnType=function(a){return a=this.real(a),a instanceof fb&&a.basetype instanceof E&&"Function"===a.basetype.name?a.args[0]:void 0},x.isTypeUnion=function(a){return this.real(a)instanceof hb},x.types=function(a){return a=this.real(a),this.isTypeUnion(a)&&a.types},x.isThis=function(a){return this.real(a)instanceof Z},x.isArguments=function(a){return a=this.real(a),a instanceof n},x.isDef=function(a){return this.real(a)instanceof y},x.isAssign=function(a){return this.real(a)instanceof p},x.isBinary=function(a){return this.real(a)instanceof q},x.isUnary=function(a){return this.real(a)instanceof ib},x.op=function(a){return a=this.real(a),this.isAssign(a)||this.isBinary(a)||this.isUnary(a)?a.op:void 0},x.left=function(a){return a=this.real(a),this.isDef(a)||this.isBinary(a)?a.left:void 0},x.right=function(a){return a=this.real(a),this.isDef(a)||this.isBinary(a)?a.right:void 0},x.unaryNode=function(a){return a=this.real(a),this.isUnary(a)?a.node:void 0},x.isAccess=function(a){return this.real(a)instanceof l},x.parent=function(a){return a=this.real(a),a instanceof l?a.parent:void 0},x.child=function(a){return a=this.real(a),a instanceof l?a.child:void 0},x.isIf=function(a){return this.real(a)instanceof F},x.test=function(a){return a=this.real(a),a instanceof F?a.test:void 0},x.whenTrue=function(a){return a=this.real(a),a instanceof F?a.whenTrue:void 0},x.whenFalse=function(a){return a=this.real(a),a instanceof F?a.whenFalse:void 0},x.cache=function(a,b,c,d){return null==c&&(c="ref"),null==d&&(d=!1),this.maybeCache(a,function(a,c,d){return d&&b.push(a),c},c,d)},x.maybeCache=function(a,b,c,d){var e,f;return null==c&&(c="ref"),null==d&&(d=!1),a=this.macroExpand1(a),this.isComplex(a)?(f=a.type(this.parser),e=this.tmp(c,d,f),this.scope().add(e,!1,f),b.call(this,this.parser.Block(this.index,[this.parser.Var(this.index,e,!1),this.parser.Assign(this.index,e,"=",this.doWrap(a))]),e,!0)):b.call(this,a,a,!1)},x.maybeCacheAccess=function(a,b,c,d,e){return null==c&&(c="ref"),null==d&&(d="ref"),null==e&&(e=!1),a=this.macroExpand1(a),this.isAccess(a)?this.maybeCache(this.parent(a),function(c,f,g){return this.maybeCache(this.child(a),function(d,e,h){return g||h?b.call(this,this.parser.Access(this.index,c,d),this.parser.Access(this.index,f,e),!0):b.call(this,a,a,!1)},d,e)},c,e):b.call(this,a,a,!1)},x.empty=function(a){var b,c,d,e;if(null==a)return!0;if(a instanceof J){if(a instanceof r){for(c=!0,b=h(a.nodes),d=b.length;d--;)if(e=b[d],!this.empty(e)){c=!1;break}return c}return a instanceof L}return!1},a.constifyObject=j,x.wrap=function(a){var b;return d(a)?r(this.index,this.scope(),a).reduce(this.parser):a instanceof J?a:null==a?L(this.index,this.scope()):a instanceof RegExp||"string"==(b=typeof a)||"boolean"===b||"number"===b?v(this.index,this.scope(),a):a},x.node=function(a,b){var c,d,e;return d=f.call(arguments,2),23===a?this.macro.apply(this,[b].concat(h(d))):(e=b&&"number"==typeof b.index?b.index:this.index,(c=J.byTypeId)[a].apply(c,[e,this.scope()].concat(h(d))).reduce(this.parser))},x.getConstValue=function(a,b){var c;if(c=this.parser.getConst(a))return c.value;if(arguments.length<2)throw Error("Unknown const '"+a+"'");return b},x.getConst=function(a){return k.call(this,this.getConstValue(a))},x.macro=function(a,b,c,d,e,f,g){var h;return h=a&&"number"==typeof a.index?a.index:this.index,J.MacroAccess(h,this.scope(),b,c,d,e,f||this.parser.inGenerator.peek(),g).reduce(this.parser)},x.walk=function(a,b){return null!=a?u.call(this,a,b):a},x.hasFunc=function(a){var b,c;if(null!=this._hasFunc)return this._hasFunc;b={},c=function(a){if(a instanceof D)throw b};try{u(this.macroExpandAll(a),c)}catch(d){if(d!==b)throw d;return this._hasFunc=!0}return this._hasFunc=!1},x.isStatement=function(a){return a=this.macroExpand1(a),a instanceof J&&a.isStatement()},x.isType=function(a,b){var c;if(e.call(db,b)&&(c=db[b]),null==c||!(c instanceof db))throw Error(b+" is not a known type name");return a.type(this.parser).isSubsetOf(c)},x.hasType=function(a,b){var c;if(e.call(db,b)&&(c=db[b]),null==c||!(c instanceof db))throw Error(b+" is not a known type name");return a.type(this.parser).overlaps(c)},x.mutateLast=function(a,b,c){if("object"!=typeof a||null===a||a instanceof RegExp)return a;if(!(a instanceof J))throw Error("Unexpected type to mutate-last through: "+i(a));return a.mutateLast(this.parser,b,this,c)},a}(),a.exports=I}.call(this),a.exports},b["./jstranslator"]=function(){var a={exports:this};return function(c){function d(a){return!(a instanceof E.Ident||a instanceof E.Const||a instanceof E.This||a instanceof E.Arguments)}function e(){function a(b){var c;return d.getOrAdd(b,(c=!1,function(b){var d,e;if(c)throw Error("Attempted to call function more than once");if(c=!0,e=!1,b instanceof O.Yield||b instanceof O.Return)return!0;if(!(b instanceof O.Function)){d={};try{b.walk(function(b){if(a(b))throw d;return b})}catch(f){if(f===d)return!0;throw f}}return!1}))}function b(c){var f;return e.getOrAdd(c,(f=!1,function(c){var e,g;if(f)throw Error("Attempted to call function more than once");if(f=!0,e=d.get(c))return e;if(c instanceof O.Yield||c instanceof O.Return||c instanceof O.Continue)return!0;if(!(c instanceof O.Function)){g={};try{c.walk(function(c){if(c instanceof O.For||c instanceof O.ForIn){if(a(c))throw g}else if(b(c))throw g;return c})}catch(h){if(h===g)return!0;throw h}}return!1}))}function c(h,i){var j;return null==i&&(i=!1),(i?g:f).getOrAdd(h,(j=!1,function(f){var h,k;if(j)throw Error("Attempted to call function more than once");if(j=!0,!i&&(h=g.get(f)))return h;if(h=d.get(f))return h;if(h=e.get(f))return h;if(f instanceof O.Yield||f instanceof O.Continue||f instanceof O.Break||!i&&f instanceof O.Return)return!0;if(!(f instanceof O.Function)){k={};try{f.walk(function(d){if(d instanceof O.For||d instanceof O.ForIn){if(a(d))throw k}else if(d instanceof O.Switch){if(b(d))throw k}else if(c(d,i))throw k;return d})}catch(l){if(l===k)return!0;throw l}}return!1}))}var d,e,f,g;return d=G(),e=G(),g=G(),f=G(),c}function f(a){var b,c,d,e,g,h;for(h=[],e=!1,b=B(a),c=0,d=b.length;d>c;++c)g=b[c],g instanceof O.Spread&&g.node instanceof O.Array?(h.push.apply(h,B(g.node.elements)),e=!0):h.push(g);return e?f(h):a}function g(a,b,c){var d;return null==c&&(c=void 0),d={line:a,column:b},null!=c&&(d.file=c),d}function h(){}function i(a,b,c,d,e,g){var h,i,k,l,m,n,o,p;for(p=[],m=[],p.push(m),h=B(f(b)),k=0,l=h.length;l>k;++k)n=h[k],n instanceof O.Spread?(p.push({tNode:j(n.node,c,"expression",g),type:n.node.type()}),m=[],p.push(m)):m.push(j(n,c,"expression",g));if(1===p.length)return function(){return E.Arr(a,function(){var a,b,c,d,e;for(a=[],b=B(p[0]),c=0,d=b.length;d>c;++c)e=b[c],a.push(e());return a}())};for(o=p.length,i=function(a,b){return 0===b%2?a.length>0?p[b]=function(){var b,c,d,e,f,g;for(b=[],c=B(a),d=0,e=c.length;e>d;++d)g=c[d],b.push(g());return f=b,E.Arr(f[0].pos,f)}:p.splice(b,1):p[b]=function(){var b;return b=a.tNode(),a.type.isSubsetOf(R.array)?b:(c.addHelper("__toArray"),E.Call(b.pos,E.Ident(b.pos,"__toArray"),[b]))}};o--;)i.call(this,p[o],o);return 1===p.length?function(){var b;return b=p[0](),d&&b instanceof E.Call&&b.func instanceof E.Ident&&"__toArray"===b.func.name?E.Call(a,E.Access(a,E.Ident(a,"__slice"),"call"),b.args):e&&b instanceof E.Call&&b.func instanceof E.Ident&&"__toArray"===b.func.name&&b.args[0]instanceof E.Arguments?b.args[0]:b}:function(){var b,c,d,e,f,g;for(e=p[0](),b=[],c=1,d=p.length;d>c;++c)f=p[c],b.push(f());return g=b,E.Call(a,E.Access(a,e,"concat"),g)}}function j(a,b,c,d){var e;if(!y.call(Q,a.typeId))throw Error("Unable to translate unknown node type: "+C(a));if(e=Q[a.typeId](a,b,c,d),"function"!=typeof e)throw Error("Translated non-function: "+C(e));return e}function k(a,b,c,d,f){var g,h,i,k,l;return null==f&&(f={}),k=!1,b&&(i=e(),k=!i(d,!0),!k)?(h=H(a,c,i),J(d,c,h.start,null,null,f,!0).goto(a,function(){return h.stop}),l=h.create(),a.file&&((g=l.pos).file||(g.file=a.file)),{wrap:function(a){return a},body:l}):(l=j(d,c,"topStatement",f)(),a.file&&((g=l.pos).file||(g.file=a.file)),{wrap:k?(c.addHelper("__generator"),function(b){return E.Call(a,E.Ident(a,"__generator"),[b])}):function(a){return a},body:l})}function l(a){return function(b){var c;return c=a(b.index),g(c.line,c.column,b.file)}}function m(a){var b;return b=a.pos.file,b?a.walk(function(a){var c;return(c=a.pos).file||(c.file=b),m(a)}):a.walk(m)}function n(a,b,c){function d(a){var b;for(b=[];;)if(a instanceof E.Comment)b.push(a),a=E.Noop(a.pos);else{if(!(a instanceof E.Block&&a.body[0]instanceof E.Comment))break;b.push(a.body[0]),a=E.Block(a.pos,z.call(a.body,1))}return{comments:b,body:a}}function e(a,b,c){var e;return c.options.embedded?(e=d(a),a=e.body,E.Block(a.pos,B(e.comments).concat([E.Return(a.pos,b(E.Func(a.pos,null,[E.Ident(a.pos,"write"),E.Ident(a.pos,"context")],c.getVariables(),E.Block(a.pos,[E.If(a.pos,E.Binary(a.pos,E.Ident(a.pos,"context"),"==",E.Const(a.pos,null)),E.Assign(a.pos,E.Ident(a.pos,"context"),E.Obj(a.pos))),a]))))]))):b(a)}var f,h,i,j,n,o,p,q,r,s,t,u,w,x,y,A,C,D,F;if(v(a)||(a=[a]),v(c)||(c=[c]),0===a.length&&a.push({type:"Root",line:0,column:0,body:{type:"Nothing",line:0,column:0}}),A=g(0,0),x=b,b.options.embedded)for(x=b.clone(),f=["write","context"],h=0,i=f.length;i>h;++h)y=f[h],u=E.Ident({line:0,column:0},y),x.addVariable(u),x.markAsParam(u);if(1===a.length){if(K=l(c[0]),!(a[0]instanceof O.Root))throw Error("Cannot translate non-Root object");a[0].isGenerator&&(x=x.clone(!0)),D=K(a[0]),C=k(D,a[0].isGenerator,x,b.options["return"]||b.options.eval?O.Return(a[0].body.index,a[0].body.scope,a[0].body):a[0].body),(j=C.body.pos).file||(j.file=D.file),K=null,o=e(C.body,C.wrap,x)}else o=E.Block(A,function(){var b,f,g,h,i,j,m,n,o,p,q;for(b=[],f=B(a),m=0,g=f.length;g>m;++m){if(o=f[m],K=l(c[m]),!(o instanceof O.Root))throw Error("Cannot translate non-Root object");i=x.clone(o.isGenerator),n=k(K(o),o.isGenerator,i,o.body),(h=n.body.pos).file||(h.file=q.file),q=K(o),K=null,h=d(n.body),j=h.comments,p=h.body,b.push(E.Block(q,B(j).concat([E.Call(q,E.Access(q,E.Func(q,null,[],i.getVariables(),e(n.body,n.wrap,i)),E.Const(q,"call")),[E.This(q)])])))}return b}());for(r=d(o),q=r.comments,o=r.body,w=[],x.hasBound&&x.usedThis&&(s=E.Ident(o.pos,"_this"),x.addVariable(s),w.push(E.Assign(o.pos,s,E.This(o.pos)))),b.fillHelperDependencies(),f=B(b.getHelpers()),h=0,i=f.length;i>h;++h)t=f[h],"GLOBAL"!==t&&b.macros.hasHelper(t)&&(u=E.Ident(o.pos,t),b.addVariable(u),w.push(E.Assign(o.pos,u,b.macros.getHelper(t))));return n=[],b.options.eval&&(F=function(a){return a instanceof E.Func?(b.addHelper("GLOBAL"),null!=a.name?E.Block(a.pos,[a,E.Assign(a.pos,E.Access(a.pos,E.Ident(a.pos,"GLOBAL"),a.name.name),a.name)]):a):a instanceof E.Binary&&"="===a.op&&a.left instanceof E.Ident?(b.addHelper("GLOBAL"),E.Assign(a.pos,E.Access(a.pos,E.Ident(a.pos,"GLOBAL"),a.left.name),a.walk(F))):void 0},o=o.walk(F),o=o.mutateLast(function(a){return b.addHelper("GLOBAL"),E.Assign(a.pos,E.Access(a.pos,E.Ident(a.pos,"GLOBAL"),E.Const(a.pos,"_")),a)},{"return":!0})),o=m(o),b.options.bare?(b.hasHelper("GLOBAL")&&(b.addVariable(E.Ident(o.pos,"GLOBAL")),n.unshift(E.Assign(o.pos,E.Ident(o.pos,"GLOBAL"),b.macros.getHelper("GLOBAL")))),null!=b.options.undefinedName&&b.addVariable(b.options.undefinedName),m(E.Root(o.pos,E.Block(o.pos,B(q).concat(B(n),B(w),[o])),b.getVariables(),["use strict"]))):(p=E.Call(o.pos,E.Access(o.pos,E.Func(o.pos,null,(b.hasHelper("GLOBAL")?[E.Ident(o.pos,"GLOBAL")]:[]).concat(null!=b.options.undefinedName?[E.Ident(o.pos,b.options.undefinedName,!0)]:[]),b.getVariables(),E.Block(o.pos,B(w).concat([o])),["use strict"]),"call"),[E.This(o.pos)].concat(b.hasHelper("GLOBAL")?[b.macros.getHelper("GLOBAL")]:[])),b.options["return"]&&(p=E.Return(o.pos,p)),E.Root(o.pos,E.Block(o.pos,B(q).concat(B(n),[p])),[],[]))}var o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R;o=function(){var a;return a={iterator:function(){return this},next:function(){var a,b;return b=x(this.index)+1,a=this.array,b>=x(a.length)?{done:!0,value:void 0}:(this.index=b,{done:!1,value:a[b]})}},function(b){var c;if(!v(b))throw TypeError("Expected array to be an Array, got "+C(b));return c=q(a),c.array=b,c.index=-1,c}}(),p=function(a,b){var c;if(a===b)return 0;if(c=typeof a,"number"!==c&&"string"!==c)throw TypeError("Cannot compare a non-number/string: "+c);if(c!==typeof b)throw TypeError("Cannot compare elements of different types: "+c+" vs "+typeof b);return b>a?-1:1},q="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},r=function(a,b){var c;if("number"!=typeof a)throw TypeError("Expected numArgs to be a Number, got "+C(a));if("function"!=typeof b)throw TypeError("Expected f to be a Function, got "+C(b));return a>1?(c=function(d){var e;return d.length>=a?b.apply(this,d):e=function(){return 0===arguments.length?e:c.call(this,d.concat(z.call(arguments)))}},c([])):b},s=function(a){return a},t=function(a,b){var c;for(c in b)y.call(b,c)&&(a[c]=b[c]);return a},u=function(a,b){var c,d,e,f;if("number"==typeof b){if(b!==b){for(c=B(a),e=c.length;e--;)if(d=c[e],d!==d)return e;return-1}if(0===b){for(f=1/b,c=B(a),e=c.length;e--;)if(d=c[e],0===d&&1/d===f)return e;return-1}}return a.indexOf(b)},v="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),w=function(a){if(null==a)throw TypeError("Expected iterable to be an Object, got "+C(a));if(v(a))return o(a);if("function"==typeof a.iterator)return a.iterator();if("function"==typeof a.next)return a;throw Error("Expected iterable to be an Array or an Object with an 'iterator' function or an Object with a 'next' function, got "+C(a))},x=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+C(a));return a},y=Object.prototype.hasOwnProperty,z=Array.prototype.slice,A=function(a){throw a},B=function(a){if(null==a)throw TypeError("Expected an object, got "+C(a));if(v(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return z.call(a);throw TypeError("Expected an object with a length property, got "+C(a))},C=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),N="function"==typeof c.Map?c.Map:N=function(){function a(c){var d,e,f,g;if(f=this instanceof a?this:q(b),f._keys=[],f._values=[],null!=c)try{for(e=w(c);d=e.next(),!d.done;)g=d.value,f.set(g[0],g[1])}finally{try{e.close()}catch(h){}}return f}var b;return b=a.prototype,a.displayName="Map",b.get=function(a){var b;return b=u(this._keys,a),-1===b?void 0:this._values[b]},b.has=function(a){return-1!==u(this._keys,a)},b.set=function(a,b){var c,d;d=this._keys,c=u(d,a),-1===c&&(c=d.length,d[c]=a),this._values[c]=b},b["delete"]=function(a){var b,c;return c=this._keys,b=u(c,a),-1===b?!1:(c.splice(b,1),this._values.splice(b,1))},b.keys=function(){function a(){g=3}function b(){for(;;)switch(g){case 0:e=B(h._keys),f=e.length,++g;case 1:g=f--?2:3;break;case 2:return i=e[f],g=1,{done:!1,value:i};case 3:return{done:!0,value:void 0};default:throw Error("Unknown state: "+g)}}function c(b){throw a(),b}function d(a){try{return b(a)}catch(d){c(d)}}var e,f,d,g,b,h,c,i;return h=this,g=0,{close:a,iterator:function(){return this},next:function(){return d(void 0)},send:d,"throw":function(a){return c(a),d(void 0)}}},b.values=function(){function a(){g=3}function b(){for(;;)switch(g){case 0:e=B(h._values),f=e.length,++g;case 1:g=f--?2:3;break;case 2:return i=e[f],g=1,{done:!1,value:i};case 3:return{done:!0,value:void 0};default:throw Error("Unknown state: "+g)}}function c(b){throw a(),b}function d(a){try{return b(a)}catch(d){c(d)}}var e,f,d,g,b,h,c,i;return h=this,g=0,{close:a,iterator:function(){return this},next:function(){return d(void 0)},send:d,"throw":function(a){return c(a),d(void 0)}}},b.items=function(){function a(){f=3}function b(){for(;;)switch(f){case 0:j=g._values,e=B(g._keys),h=e.length,++f;case 1:f=h--?2:3;break;case 2:return i=e[h],f=1,{done:!1,value:[i,j[h]]};case 3:return{done:!0,value:void 0};default:throw Error("Unknown state: "+f)}}function c(b){throw a(),b}function d(a){try{return b(a)}catch(d){c(d)}}var e,d,f,b,g,c,h,i,j;return g=this,f=0,{close:a,iterator:function(){return this},next:function(){return d(void 0)},send:d,"throw":function(a){return c(a),d(void 0)}}},b.iterator=a.prototype.items,a}(),E=b("./jsast"),F=E.Node,R=b("./types"),D=b("./parser"),O=D.Node,M=D.MacroHolder,D=b("./utils"),G=D.Cache,L=D.isPrimordial,P=function(){function a(b,d,f,g,h,i,j){var k;return k=this instanceof a?this:q(c),null==b&&(b={}),k.options=b,k.macros=d,null==f&&(f=!1),k.bound=f,null==g&&(g={}),k.usedTmps=g,null==h&&(h={}),k.helperNames=h,null==j&&(j={}),k.tmps=j,k.variables=i?q(i):{},k.hasBound=!1,k.usedThis=!1,k.id=e(),k}function b(a,b){return p(a.toLowerCase(),b.toLowerCase())}var c,e;return c=a.prototype,a.displayName="Scope",e=function(){var a;return a=-1,function(){return++a}}(),c.maybeCache=function(a,b,c){var e,f;return null==b&&(b=R.any),d(a)?(e=this.reserveIdent(a.pos,"ref",b),f=c(E.Assign(a.pos,e,a),e,!0),this.releaseIdent(e),f):c(a,a,!1)},c.maybeCacheAccess=function(a,b,c,d,e){var f;return f=this,null==c&&(c="ref"),null==d&&(d="ref"),null==e&&(e=!1),a instanceof E.Binary&&"."===a.op?this.maybeCache(a.left,R.any,function(c,d,e){return f.maybeCache(a.right,R.any,function(f,g,h){return e||h?b(E.Access(a.pos,c,f),E.Access(a.pos,d,g),!0):b(a,a,!1)})}):b(a,a,!1)},c.reserveIdent=function(a,b,c){var d;return d=this,null==b&&(b="ref"),null==c&&(c=R.any),function(){var e,f,g;for(e=1;;++e)if(g=1===e?"_"+b:"_"+b+e,!(g in d.usedTmps))return d.usedTmps[g]=!0,f=E.Ident(a,g),d.addVariable(f,c),f}()},c.reserveParam=function(a){var b;return b=this,function(){var c,d;for(c=1;;++c)if(d=1===c?"_p":"_p"+c,!(d in b.usedTmps))return b.usedTmps[d]=!0,E.Ident(a,d)}()},c.getTmp=function(a,b,c,d){var e,f;return null==d&&(d=R.any),f=this.tmps,b in f&&(e=f[b],e instanceof E.Ident)?e:f[b]=this.reserveIdent(a,c||"tmp",d)},c.releaseTmp=function(a){var b,c;y.call(this.tmps,a)&&this.releaseIdent((b=(c=this.tmps)[a],delete c[a],b))},c.releaseTmps=function(){var a,b;a=this.tmps;for(b in a)y.call(a,b)&&this.releaseTmp(b);this.tmps={}},c.releaseIdent=function(a){if(!y.call(this.usedTmps,a.name))throw Error("Trying to release a non-reserved ident: "+a.name);delete this.usedTmps[a.name]},c.markAsParam=function(a){this.variables[a.name].isParam=!0},c.markAsFunction=function(a){this.variables[a.name].isFunction=!0},c.addHelper=function(a){this.helperNames[a]=!0},c.fillHelperDependencies=function(){var a,b,c,d,e,f,g;for(e=this.helperNames,g={};;){for(f in e)if(y.call(e,f)&&this.macros.hasHelper(f))for(a=B(this.macros.helperDependencies(f)),c=a.length;c--;)d=a[c],y.call(e,d)||(g[d]=!0);b=!0;for(f in g)y.call(g,f)&&(b=!1,this.addHelper(f));if(b)break;e=g,g={}}},c.getHelpers=function(){var a,c,d,e;a=[],c=this.helperNames;for(d in c)y.call(c,d)&&a.push(d);return e=a,e.sort(b)},c.hasHelper=function(a){return y.call(this.helperNames,a)},c.addVariable=function(a,b,c){null==b&&(b=R.any),null==c&&(c=!1),this.variables[a.name]={type:b,isMutable:c}
},c.hasVariable=function(a){return a.name in this.variables&&"object"==typeof this.variables[a.name]&&null!==this.variables[a.name]},c.hasOwnVariable=function(a){return y.call(this.variables,a.name)},c.isVariableMutable=function(a){var b;return null!=(b=this.variables[a.name])?b.isMutable:void 0},c.removeVariable=function(a){delete this.variables[a.name]},c.getVariables=function(){var a,c,d,e,f;a=[],c=this.variables;for(d in c)y.call(c,d)&&(e=c[d],e.isParam||e.isFunction||a.push(d));return f=a,f.sort(b)},c.clone=function(b){return b&&(this.hasBound=!0),a(this.options,this.macros,b,q(this.usedTmps),this.helperNames,this.variables,q(this.tmps))},a}(),I=function(){function a(b){var d;return d=this instanceof a?this:q(c),d.builder=b,d.nodes=[],d}function b(b,c){if(c instanceof a)return E.Const(b,c.caseId());if(c instanceof E.Node)return c;throw TypeError("Expected a GeneratorState or Node, got "+C(c))}var c;return c=a.prototype,a.displayName="GeneratorState",c.hasGeneratorNode=function(a){return this.builder.hasGeneratorNode(a)},c.add=function(a){return this.nodes.push(a),this},c.branch=function(){var b,c;return c=a(this.builder),this.builder.currentCatch.length&&(b=this.builder.currentCatch)[b.length-1].push(c),this.builder.statesOrder.push(c),c},c.caseId=function(){return this.builder.caseId(this.getRedirect())},c.makeGoto=function(b,c,d){var e;return e=this,null==d&&(d=!1),function(){var f,g,h;if(h=c(),h instanceof a)g=E.Const(b,h.caseId());else{if(!(h instanceof E.Node))throw Error("Expected a GeneratorState or Node, got "+C(h));g=h}return g instanceof E.Const&&"number"==typeof g.value&&g.value===+e.caseId()+1?E.Unary(b,"++",e.builder.stateIdent):(f=E.Assign(b,e.builder.stateIdent,g),d?E.Block(b,[f,E.Break(b)]):f)}},c.yield=function(a,b){var c;return c=this.branch(),this.nodes.push(this.makeGoto(a,function(){return c},!1),function(){return E.Return(a,E.Obj(a,[E.Obj.Pair(a,"done",E.Const(a,!1)),E.Obj.Pair(a,"value",b())]))}),c},c["return"]=function(a,b){var c;c=this,null==b&&(b=null),null==b?this.goto(a,function(){return c.builder.stop}):(this.add(this.makeGoto(a,function(){return c.builder.stop},!1)),this.add(function(){var c;return c=b(),c instanceof E.Statement?c:E.Return(a,E.Obj(a,[E.Obj.Pair(a,"done",E.Const(a,!0)),E.Obj.Pair(a,"value",c)]))}))},c.getRedirect=function(){return this.builder.getRedirect(this)},c.goto=function(a,c,d){var e;null==d&&(d=!1),e=this.nodes,0!==e.length||d||this.builder.addRedirect(this,c),e.push(this.makeGoto(a,function(){return b(a,c())},!0))},c.noop=function(a){var b;return 0===this.nodes.length?this:(b=this.branch(),this.goto(a,function(){return b}),b)},c.gotoIf=function(a,c,d,e){var f;f=this,this.goto(a,function(){return E.IfExpression(a,c(),b(a,d()),b(a,e()))},!0)},c.pendingFinally=function(a,b){var c,d,e;return c=this,e=this.builder.scope,d=e.reserveIdent(a,"finally",R.undefined["function"]()),e.markAsFunction(d),this.builder.finallies.push(function(){return E.Func(a,d,[],[],b())}),this.nodes.push(function(){return E.Call(a,E.Access(a,c.builder.pendingFinalliesIdent,"push"),[d])}),this},c.runPendingFinally=function(a){var b;return b=this,this.nodes.push(function(){return E.Call(a,E.Call(a,E.Access(a,b.builder.pendingFinalliesIdent,"pop")))}),this},c.enterTryCatch=function(a){var b;return b=this.noop(a),this.builder.enterTryCatch(b),b},c.exitTryCatch=function(a,b,c){var d;return this.goto(a,c),d=this.noop(a),this.builder.exitTryCatch(d,b),d},a}(),H=function(){function a(b,d,e){var f,g;return f=this instanceof a?this:q(c),f.pos=b,f.scope=d,f.hasGeneratorNode=e,f.currentCatch=[],f.redirects=N(),f.start=I(f),f.stop=I(f).add(function(){return E.Return(b,E.Obj(b,[E.Obj.Pair(b,"done",E.Const(b,!0)),E.Obj.Pair(b,"value",E.Const(b,void 0))]))}),f.statesOrder=[f.start],f.stateIdent="undefined"!=typeof stateIdent&&null!==stateIdent?stateIdent:d.reserveIdent(b,"state",R.number),f.pendingFinalliesIdent=d.reserveIdent(b,"finallies",R.undefined["function"]().array()),g=d.clone(!1),f.receivedIdent=g.reserveIdent(b,"received",R.any),g.markAsParam(f.receivedIdent),f.finallies=[],f.catches=[],f}function b(a){var b,c,d,e,f,g,h;for(g=[],h=-1/0,e=-1,b=B(a),c=0,f=b.length;f>c;++c)d=b[c],d!==e+1&&(-1!==e&&g.push({start:h,finish:e}),h=d),e=d;return-1!==e&&g.push({start:h,finish:e}),g}var c;return c=a.prototype,a.displayName="GeneratorBuilder",c.addRedirect=function(a,b){this.redirects.set(a,b)},c.getRedirect=function(a){var b,c;if(c=this.redirects.get(a),null==c)return a;if(c instanceof I)return c;if("function"==typeof c){if(b=c(),!(b instanceof I))throw Error("Expected a GeneratorState, got "+C(c));return b=this.getRedirect(b),this.redirects.set(a,b),b}throw Error("Unknown value in redirects: "+C(c))},c._calculateCaseIds=function(){var a,b,c,d,e,f;for(e=-1,d=this.caseIds=N(),a=B(this.statesOrder),b=0,c=a.length;c>b;++b)f=a[b],this.redirects.has(f)||d.set(f,++e)},c.caseId=function(a){var b;if(b=this.caseIds,null==b)throw Error("_calculate-case-ids must be called first");if(!b.has(a))throw Error("case-ids does not contain state");return b.get(a)},c.enterTryCatch=function(a){this.currentCatch.push([a])},c.exitTryCatch=function(a,b){var c,d;if(0===this.currentCatch.length)throw Error("Unable to exit-try-catch without first using enter-try-catch");c=this.currentCatch.pop(),d=c.indexOf(a),-1!==d&&c.splice(d,1),this.catches.push({tryStates:c,tIdent:b,catchState:a})},c.create=function(){var a,c,d,e,f,g,h,i,j,k,l,m,n;if(a=this,this.currentCatch.length)throw Error("Cannot create a generator if there are stray catches");return this.statesOrder.push(this.stop),this._calculateCaseIds(),c=[E.Assign(this.pos,this.stateIdent,E.Const(this.pos,this.start.caseId()))],e=this.scope.reserveIdent(this.pos,"close",R.undefined["function"]()),this.scope.markAsFunction(e),0===this.finallies.length?(this.scope.removeVariable(this.pendingFinalliesIdent),c.push(E.Func(this.pos,e,[],[],E.Block(this.pos,[E.Assign(this.pos,this.stateIdent,this.stop.caseId())])))):(c.push(E.Assign(this.pos,this.pendingFinalliesIdent,E.Arr(this.pos))),c.push.apply(c,function(){var b,c,d,e,f;for(b=[],c=B(a.finallies),d=0,e=c.length;e>d;++d)f=c[d],b.push(f());return b}()),h=this.scope.clone(!1),g=h.reserveIdent(this.pos,"f",R.undefined["function"]().union(R.undefined)),c.push(E.Func(this.pos,e,[],h.getVariables(),E.Block(this.pos,[E.Assign(this.pos,this.stateIdent,this.stop.caseId()),E.Assign(this.pos,g,E.Call(this.pos,E.Access(this.pos,this.pendingFinalliesIdent,"pop"))),E.If(this.pos,g,E.TryFinally(this.pos,E.Call(this.pos,g),E.Call(this.pos,e)))])))),f=this.scope.reserveIdent(this.pos,"e",R.any),d=this.catches,l=this.stateIdent,m=this.scope.reserveIdent(this.pos,"step",R["function"]),i=this.scope.reserveIdent(this.pos,"send",R["function"]),n=this.scope.reserveIdent(this.pos,"throw",R["function"]),c.push(E.Func(this.pos,m,[this.receivedIdent],[],E.While(this.pos,!0,E.Switch(this.pos,l,function(){var b,d,e,f,g,h,i,j,k,l,m,n,o;for(b=[],d=B(a.statesOrder),g=0,i=d.length;i>g;++g)if(n=d[g],!a.redirects.has(n)){for(e=[],f=B(n.nodes),h=0,j=f.length;j>h;++h)o=f[h],e.push(o());for(m=e,k=0;k<m.length;++k)l=m[k],l instanceof E.Func&&null!=l.name&&(c.push(l),m.splice(k,1),--k);if(0===m.length)throw Error("Found state with no nodes in it");b.push(E.Switch.Case(m[0].pos,E.Const(m[0].pos,n.caseId()),E.Block(m[0].pos,m)))}return b}(),E.Throw(this.pos,E.Call(this.pos,E.Ident(this.pos,"Error"),[E.Binary(this.pos,"Unknown state: ","+",l)])))))),c.push(E.Func(this.pos,n,[f],[],function(){var c,g,h,i;for(i=E.Block(a.pos,[E.Call(a.pos,e,[]),E.Throw(a.pos,f)]),c=B(d),h=c.length,g=function(a){var c,d,e,g,h,j,k,m,n;for(h=this,j=a.tIdent(),this.scope.addVariable(j),c=[],d=B(a.tryStates),e=0,g=d.length;g>e;++e)k=d[e],this.redirects.has(k)||c.push(k.caseId());return m=c,m.sort(r(2,function(a,b){return p(a,b)})),n=b(m),i=E.If(this.pos,E.Or.apply(E,[this.pos].concat(function(){var a,b,c,d,e,f;for(a=[],b=0,c=n.length;c>b;++b)d=n[b],f=d.start,e=d.finish,f===-1/0?0===e?a.push(E.Binary(h.pos,l,"===",E.Const(h.pos,0))):a.push(E.Binary(h.pos,l,"<=",E.Const(h.pos,e))):e===f?a.push(E.Binary(h.pos,l,"===",E.Const(h.pos,f))):e===+f+1?a.push(E.Or(h.pos,E.Binary(h.pos,l,"===",E.Const(h.pos,f)),E.Binary(h.pos,l,"===",E.Const(h.pos,e)))):a.push(E.And(h.pos,E.Binary(h.pos,l,">=",E.Const(h.pos,f)),E.Binary(h.pos,l,"<=",E.Const(h.pos,e))));return a}())),E.Block(this.pos,[E.Assign(this.pos,j,f),E.Assign(this.pos,l,E.Const(this.pos,a.catchState.caseId()))]),i)};h--;)g.call(a,c[h]);return i}())),j=E.TryCatch(this.pos,E.Return(this.pos,E.Call(this.pos,m,[this.receivedIdent])),f,E.Call(this.pos,n,[f])),k=0===this.finallies.length?j:E.TryFinally(this.pos,j,E.If(this.pos,E.Binary(this.pos,l,"===",this.stop.caseId()),E.Call(this.pos,e,[]))),c.push(E.Func(this.pos,i,[this.receivedIdent],[],d.length?E.While(this.pos,!0,k):k)),c.push(E.Return(this.pos,E.Obj(this.pos,[E.Obj.Pair(this.pos,"close",e),E.Obj.Pair(this.pos,"iterator",E.Func(this.pos,null,[],[],E.Return(this.pos,E.This(this.pos)))),E.Obj.Pair(this.pos,"next",E.Func(this.pos,null,[],[],E.Return(this.pos,E.Call(this.pos,i,[E.Const(this.pos,void 0)])))),E.Obj.Pair(this.pos,"send",i),E.Obj.Pair(this.pos,"throw",E.Func(this.pos,null,[f],[],E.Block(this.pos,[E.Call(this.pos,n,[f]),E.Return(this.pos,E.Call(this.pos,i,[E.Const(this.pos,void 0)]))])))]))),E.Block(this.pos,c)},a}(),K=function(){throw Error("get-pos must be overridden")},J=function(){function a(a){var b,c;if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+C(a));return a.memoized?a:(b=function(){return a&&(c=a(),a=null),c},b.memoized=!0,b)}function b(a){function b(){return a}return b.memoized=!0,b}function c(b,c,e,f,g){var i,j,k;return null==g&&(g=h),"function"==typeof b?(j=a(b),{state:e.add(function(){var a;return a=f(),E.Assign(a.pos,j(),a)}),tNode:j,cleanup:g}):b?(f=a(f),k=a(function(){return c.reserveIdent(f().pos,"tmp",R.any)}),i=a(function(){return f()===e.builder.receivedIdent||d(f())}),{state:e.add(function(){var a;return a=f(),i()?E.Assign(a.pos,k(),a):a}),tNode:function(){return i()?k():f()},cleanup:function(){return g(),i()?c.releaseIdent(k()):void 0}}):{state:e,tNode:f,cleanup:g}}function e(c,d,e,f,g){return null==f&&(f="tmp"),null==g&&(g=R.any),"function"==typeof c?a(c):b(d.reserveIdent(e,f,g))}function f(a,b,c){return"function"==typeof a?function(){var d,e;return e=a(),d=c(),e===d?b.releaseIdent(d):void 0}:function(){return b.releaseIdent(c())}}function g(a,b,c,d,g){var j,l,m,n,o,p;for(p=e(g,c,a,"arr",R.array),o=null,j=B(b),n=0,m=j.length,l=function(e,f){var g;return o||d.hasGeneratorNode(e)?(null==o&&(o=i(a,z.call(b,0,f),c,!0,!1),d=d.add(function(){return E.Assign(a,p(),o())})),e instanceof O.Spread?(g=k(e.node,c,d,!1),d=g.state.add(function(){var a;return a=p(),c.addHelper("__toArray"),E.Call(K(e),E.Access(K(e),a,E.Const(K(e),"push"),E.Const(K(e),"apply")),[a,E.Call(K(e),E.Ident(K(e),"__toArray"),[s(g.tNode(),g.cleanup())])])})):(g=k(e,c,d,!1),d=g.state.add(function(){return E.Call(K(e),E.Access(K(e),p(),E.Const(K(e),"push")),[s(g.tNode(),g.cleanup())])}))):void 0};m>n;++n)l.call(this,j[n],n);return null==o?{state:d,tNode:i(a,b,c,!0,!1),cleanup:h}:{state:d,tNode:p,cleanup:f(g,c,p)}}function k(a,b,d,e,f){var g;if(null==e&&(e=!1),g=a.typeId,d.hasGeneratorNode(a)){if(y.call(l,g))return l[g](a,b,d,e,f);throw Error("Unknown expression type: "+C(a))}return c(e,b,d,j(a,b,"expression",f))}var l,m;return l={1:function(a,b,d,e,f){var g,h;return h=k(a.parent,b,d,!0,f),g=k(a.child,b,h.state,!1,f),c(e,b,g.state,function(){var b;return b=E.Access(K(a),h.tNode(),g.tNode()),h.cleanup(),g.cleanup(),b})},4:function(a,b,c,d,e){return g(K(a),a.elements,b,c,d,e)},5:function(a,b,d,e,f){var g,i,l,m,n;return n=a.left,n instanceof O.Access?(l=k(n.parent,b,d,!0,f),g=k(n.child,b,l.state,!0,f),i={state:g.state,tNode:function(){return E.Access(K(n),l.tNode(),g.tNode())},cleanup:function(){return l.cleanup(),g.cleanup()}}):(f&&a.left instanceof O.Ident&&(f[a.left.name]=!1),i={state:d,tNode:j(a.left,b,"leftExpression"),cleanup:h}),m=k(a.right,b,i.state,i.tNode,f),c(e,b,m.state,m.tNode,function(){return i.cleanup(),m.cleanup()})},6:function(){var b;return b={"&&":function(b,c,d,e,f){var g,h,i,j,l;return g=k(b.left,c,d,e||!0,f),j=a(g.tNode),g.state.gotoIf(K(b),j,function(){return l},function(){return i}),l=g.state.branch(),h=k(b.right,c,l,j,f),h.state.goto(K(b),function(){return i}),i=g.state.branch(),{tNode:j,state:i,cleanup:function(){return g.cleanup(),h.cleanup()}}},"||":function(b,c,d,e,f){var g,h,i,j,l;return g=k(b.left,c,d,e||!0,f),j=a(g.tNode),g.state.gotoIf(K(b),j,function(){return i},function(){return l}),l=g.state.branch(),h=k(b.right,c,l,j,f),h.state.goto(K(b),function(){return i}),i=g.state.branch(),{tNode:j,state:i,cleanup:function(){return g.cleanup(),h.cleanup()}}}},function(a,d,e,f,g){var h,i;return y.call(b,a.op)?b[a.op](a,d,e,f,g):(h=k(a.left,d,e,!0,g),i=k(a.right,d,h.state,!1,g),c(f,d,i.state,function(){return E.Binary(K(a),h.tNode(),(h.cleanup(),a.op),s(i.tNode(),i.cleanup()))}))}}(),7:function(a,b,c,d,e){var f,g,h,i;for(f=B(a.nodes),g=0,h=f.length;h>g;++g){if(i=f[g],g===h-1)return k(i,b,c,d,e);c=J(i,b,c,null,null,e)}throw Error("Unreachable state")},9:function(a,b,d,e,f){var i,j,l,m,n,o,p,q;return a.func instanceof O.Access?(n=k(a.func.parent,b,d,!0,f),l=k(a.func.child,b,n.state,!0,f),m={tNode:function(){return E.Access(K(a),n.tNode(),l.tNode())},cleanup:function(){return n.cleanup(),l.cleanup()},state:l.state}):m=k(a.func,b,d,!0,f),p=a.isApply,q=a.isNew,i=a.args,!p||0!==i.length&&i[0]instanceof O.Spread?(j=g(K(a),i,b,m.state,f),c(e,b,j.state,function(){var c,d;return d=m.tNode(),c=j.tNode(),m.cleanup(),j.cleanup(),p?E.Call(K(a),E.Access(K(a),d,"apply"),[E.Access(K(a),c,E.Const(K(a),0)),E.Call(K(a),E.Access(K(a),c,E.Const(K(a),"slice")),[E.Const(K(a),1)])]):q?(b.addHelper("__new"),E.Call(K(a),E.Access(K(a),E.Ident(K(a),"__new"),E.Const(K(a),"apply")),[d,c])):c instanceof E.Arr?E.Call(K(a),E.Access(K(a),d,"call"),[d instanceof E.Binary&&"."===d.op?d.left:E.Const(K(a),void 0)].concat(B(c.elements))):E.Call(K(a),E.Access(K(a),d,"apply"),[d instanceof E.Binary&&"."===d.op?d.left:E.Const(K(a),void 0),c])})):(o=0===i.length?{state:m.state,tNode:function(){return E.Const(K(a),void 0)},cleanup:h}:k(i[0],b,m.state,!0,f),j=g(K(a),z.call(i,1),b,o.state,f),c(e,b,j.state,function(){var b,c,d;return c=m.tNode(),d=o.tNode(),b=j.tNode(),m.cleanup(),o.cleanup(),j.cleanup(),b instanceof E.Arr?E.Call(K(a),E.Access(K(a),c,"call"),[d].concat(B(b.elements))):E.Call(K(a),E.Access(K(a),c,"apply"),[d,b])}))},17:function(a,b,d,e,f){var g;return g=k(a.code,b,d,!1,f),c(e,b,g.state,function(){return E.Eval(K(a),g.tNode())},g.cleanup)},22:function(a,b,d,g,h){var i,l,m,n,o,p,q,r,s,u,v,w,x,z;if(q=k(a.test,b,d,d.hasGeneratorNode(a.test),h),d=q.state,x=h&&t({},h),d.hasGeneratorNode(a.whenTrue)||d.hasGeneratorNode(a.whenFalse)?(d.gotoIf(K(a),function(){var a;return a=q.tNode(),q.cleanup(),a},function(){return z},function(){return w}),r=e(g,b,K(a)),z=d.branch(),m=k(a.whenTrue,b,z,r,h),m.state.goto(K(a.whenTrue),function(){return o}),w=d.branch(),l=k(a.whenFalse,b,w,r,x),l.state.goto(K(a.whenFalse),function(){return o}),o=d.branch(),i=f(g,b,r),p={state:o,tNode:r,cleanup:function(){return m.cleanup(),l.cleanup(),i()}}):(u=j(a.whenTrue,b,"expression",h),s=j(a.whenFalse,b,"expression",x),p=c(g,b,d,function(){return E.If(K(a),q.tNode(),(q.cleanup(),u()),s())})),h)for(n in x)y.call(x,n)&&(v=x[n],v||(h[n]=!1));return p},28:function(a,b,d,e,f){var g;return g=k(a.source,b,d,!1,f),c(e,b,d,function(){var b;return b=g.tNode(),b.isConst()?E.Regex(K(a),String(b.constValue()),a.flags):E.Call(K(a),E.Ident(K(a),"RegExp"),[b,E.Const(K(a),flags)])},g.cleanup)},41:function(a,b,d,e,f){var g;return g=k(a.node,b,d,!1,f),c(e,b,g.state,g.tNode,function(){var c,d,e;for(g.cleanup(),c=B(a.tmps),d=c.length;d--;)e=c[d],b.releaseTmp(e)})},48:function(a,b,d,e,f){var g;return g=k(a.node,b,d,!1,f),c(e,b,g.state,function(){return E.Unary(K(a),a.op,s(g.tNode(),g.cleanup()))})},50:function(a,b,d,e,f){var g;return g=k(a.node,b,d,!1,f),d=g.state.yield(K(a),g.tNode),c(e,b,d,function(){return d.builder.receivedIdent},g.cleanup)}},m={7:function(a,b,c,d,e,f,g){var h,i,j,k,l;if(null!=a.label)throw Error("Not implemented: block with label in generator");for(i=c,h=B(a.nodes),j=0,k=h.length;k>j;++j)l=h[j],i=J(l,b,i,d,e,f,g);return i},8:function(a,b,c,d){if(null!=a.label)throw Error("Not implemented: break with label in a generator");if(null==d)throw Error("break found outside of a loop or switch");return c.goto(K(a),d),c},13:function(a,b,c,d,e){if(null!=a.label)throw Error("Not implemented: break with label in a generator");if(null==e)throw Error("continue found outside of a loop");return c.goto(K(a),e),c},16:function(a,b,c,d,e,f){var g;return g=y.call(l,a.text.typeId)?k(a.text,b,c,!1,f):{state:J(a.text,b,c,d,e,f),tNode:function(){return E.Noop(K(a.text))},cleanup:function(){}},g.state.add(function(){return E.Call(K(a),E.Ident(K(a),"write"),[s(g.tNode(),g.cleanup())].concat(a.escape?[E.Const(K(a),!0)]:[]))})},18:function(a,b,c,d,e,f){var g,h,i,j,l,m,n,o;if(null!=a.label)throw Error("Not implemented: for with label in generator");if(null==a.init||a.init instanceof O.Nothing||(c=J(a.init,b,c,null,null,f)),c.goto(K(a),function(){return n}),h=f&&t({"\0":!0},f),n=c.branch(),i=k(a.test,b,n,c.hasGeneratorNode(a.test),h),n.gotoIf(K(a.test),function(){var a;return a=i.tNode(),i.cleanup(),a},function(){return g},function(){return l}),g=c.branch(),J(a.body,b,g,function(){return l},function(){return m},h).goto(K(a.body),function(){return m||n}),m=null,null==a.step||a.step instanceof O.Nothing||(m=c.branch(),J(a.step,b,m,null,null,h).goto(K(a.step),function(){return n})),f)for(j in h)y.call(h,j)&&(o=h[j],o||(f[j]=!1));return l=c.branch()},19:function(b,c,d,e,f,g){var h,i,l,m,n,o,p,q,r,u,v,w,x;if(null!=b.label)throw Error("Not implemented: for-in with label in generator");if(w=j(b.key,c,"leftExpression"),g&&b.key instanceof O.Ident&&(g[b.key.name]=!1),m=k(b.object,c,d,!1),d=m.state,p=c.reserveIdent(K(b),"keys",R.string.array()),l=a(function(){var a;if(a=w(),!(a instanceof E.Ident))throw Error("Expected an Ident for a for-in key");return c.addVariable(a,R.string),a}),n=c.reserveIdent(K(b),"i",R.number),q=c.reserveIdent(K(b),"len",R.number),c.addHelper("__allkeys"),d=d.add(function(){return E.Block(K(b),[E.Assign(K(b),p,E.Call(K(b),E.Ident(K(b),"__allkeys"),[s(m.tNode(),m.cleanup())])),E.Assign(K(b),n,0),E.Assign(K(b),q,E.Access(K(b),p,"length"))])}),d.goto(K(b),function(){return v}),v=d.branch(),v.gotoIf(K(b),function(){return E.Binary(K(b),n,"<",q)},function(){return h},function(){return r}),h=v.branch(),d=h.add(function(){return E.Assign(K(b),l(),E.Access(K(b),p,n))}),i=t({"\0":!0},g),J(b.body,c,d,function(){return r},function(){return u},i).goto(K(b.body),function(){return u}),u=h.branch(),u.add(function(){return E.Unary(K(b),"++",n)}).goto(K(b),function(){return v}),g)for(o in i)y.call(i,o)&&(x=i[o],x||(g[o]=!1));return r=u.branch()},22:function(a,b,c,d,e,f){var g,h,i,l,m,n,o,p,q,r;if(l=k(a.test,b,c,c.hasGeneratorNode(a.test)),c=l.state,q=f&&t({},f),c.hasGeneratorNode(a.whenTrue)||c.hasGeneratorNode(a.whenFalse)?(c.gotoIf(K(a),function(){var a;return a=l.tNode(),l.cleanup(),a},function(){return r||h},function(){return p||h}),!a.whenTrue||a.whenTrue instanceof O.Nothing||(r=c.branch()),r&&J(a.whenTrue,b,r,d,e,f).goto(K(a.whenTrue),function(){return h}),!a.whenFalse||a.whenFalse instanceof O.Nothing||(p=c.branch()),p&&J(a.whenFalse,b,p,d,e,q).goto(K(a.whenFalse),function(){return h}),h=c.branch(),i=h):(n=j(a.whenTrue,b,"statement",f),m=j(a.whenFalse,b,"statement",q),i=c.add(function(){return E.If(K(a),l.tNode(),(l.cleanup(),n()),m())})),f)for(g in q)y.call(q,g)&&(o=q[g],o||(f[g]=!1));return i},29:function(a,b,c,d,e,f){var g,h;return h=a.node.mutateLast(null,function(a){return O.Return(a.index,a.scope,a)}),h.node===a.node?a.node.isConst()&&void 0===a.node.constValue()?(c["return"](K(a)),c):a.node.isStatement()?J(h.node,b,c,null,null,f):(g=k(a.node,b,c,!1),c=g.state,c["return"](K(a),function(){var a;return a=g.tNode(),g.cleanup(),a}),c):J(h,b,c,null,null,f)},33:function(a,b,c,d,e,f){var g,h,i,l,m,n,o,p,q,r,s,u,v,w,x;if(null!=a.label)throw Error("Not implemented: switch with label in generator");for(r=k(a.node,b,c,!1),m=[],w=[],r.state.add(function(){return E.Switch(K(a),r.tNode(),function(){var a,b,c,d;for(a=[],b=0,c=w.length;c>b;++b)d=w[b],a.push(d());return a}(),p())}),r.state.add(function(){return E.Break(K(a))}),l=f&&t({},f),n=f&&t({},f),g=B(a.cases),s=0,i=g.length,h=function(a,d){var g,h,i,k,o,p;if(c.hasGeneratorNode(a.node))throw Error("Cannot use yield in the check of a switch's case");if(k=j(a.node,b,"expression",n),g=r.state.branch(),m[d]=g,h=J(a.body,b,g,function(){return v},e,n),h.goto(K(a.node),a.fallthrough?function(){return m[d+1]||v}:function(){return v}),o=g.makeGoto(K(a.node),function(){return g}),w.push(function(){return E.Switch.Case(K(a.node),k(),E.Block(K(a.node),[o(),E.Break(K(a.node))]))}),!a.fallthrough&&f){for(i in n)y.call(n,i)&&(p=n[i],p||(f[i]=!1));return n=t({},l)}};i>s;++s)h.call(this,g[s],s);null!=a.defaultCase?(o=r.state.branch(),q=J(a.defaultCase,b,o,function(){return v},e,n),q.goto(K(a.defaultCase),function(){return v}),p=o.makeGoto(K(a.defaultCase),function(){return o})):p=r.state.makeGoto(K(a),function(){return v});for(u in n)y.call(n,u)&&(x=n[u],x||(f[u]=!1));return v=c.branch()},39:function(a,b,c){var d;return d=k(a.node,b,c,!1),d.state.add(function(){return E.Throw(K(a),s(d.tNode(),d.cleanup()))})},41:function(a,b,c,d,e,f,g){var h,i,j,k;for(j=J(a.node,b,c,d,e,f,g),h=B(a.tmps),i=h.length;i--;)k=h[i],b.releaseTmp(k);return j},42:function(a,b,c,d,e,f){var g;if(null!=a.label)throw Error("Not implemented: try-catch with label in generator");return c=c.enterTryCatch(K(a)),c=J(a.tryBody,b,c,d,e,f),c=c.exitTryCatch(K(a.tryBody),j(a.catchIdent,b,"leftExpression"),function(){return g}),c=J(a.catchBody,b,c,d,e,f),c.goto(K(a),function(){return g}),g=c.branch()},43:function(a,b,c,d,e,f){var g;if(null!=a.label)throw Error("Not implemented: try-finally with label in generator");if(c.hasGeneratorNode(a.finallyBody))throw Error("Cannot use yield in a finally");return c=c.pendingFinally(K(a),function(){return g()}),c=J(a.tryBody,b,c,d,e,f),g=j(a.finallyBody,b,"statement",f),c.runPendingFinally(K(a))},50:function(a,b,c){var d,e;return d=k(a.node,b,c,!1),e=d.state.yield(K(a),function(){var a;return a=d.tNode(),d.cleanup(),a})}},function(a,b,c,d,e,f,g){var h,i;if(c.hasGeneratorNode(a)){if(h=a.typeId,y.call(m,h)){if(i=m[h](a,b,c,d,e,f,g),!(i instanceof I))throw Error("Translated non-GeneratorState from "+C(a)+": "+C(i));return i}return i=k(a,b,c),i.state.add(function(){var a;return a=i.tNode(),i.cleanup(),a})}return c.add(j(a,b,g?"topStatement":"statement",f))}}(),Q={1:function(a,b,c,d){var e,f;return f=j(a.parent,b,"expression",d),e=j(a.child,b,"expression",d),function(){return E.Access(K(a),f(),e())}},3:function(a){return function(){return E.Arguments(K(a))}},4:function(a,b,c,d){var e;return e=i(K(a),a.elements,b,!0,d),function(){return e()}},5:function(a,b,c,d){var e,f,g;if(e=a.op,f=j(a.left,b,"leftExpression"),g=j(a.right,b,"expression",d),d&&a.left instanceof O.Ident){if("="===e&&d[a.left.name]&&!d["\0"]&&a.right.isConst()&&void 0===a.right.constValue())return function(){return E.Noop(K(a))};d[a.left.name]=!1}return function(){var d,h;return d=f(),h=g(),"="===e&&"topStatement"===c&&d instanceof E.Ident&&h instanceof E.Func&&null==h.name&&b.hasOwnVariable(d)&&!b.isVariableMutable(d)?(b.markAsFunction(d),E.Func(K(a),d,h.params,h.variables,h.body,h.declarations)):E.Binary(K(a),d,e,h)}},6:function(a,b,c,d){var e,f;return e=j(a.left,b,"expression",d),f=j(a.right,b,"expression",d),function(){return E.Binary(K(a),e(),a.op,f())}},7:function(a,b,c,d){var e,f,g,h,i,k,l;for(k=a.label&&j(a.label,b,"label"),e=[],f=B(a.nodes),g=0,h=f.length;h>g;++g)i=f[g],e.push(j(i,b,c,d));return l=e,function(){return E.Block(K(a),function(){var a,b,c,d;for(a=[],b=0,c=l.length;c>b;++b)d=l[b],a.push(d());return a}(),"function"==typeof k?k():void 0)}},8:function(a,b){var c;return c=a.label&&j(a.label,b,"label"),function(){return E.Break(K(a),"function"==typeof c?c():void 0)}},9:function(a,b,c,d){var e,f,g,h,k,l;return k=j(a.func,b,"expression",d),f=a.isApply,g=a.isNew,e=a.args,!f||0!==e.length&&e[0]instanceof O.Spread?(h=i(K(a),e,b,!1,!0,d),function(){var c,d,e,i;return i=k(),e=h(),f?b.maybeCache(e,R.array,(c=!1,function(d,e){if(c)throw Error("Attempted to call function more than once");return c=!0,b.addHelper("__slice"),E.Call(K(a),E.Access(K(a),i,"apply"),[E.Access(K(a),d,0),E.Call(K(a),E.Access(K(a),E.Ident(K(a),"__slice"),"call"),[e,E.Const(K(a),1)])])})):e instanceof E.Arr?E.Call(K(a),i,e.elements,g):g?(b.addHelper("__new"),E.Call(K(a),E.Access(K(a),E.Ident(K(a),"__new"),E.Const(K(a),"apply")),[i,e])):i instanceof E.Binary&&"."===i.op?b.maybeCache(i.left,R["function"],(d=!1,function(b,c){if(d)throw Error("Attempted to call function more than once");return d=!0,E.Call(K(a),E.Access(K(a),b,i.right,"apply"),[c,e])})):E.Call(K(a),E.Access(K(a),i,"apply"),[E.Const(K(a),void 0),e])}):(l=0===e.length?function(){return E.Const(K(a),void 0)}:j(e[0],b,"expression",d),h=i(K(a),z.call(e,1),b,!1,!0,d),function(){var b,c,d;return c=k(),d=l(),b=h(),b instanceof E.Arr?E.Call(K(a),E.Access(K(a),c,"call"),[d].concat(B(b.elements))):E.Call(K(a),E.Access(K(a),c,"apply"),[d,b])})},11:function(a){return function(){return E.Comment(K(a),a.text)}},12:function(a){return function(){return E.Const(K(a),a.value)}},13:function(a,b){var c;return c=a.label&&j(a.label,b,"label"),function(){return E.Continue(K(a),"function"==typeof c?c():void 0)}},14:function(a){return function(){return E.Debugger(K(a))}},15:function(){throw Error("Cannot have a stray def")},16:function(a,b,c,d){var e,f,g;return a.text.isStatement()?(e=a.text.scope.clone(),g=O.Call(a.text.index,a.text.scope,O.Function(a.text.index,e,[],a.text.rescope(e),!0,!0),[])):g=a.text,f=j(g,b,"expression",d),function(){return E.Call(K(a),E.Ident(K(a),"write"),[f()].concat(a.escape?[E.Const(K(a),!0)]:[]))}},17:function(a,b,c,d){var e;return e=j(a.code,b,"expression",d),function(){return E.Eval(K(a),e())}},18:function(a,b,c,d){var e,f,g,h,i,k;return h=a.label&&j(a.label,b,"label"),null!=a.init&&(g=j(a.init,b,"expression",d)),e=d&&{"\0":!0},null!=a.test&&(k=j(a.test,b,"expression",e)),f=j(a.body,b,"statement",e),null!=a.step&&(i=j(a.step,b,"expression",e)),d&&t(d,e),function(){return E.For(K(a),"function"==typeof g?g():void 0,"function"==typeof k?k():void 0,"function"==typeof i?i():void 0,f(),"function"==typeof h?h():void 0)}},19:function(a,b,c,d){var e,f,g,h,i;return h=a.label&&j(a.label,b,"label"),g=j(a.key,b,"leftExpression"),d&&a.key instanceof O.Ident&&(d[a.key.name]=!1),i=j(a.object,b,"expression",d),e=d&&{"\0":!0},f=j(a.body,b,"statement",e),d&&t(d,e),function(){var c;if(c=g(),!(c instanceof E.Ident))throw Error("Expected an Ident for a for-in key");return b.addVariable(c,R.string),E.ForIn(K(a),c,i(),f(),"function"==typeof h?h():void 0)}},20:function(){function a(a){if(!y.call(f,a.typeId))throw Error("Unknown type: "+String(C(a)));return f[a.typeId](a)}function b(a,b,c){var e;if(e=a.typeId,!y.call(d,e))throw Error("Unknown parameter type: "+C(a));return d[e](a,b,c)}var c,d,e,f;return c={Boolean:"boolean",String:"string",Number:"number",Function:"function"},f={21:function(a){return y.call(c,a.name)?R[c[a.name]]:R.any},1:function(){return R.any},47:function(a){var b,d,e,f,g;for(f=R.none,b=B(a.types),d=0,e=b.length;e>d;++d)if(g=b[d],g instanceof O.Const)if(null===g.value)f=f.union(R["null"]);else{if(void 0!==g.value)throw Error("Unknown const value for typechecking: "+String(g.value));f=f.union(R.undefined)}else{if(!(g instanceof O.Ident))throw Error("Not implemented: typechecking for non-idents/consts within a type-union");f=f.union(y.call(c,g.name)?R[c[g.name]]:R.any)}return f},44:function(){return R["function"]},45:function(b){return"Array"===b.basetype.name?a(b.args[0]).array():"Function"===b.basetype.name?R["function"]:R.any},46:function(b){var c,d,e,f,g,h,i;for(h={},c=B(b.pairs),d=0,e=c.length;e>d;++d)f=c[d],g=f.key,i=f.value,g instanceof O.Const&&(h[g.value]=a(i));return R.makeObject(h)}},d={27:function(b,c){var d,e,f,g;if(d=j(b.ident,c,"param")(),e=[],d instanceof E.Binary&&"."===d.op&&d.right instanceof E.Const&&"string"==typeof d.right.value&&(f=E.Ident(d.pos,d.right.value),e.push(E.Binary(d.pos,d,"=",f)),d=f),!(d instanceof E.Ident))throw Error("Expecting param to be an Ident, got "+C(d));return b.asType&&(g=a(b.asType)),c.addVariable(d,g,b.isMutable),c.markAsParam(d),{init:e,ident:d,spread:!!b.spread}}},e=function(){var a;return a={21:function(){var a;return a={String:R.string,Number:R.number,Boolean:R.boolean,Function:R["function"],Array:R.array},function(b){if(!y.call(a,b.name))throw Error("Not implemented: custom type "+b.name);return a[b.name]}}(),12:function(a){switch(a.value){case null:return R["null"];case void 0:return R.undefined;default:throw Error("Unexpected const type: "+String(a.value))}},45:function(a,b){var c,d,f,g,h,i,j;for(j=e(a.basetype,b),c=[],d=B(a.args),f=0,g=d.length;g>f;++f)h=d[f],c.push(e(h,b));return i=c,R.generic.apply(R,[j].concat(B(i)))},47:function(a){var b,c,d,f,g;for(f=R.none,b=B(a.types),c=0,d=b.length;d>c;++c)g=b[c],f=f.union(e(g));return f}},function(b,c){if(!y.call(a,b.typeId))throw Error("Unknown type to translate: "+C(b));return a[b.typeId](b,c)}}(),function(a,c){return function(){var d,e,f,g,h,i,l,m,n,o,p,q,r,s;for(l=c.clone(!!a.bound),q=l,a.generator&&!l.bound&&(l=l.clone(!0)),p=[],i=[],d=B(a.params),h=0,m=d.length;m>h;++h){if(n=d[h],o=b(n,l,!1),o.spread)throw Error("Encountered a spread parameter");p.push(o.ident),i.push.apply(i,B(o.init))}if(r={},e=k(K(a),a.generator,l,a.autoReturn?O.Return(a.body.index,a.body.scope,a.body):a.body,r),f=e.body,s=e.wrap,l.releaseTmps(),f=E.Block(K(a.body),B(i).concat([f])),(l.usedThis||a.bound instanceof O)&&(a.bound instanceof O?(g=E.Ident(K(a.body),"_this"),l.addVariable(g),f=E.Block(K(a.body),[E.Assign(K(a.body),g,j(a.bound,c,"expression",r)()),f,E.Return(K(a.body),g)])):(l.bound&&(c.usedThis=!0),!l.hasBound&&!a.generator||q.bound||(g=E.Ident(K(a.body),"_this"),l.addVariable(g),f=E.Block(K(a.body),[E.Assign(K(a.body),g,E.This(K(a.body))),f])))),a.curry)throw Error("Expected node to already be curried");return s(E.Func(K(a),null,p,l.getVariables(),f,[]))}}}(),21:function(a,b,c){var d;return d=a.name,b.addHelper(d),function(){var e;return e=E.Ident(K(a),d),!b.options.embedded||L(d)||"expression"!==c||b.hasVariable(e)||b.macros.hasHelper(d)?e:E.Access(K(a),E.Ident(K(a),"context"),E.Const(K(a),d))}},22:function(a,b,c,d){var e,f,g,h,i,k,l,m;if(e="statement"===c||"topStatement"===c?"statement":c,g=a.label&&j(a.label,b,"label"),h=j(a.test,b,"expression",d),m=d&&t({},d),k=j(a.whenTrue,b,e,d),null!=a.whenFalse&&(i=j(a.whenFalse,b,e,m)),d)for(f in m)y.call(m,f)&&(l=m[f],l||(d[f]=!1));return function(){return E.If(K(a),h(),k(),"function"==typeof i?i():void 0,"function"==typeof g?g():void 0)}},25:function(a){return function(){return E.Noop(K(a))}},26:function(a,b,c,d){var e,f,g,h,i,k,l,m;for(k=[],m=[],i=[],e=B(a.pairs),f=0,g=e.length;g>f;++f)h=e[f],k.push(j(h.key,b,"expression",d)),m.push(j(h.value,b,"expression",d)),i.push(h.property);return l=null!=a.prototype?j(a.prototype,b,"expression",d):void 0,function(){var c,d,e,f,g,h,j,n,o,p,q,r,s,t,u,v;for(d=[],p=[],"function"==typeof l&&(r=l()),f=null!=r?p:d,n=null,g=0,c=k.length;c>g;++g)t=k[g],u=m[g],j=t(),v=u(),q=i[g],j instanceof E.Const&&!q||(f=p),e=f[f.length-1],("get"===q||"set"===q)&&n&&q!==n&&j instanceof E.Const&&e.key instanceof E.Const&&j.value===e.key.value?(e[n]=e.value,e.property=""+n+q,delete e.value,e[q]=v,n=null):(f.push({key:j,value:v,property:q}),("get"===q||"set"===q)&&(n=q));return null!=r?(b.addHelper("__create"),o=E.Call(K(a),E.Ident(K(a),"__create"),[r])):o=E.Obj(K(a),function(){var a,b,c,e,f,g;for(a=[],b=0,c=d.length;c>b;++b)e=d[b],f=e.key,g=e.value,a.push(E.Obj.Pair(f.pos,String(f.value),g));
return a}()),0===p.length?o:(h=b.reserveIdent(K(a),"o",R.object),s=E.BlockExpression(K(a),[E.Assign(K(a),h,o)].concat(function(){var a,c,d,e,f,g;for(a=[],c=0,d=p.length;d>c;++c)f=p[c],e=f.key,g=f.property,g?(b.addHelper("__defProp"),a.push(E.Call(e.pos,E.Ident(e.pos,"__defProp"),[h,e,"property"===g?f.value:"getset"===g?E.Obj(f.get.pos,[E.Obj.Pair(f.get.pos,"get",f.get),E.Obj.Pair(f.set.pos,"set",f.set),E.Obj.Pair(f.set.pos,"configurable",E.Const(f.set.pos,!0)),E.Obj.Pair(f.set.pos,"enumerable",E.Const(f.set.pos,!0))]):"setget"===g?E.Obj(f.set.pos,[E.Obj.Pair(f.set.pos,"set",f.set),E.Obj.Pair(f.get.pos,"get",f.get),E.Obj.Pair(f.get.pos,"configurable",E.Const(f.get.pos,!0)),E.Obj.Pair(f.get.pos,"enumerable",E.Const(f.get.pos,!0))]):"get"===g?E.Obj(f.value.pos,[E.Obj.Pair(f.value.pos,"get",f.value),E.Obj.Pair(f.value.pos,"configurable",E.Const(f.value.pos,!0)),E.Obj.Pair(f.value.pos,"enumerable",E.Const(f.value.pos,!0))]):"set"===g?E.Obj(f.value.pos,[E.Obj.Pair(f.value.pos,"set",f.value),E.Obj.Pair(f.value.pos,"configurable",E.Const(f.value.pos,!0)),E.Obj.Pair(f.value.pos,"enumerable",E.Const(f.value.pos,!0))]):A(Error("Unknown property type: "+String(g)))]))):a.push(E.Assign(e.pos,E.Access(e.pos,h,e),f.value));return a}(),[h])),b.releaseIdent(h),s)}},28:function(a,b,c,d){var e;return e=j(a.source,b,"expression",d),function(){var b,c;return c=e(),b=a.flags,c.isConst()?E.Regex(K(a),String(c.constValue()),b):E.Call(K(a),E.Ident(K(a),"RegExp"),[c,E.Const(K(a),b)])}},29:function(a,b,c,d){var e,f;if("statement"!==c&&"topStatement"!==c)throw Error("Expected Return in statement position");return e=a.node.mutateLast(null,function(a){return O.Return(a.index,a.scope,a)}),e.node===a.node?(f=j(a.node,b,"expression",d),a.node.isStatement()?f:function(){return E.Return(K(a),f())}):j(e,b,c,d)},33:function(a,b,c,d){var e,f,g,h,i,k,l,m,n,o,p,q,r,s;for(q=a.label&&j(a.label,b,"label"),r=j(a.node,b,"expression",d),i=d&&t({},d),l=d&&t({},i),e=[],f=B(a.cases),g=0,h=f.length;h>g;++g){if(k=f[g],n={pos:K(k.node),tNode:j(k.node,b,"expression",l),tBody:j(k.body,b,"statement",l),fallthrough:k.fallthrough},!k.fallthrough&&d){for(m in l)y.call(l,m)&&(s=l[m],s||(d[m]=!1));l=t({},i)}e.push(n)}o=e,p=null!=a.defaultCase?j(a.defaultCase,b,"statement",l):void 0;for(m in l)y.call(l,m)&&(s=l[m],s||(d[m]=!1));return function(){return E.Switch(K(a),r(),function(){var a,b,c,d,e,f;for(a=[],e=0,f=o.length;f>e;++e)b=o[e],d=b.tNode(),c=b.tBody(),(!b.fallthrough||e===f-1&&defaultCase.isNoop())&&(c=E.Block(b.pos,[c,E.Break(c.pos)])),a.push(E.Switch.Case(b.pos,d,c));return a}(),null!=p?p():E.Noop(K(a)),"function"==typeof q?q():void 0)}},32:function(){throw Error("Cannot have a stray super call")},40:function(a,b){var c;return c=b.getTmp(K(a),a.id,a.name,a.type()),function(){return c}},41:function(a,b,c,d){var e,f,g,h;for(h=j(a.node,b,c,d),e=B(a.tmps),f=e.length;f--;)g=e[f],b.releaseTmp(g);return h},38:function(a,b){return function(){return b.usedThis=!0,b.bound?E.Ident(K(a),"_this"):E.This(K(a))}},39:function(a,b,c,d){var e;return e=j(a.node,b,"expression",d),function(){return E.Throw(K(a),e())}},42:function(a,b,c,d){var e,f,g,h,i;return h=a.label&&j(a.label,b,"label"),i=j(a.tryBody,b,"statement",d),e=b.clone(!1),g=j(a.catchIdent,e,"leftExpression"),f=j(a.catchBody,e,"statement",d),function(){var c,d;return c=g(),c instanceof E.Ident&&(e.addVariable(c),e.markAsParam(c)),d=E.TryCatch(K(a),i(),c,f(),"function"==typeof h?h():void 0),t(b.variables,e.variables),d}},43:function(a,b,c,d){var e,f,g;return f=a.label&&j(a.label,b,"label"),g=j(a.tryBody,b,"statement",d),e=j(a.finallyBody,b,"statement",d),function(){return E.TryFinally(K(a),g(),e(),"function"==typeof f?f():void 0)}},48:function(a,b,c,d){var e,f;return d&&("++"===(e=a.op)||"--"===e||"++post"===e||"--post"===e)&&a.node instanceof O.Ident&&(d[a.node.name]=!1),f=j(a.node,b,"expression",d),function(){return E.Unary(K(a),a.op,f())}},49:function(a,b,c,d){var e;return d&&!d["\0"]&&a.ident instanceof O.Ident&&!y.call(d,a.ident.name)&&(d[a.ident.name]=!0),e=j(a.ident,b,"leftExpression"),function(){var c;return c=e(),b.addVariable(c,R.any,a.isMutable),E.Noop(K(a))}}},a.exports=function(a,b,c,d){var e,f,g,h;null==d&&(d={}),h=(new Date).getTime();try{g=P(d,b,!1),f=n(a,g,c),g.releaseTmps()}catch(i){if("undefined"!=typeof callback&&null!==callback)return callback(i);throw i}return e=(new Date).getTime(),"function"==typeof d.progress&&d.progress("translate",e-h),{node:f,time:e-h}},a.exports.defineHelper=function(a,b,c,d,e,f){var h,i,k;if(k=P({},a,!1),K=l(b),"string"==typeof c)i=E.Ident(g(0,0),c);else{if(!(c instanceof O.Ident))throw TypeError("Expecting name to be a String or Ident, got "+C(c));i=j(c,k,"leftExpression")()}if(!(i instanceof E.Ident))throw Error("Expected name to be an Ident, got "+C(i));if(d instanceof F)h=d;else{if(!(d instanceof O))throw TypeError("Expected value to be a parser or ast Node, got "+C(d));h=j(d,k,"expression")()}return null==f&&(f=k.getHelpers()),a.addHelper(i.name,h,e,f),K=null,{helper:h,dependencies:f}}}.call(this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:this),a.exports},b["./gorilla"]=function(){var a={exports:this},c=this;return function(a){function d(a){var b,c,d,e,f;for(e={parseTime:0,macroExpandTime:0,reduceTime:0,macros:a[0].macros,result:[]},b=t(a),c=0,d=b.length;d>c;++c)f=b[c],e.parseTime+=n(f.parseTime),e.macroExpandTime+=n(f.macroExpandTime),e.reduceTime+=n(f.reduceTime),e.result.push(f.result);return e}function e(a,c,d){var e,f;if("function"==typeof c.astPipe&&(a=c.astPipe(a,d,x),!(a instanceof x.Root)))throw Error("Expected astPipe to return a Root, got "+v(a));if(c.coverage){if(e=b("./coverage"),"string"==typeof c.coverage){if(!B(c.coverage))throw Error("coverage option must be an acceptable ident. '"+s(c.coverage)+"' is not.");f=c.coverage}else f=null;a=e(a,d,f)}return a}function f(c,d){var e,f,g,h,i,j,k,l,m,n,p,q,r;if("function"==typeof b&&null!=(i=b("vm"))&&(q=i.Script),q){if(p=q.createContext(),p.global=p.root=p.GLOBAL=p,null!=d.sandbox)if(d.sandbox instanceof p.constructor)p=d.sandbox;else{h=d.sandbox;for(l in h)o.call(h,l)&&(r=h[l],p[l]=r)}else for(l in a)o.call(a,l)&&(r=a[l],p[l]=r);if(p.__filename=d.filename||"eval",p.__dirname=E.dirname(p.__filename),!p.module&&!p.require)for(m=b("module"),g=p.module=new m(d.modulename||"eval"),j=p.require=function(a){return m._load(a,g)},g.filename=p.__filename,e=Object.getOwnPropertyNames(b),f=e.length;f--;){n=e[f];try{j[n]=b[n]}catch(t){}}if(d.includeGlobals)for(l in a)!o.call(a,l)||l in p||(p[l]=a[l]);return q.runInContext(c,p)}return k=Function("return "+s(c)),k()}var g,h,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J;g=function(){function a(){function b(a,b){var f;c&&(f=c,c=null,d=a,e=b,f.length&&G(function(){var a,b;for(b=0,a=f.length;a>b;++b)f[b]()}))}var c,d,e;return d=!1,e=null,c=[],{promise:{then:function(b,f,g){function h(){var a,c;try{a=d?f:b,"function"==typeof a?(c=a(e),c&&"function"==typeof c.then?c.then(j,l,g):j(c)):(d?l:j)(e)}catch(h){l(h)}}var i,j,k,l;return g!==!0&&(g=void 0),i=a(),k=i.promise,j=i.fulfill,l=i.reject,c?c.push(h):g?h():G(h),k},sync:function(){var a,b;switch(b=0,a=0,this.then(function(c){return b=1,a=c},function(c){return b=2,a=c},!0),b){case 0:throw Error("Promise did not execute synchronously");case 1:return a;case 2:throw a;default:throw Error("Unknown state")}}},fulfill:function(a){b(!1,a)},reject:function(a){b(!0,a)}}}return a.fulfilled=function(b){var c;return c=a(),c.fulfill(b),c.promise},a.rejected=function(b){var c;return c=a(),c.reject(b),c.promise},a}(),h=function(a){function b(a,b){return b.then(function(b){i[a]=b,0===--h&&c.fulfill(i)},c.reject)}var c,d,e,f,h,i,j;if("object"!=typeof a||null===a)throw TypeError("Expected promises to be an Object, got "+v(a));if(e=l(a),c=g(),i=e?[]:{},h=0,e)for(d=a.length,h=d;d--;)b(d,a[d]);else for(f in a)o.call(a,f)&&(j=a[f],++h,b(f,j));return c.promise},j=function(a,b){function c(c,f){var h;try{h=a[c](f)}catch(i){return g.rejected(i)}return h.done?g.fulfilled(h.value):h.value.then(d,e,b)}function d(a){return c("send",a)}function e(a){return c("throw",a)}if("object"!=typeof a||null===a)throw TypeError("Expected generator to be an Object, got "+v(a));if("function"!=typeof a.send)throw TypeError("Expected generator.send to be a Function, got "+v(a.send));if("function"!=typeof a["throw"])throw TypeError("Expected generator.throw to be a Function, got "+v(a["throw"]));if(null==b)b=!1;else if("boolean"!=typeof b)throw TypeError("Expected allowSync to be a Boolean, got "+v(b));return d(void 0)},k=function(a,b){var c;for(c in b)o.call(b,c)&&(a[c]=b[c]);return a},l="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),m=function(a,b){var c;if(c=typeof a,"number"!==c&&"string"!==c)throw TypeError("Cannot compare a non-number/string: "+c);if(c!==typeof b)throw TypeError("Cannot compare elements of different types: "+c+" vs "+typeof b);return b>=a},n=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+v(a));return a},o=Object.prototype.hasOwnProperty,p=function(a,b){var c;if(null==b)b=!1;else if("boolean"!=typeof b)throw TypeError("Expected allowSync to be a Boolean, got "+v(b));return"function"==typeof a?(c=function(){return j(a.apply(this,arguments))},c.sync=function(){return j(a.apply(this,arguments),!0).sync()},c.maybeSync=function(){return j(a.apply(this,arguments),!0)},c):j(a,b)},q=function(a,b,c){function d(a){return++k,c(a).then(function(b){return j[a]=b,--k,e()},function(a){return h=!0,f.reject(a)})}function e(){for(;!h&&a>k&&b>i;++i)d(i);return!h&&i>=b&&0===k?(h=!0,f.fulfill(j)):void 0}var f,h,i,j,k;if("number"!=typeof a)throw TypeError("Expected limit to be a Number, got "+v(a));if("number"!=typeof b)throw TypeError("Expected length to be a Number, got "+v(b));if("function"!=typeof c)throw TypeError("Expected body to be a Function, got "+v(c));return(1>a||a!==a)&&(a=1/0),j=[],h=!1,k=0,f=g(),i=0,G(e),f.promise},r=Array.prototype.slice,s=function(a){var b;if(b=typeof a,"string"===b)return a;if("number"===b)return String(a);throw TypeError("Expected a string or number, got "+v(a))},t=function(a){if(null==a)throw TypeError("Expected an object, got "+v(a));if(l(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return r.call(a);throw TypeError("Expected an object with a length property, got "+v(a))},u=function(a,b,c){var d;if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+v(a));return d=g(),a.apply(b,t(c).concat([function(a,b){null!=a?d.reject(a):d.fulfill(b)}])),d.promise},v=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),G="function"==typeof a.setImmediate?a.setImmediate:"undefined"!=typeof process&&"function"==typeof process.nextTick?function(){var a;return a=process.nextTick,function(b){var c;if("function"!=typeof b)throw TypeError("Expected func to be a Function, got "+v(b));return c=r.call(arguments,1),c.length?a(function(){b.apply(void 0,t(c))}):a(b)}}():function(a){var b;if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+v(a));return b=r.call(arguments,1),b.length?setTimeout(function(){a.apply(void 0,t(b))},0):setTimeout(a,0)},D=b("./parser"),x=b("./jsast"),C=b("os"),z=b("fs"),E=b("path"),H=b("./source-map"),w=b("./utils"),I=w.writeFileWithMkdirp,J=w.writeFileWithMkdirpSync,B=b("./jsutils").isAcceptableIdent,c.version="0.8.21",c.ParserError=D.ParserError,c.MacroError=D.MacroError,b.extensions?b.extensions[".gs"]=function(a,b){var d;return d=c.compileSync(z.readFileSync(b,"utf8"),{filename:b}),a._compile(d.code,b)}:b.registerExtension&&b.registerExtension(".gs",function(a){return c.compileSync(a,{filename:filename})}),"undefined"!=typeof __filename&&null!==__filename&&(F=z.realpathSync(__filename)),y=function(){function a(a){if(null==a)a=!1;else if("boolean"!=typeof a)throw TypeError("Expected sync to be a Boolean, got "+v(a));return null!=b?a?b:g.fulfilled(b):a?h.sync(!0):null==e?e=h():e}var b,d,e,f,h;return null!=F&&(f=E.join(E.dirname(F),"../src/jsprelude.gs")),null!=C&&(d=E.join(C.tmpDir(),"gs-jsprelude-"+s(c.version)+".cache")),h=p(function(a){function c(){k=30}function g(c){for(;;)switch(k){case 0:k=a?1:2;break;case 1:s=z.statSync(f),k=4;break;case 2:return++k,{done:!1,value:u(z.stat,z,[f])};case 3:s=c,++k;case 4:++k;case 5:k=a?6:7;break;case 6:r=z.statSync(d),k=10;break;case 7:return++k,{done:!1,value:u(z.stat,z,[d])};case 8:r=c,k=10;break;case 9:if("ENOENT"!==g.code)throw g;++k;case 10:k=r&&m(s.mtime.getTime(),r.mtime.getTime())?11:19;break;case 11:k=a?12:13;break;case 12:l=z.readFileSync(d,"utf8"),k=15;break;case 13:return++k,{done:!1,value:u(z.readFile,z,[d,"utf8"])};case 14:l=c,++k;case 15:o=!1;try{b=D.deserializePrelude(l)}catch(g){if(g instanceof ReferenceError)throw g;console.error("Error deserializing prelude, reloading. "+String(g)),o=!0}k=o?16:19;break;case 16:k=a?17:18;break;case 17:z.unlinkSync(d),k=19;break;case 18:return++k,{done:!1,value:u(z.unlink,z,[d])};case 19:k=null==b?20:29;break;case 20:k=a?21:22;break;case 21:q=z.readFileSync(f,"utf8"),k=24;break;case 22:return++k,{done:!1,value:u(z.readFile,z,[f,"utf8"])};case 23:q=c,++k;case 24:k=a?25:26;break;case 25:p=D.sync(q,null,{serializeMacros:!0,sync:!0,filename:f}),k=28;break;case 26:return++k,{done:!1,value:D(q,null,{serializeMacros:!0,filename:f})};case 27:p=c,++k;case 28:b=p.macros,I(d,b.serialize(),"utf8"),++k;case 29:return h=null,e=void 0,++k,{done:!0,value:b};case 30:return{done:!0,value:void 0};default:throw Error("Unknown state: "+k)}}function i(a){if(!(k>=5&&8>=k))throw c(),a;n=a,k=9}function j(a){for(;;)try{return g(a)}catch(b){i(b)}}var j,k,g,i,l,n,o,p,q,r,s;return k=0,{close:c,iterator:function(){return this},next:function(){return j(void 0)},send:j,"throw":function(a){return i(a),j(void 0)}}}),c.getSerializedPrelude=p(function(){function b(){g=3}function c(b){for(;;)switch(g){case 0:return++g,{done:!1,value:a()};case 1:return++g,{done:!1,value:u(z.readFile,z,[d,"utf8"])};case 2:return++g,{done:!0,value:b};case 3:return{done:!0,value:void 0};default:throw Error("Unknown state: "+g)}}function e(a){throw b(),a}function f(a){try{return c(a)}catch(b){e(b)}}var f,g,c,e;return g=0,{close:b,iterator:function(){return this},next:function(){return f(void 0)},send:f,"throw":function(a){return e(a),f(void 0)}}}),c.withPrelude=function(a){if("function"!=typeof a)throw TypeError("Expected serializedPrelude to be a Function, got "+v(a));return c.withPrelude=function(){throw Error("Cannot provide a prelude more than once")},b=D.deserializePrelude(a),h=null,this},a}(),c.parse=p(function(a,b){function c(){g=12}function d(c){for(;;)switch(g){case 0:null==b&&(b={}),j=b.sync,g=b.macros?1:2;break;case 1:h=b.macros,g=8;break;case 2:g=b.noPrelude?3:4;break;case 3:h=null,g=8;break;case 4:g=j?5:6;break;case 5:h=y(!0),g=8;break;case 6:return++g,{done:!1,value:y()};case 7:h=c,++g;case 8:i={filename:b.filename,noindent:!!b.noindent,sync:!!b.sync,progress:b.progress},b.embedded&&(i.embedded=!!b.embedded,i.embeddedUnpretty=!!b.embeddedUnpretty,i.embeddedGenerator=!!b.embeddedGenerator,i.embeddedOpen=b.embeddedOpen,i.embeddedClose=b.embeddedClose,i.embeddedOpenWrite=b.embeddedOpenWrite,i.embeddedCloseWrite=b.embeddedCloseWrite,i.embeddedOpenComment=b.embeddedOpenComment,i.embeddedCloseComment=b.embeddedCloseComment),g=j?9:10;break;case 9:return g=12,{done:!0,value:D.sync(a,h,i)};case 10:return++g,{done:!1,value:D(a,h,i)};case 11:return++g,{done:!0,value:c};case 12:return{done:!0,value:void 0};default:throw Error("Unknown state: "+g)}}function e(a){throw c(),a}function f(a){try{return d(a)}catch(b){e(b)}}var f,g,d,e,h,i,j;return g=0,{close:c,iterator:function(){return this},next:function(){return f(void 0)},send:f,"throw":function(a){return e(a),f(void 0)}}}),c.parseSync=function(a,b){var d;return null==b&&(b={}),c.parse.sync(a,(d=k({},b),d.sync=!0,d))},c.getReservedWords=function(a){return null==a&&(a={}),a.noPrelude?D.getReservedWords(null,a):D.getReservedWords(y(!0),a)},c.ast=p(function(a,f){function g(){r=15}function h(g){for(;;)switch(r){case 0:null==f&&(f={}),E=(new Date).getTime(),F=f.sync,H="function"==typeof f.translator?f.translator:b("string"==typeof f.translator?f.translator:"./jstranslator"),r=l(a)?1:10;break;case 1:u=[],A=f.progress,C={parse:0,macroExpand:0,reduce:0},"function"==typeof A&&(f.progress=function(a,b){return C[a]=n(C[a])+n(b)}),m=t(a),p=0,q=m.length,++r;case 2:r=q>p?3:9;break;case 3:x=m[p],l(f.filenames)&&(f.filename=f.filenames[i]),o=[],r=F?4:5;break;case 4:s=c.parseSync(x,f),r=7;break;case 5:return++r,{done:!1,value:c.parse(x,f)};case 6:s=g,++r;case 7:o.push(s),u.push.apply(u,o),++r;case 8:++p,r=2;break;case 9:if(f.progress=A,"function"==typeof A)for(m=["parse","macroExpand","reduce"],p=0,q=m.length;q>p;++p)y=m[p],f.progress(y,C[y]);B=d(u),r=14;break;case 10:r=F?11:12;break;case 11:B=c.parseSync(a,f),r=14;break;case 12:return++r,{done:!1,value:c.parse(a,f)};case 13:B=g,++r;case 14:return G=H(B.result,B.macros,B.getPosition,f),w={},f.filename&&(w[f.filename]=a),D=(new Date).getTime(),z=e(G.node,f,w),v=(new Date).getTime(),++r,{done:!0,value:{node:z,parseTime:B.parseTime,macroExpandTime:B.macroExpandTime,reduceTime:B.reduceTime,translateTime:G.time,astPipeTime:n(v)-n(D),time:n(v)-n(E)}};case 15:return{done:!0,value:void 0};default:throw Error("Unknown state: "+r)}}function j(a){throw g(),a}function k(a){try{return h(a)}catch(b){j(b)}}var m,o,p,q,k,r,h,j,s,u,v,w,x,y,z,A,B,C,D,E,F,G,H;return r=0,{close:g,iterator:function(){return this},next:function(){return k(void 0)},send:k,"throw":function(a){return j(a),k(void 0)}}}),c.astSync=function(a,b){var d;return null==b&&(b={}),c.ast.sync(a,(d=k({},b),d.sync=!0,d))},c.compile=p(function(a,b){function d(){h=5}function e(d){for(;;)switch(h){case 0:null==b&&(b={}),l=b.sync,k=(new Date).getTime(),h=l?1:2;break;case 1:m=c.astSync(a,b),h=4;break;case 2:return++h,{done:!1,value:c.ast(a,b)};case 3:m=d,++h;case 4:return j=m.node,i=j.compile(b),++h,{done:!0,value:{parseTime:m.parseTime,macroExpandTime:m.macroExpandTime,reduceTime:m.reduceTime,translateTime:m.translateTime,compileTime:i.compileTime,uglifyTime:i.uglifyTime,time:n((new Date).getTime())-n(k),code:i.code}};case 5:return{done:!0,value:void 0};default:throw Error("Unknown state: "+h)}}function f(a){throw d(),a}function g(a){try{return e(a)}catch(b){f(b)}}var g,h,e,f,i,j,k,l,m;return h=0,{close:d,iterator:function(){return this},next:function(){return g(void 0)},send:g,"throw":function(a){return f(a),g(void 0)}}}),c.compileSync=function(a,b){var d;return null==b&&(b={}),c.compile.sync(a,(d=k({},b),d.sync=!0,d))},c.compileFile=p(function(a){function d(){w=20}function f(d){for(;;)switch(w){case 0:if(null==a&&(a={}),a=k({},a),U=a.sync,F=a.input,"string"==typeof F)F=[F];else{if(!l(F))throw Error("Expected options.input to be a string or array of strings");if(0===F.length)throw Error("Expected options.input to not be empty")}if(N=a.output,"string"!=typeof N)throw Error("Expected options.output to be a string, got "+v(N));if(a.sourceMap)if("string"==typeof a.sourceMap)R=a.sourceMap,a.sourceMap=H(R,a.output,"");else{if("string"!=typeof a.sourceMap.file)throw Error("Expected options.sourceMap.file to be a string, got "+v(a.sourceMap.file));if("string"!=typeof a.sourceMap.sourceRoot)throw Error("Expected options.sourceMap.sourceRoot to be a string, got "+v(a.sourceMap.sourceRoot));R=a.sourceMap.file,a.sourceMap=H(R,a.output,a.sourceMap.sourceRoot)}else a.sourceMap=null;S=[],w=U?1:2;break;case 1:for(j=t(F),o=0,r=j.length;r>o;++o)D=j[o],S.push(z.readFileSync(D,"utf8"));w=4;break;case 2:return++w,{done:!1,value:q(5,n(F.length),p(function(a){function b(){f=2}function c(b){for(;;)switch(f){case 0:return g=F[a],++f,{done:!1,value:u(z.readFile,z,[g,"utf8"])};case 1:return++f,{done:!0,value:b};case 2:return{done:!0,value:void 0};default:throw Error("Unknown state: "+f)}}function d(a){throw b(),a}function e(a){try{return c(a)}catch(b){d(b)}}var e,f,c,d,g;return f=0,{close:b,iterator:function(){return this},next:function(){return e(void 0)},send:e,"throw":function(a){return d(a),e(void 0)}}}))};case 3:S=d,++w;case 4:M=S.length>0&&a.progress,P={parse:0,macroExpand:0,reduce:0},"function"==typeof M&&(a.progress=function(a,b){return P[a]=n(P[a])+n(b)}),j=[],C=0,r=S.length,++w;case 5:w=r>C?6:11;break;case 6:Q=S[C],T=Date.now(),a.filename=F[C],w=U?7:8;break;case 7:j.push(c.parseSync(Q,a)),w=10;break;case 8:return m=[],++w,{done:!1,value:c.parse(Q,a)};case 9:m.push(d),j.push.apply(j,m),++w;case 10:++C,w=5;break;case 11:if(O=j,"function"==typeof M)for(a.progress=M,j=["parse","macroExpand","reduce"],o=0,r=j.length;r>o;++o)K=j[o],a.progress(K,P[K]);for(a.filenames=F,W=b("./jstranslator"),V=W(function(){var a,b,c,d;for(a=[],b=0,c=O.length;c>b;++b)d=O[b],a.push(d.result);return a}(),O[0].macros,function(){var a,b,c,d;for(a=[],b=0,c=O.length;c>b;++b)d=O[b],a.push(d.getPosition);return a}(),a),L=V.node,A={},j=t(F),C=0,r=j.length;r>C;++C)D=j[C],A[D]=S[C];L=e(L,a,A),y=L.compile(a),w=U?13:12;break;case 12:return++w,{done:!1,value:g.fulfilled()};case 13:x=y.code,R&&(G=a.linefeed||"\n",B=s(G)+"/*"+s(G)+"//@ sourceMappingURL="+s(E.relative(E.dirname(a.output),R))+s(G)+"*/"+s(G),x=s(x)+B),w=U?14:15;break;case 14:J(a.output,x,a.encoding||"utf8"),w=16;break;case 15:return++w,{done:!1,value:I(a.output,x,a.encoding||"utf8")};case 16:w=R?17:20;break;case 17:w=U?18:19;break;case 18:J(R,a.sourceMap.toString(),"utf8"),w=20;break;case 19:return++w,{done:!1,value:I(R,a.sourceMap.toString(),"utf8")};case 20:return{done:!0,value:void 0};default:throw Error("Unknown state: "+w)}}function h(a){throw d(),a}function i(a){try{return f(a)}catch(b){h(b)}}var j,m,o,r,i,w,f,h,x,y,A,B,C,D,F,G,K,L,M,N,O,P,Q,R,S,T,U,V,W;return w=0,{close:d,iterator:function(){return this},next:function(){return i(void 0)},send:i,"throw":function(a){return h(a),i(void 0)}}}),c.compileFileSync=function(a){var b;return null==a&&(a={}),c.compileFile.sync((b=k({},a),b.sync=!0,b))},c.eval=p(function(a,b){function d(){i=5}function e(d){for(;;)switch(i){case 0:null==b&&(b={}),m=b.sync,b.eval=!0,b["return"]=!1,i=m?1:2;break;case 1:j=c.compileSync(a,b),i=4;break;case 2:return++i,{done:!1,value:c.compile(a,b)};case 3:j=d,++i;case 4:return l=(new Date).getTime(),k=f(j.code,b),"function"==typeof b.progress&&b.progress("eval",n((new Date).getTime())-n(l)),++i,{done:!0,value:k};case 5:return{done:!0,value:void 0};default:throw Error("Unknown state: "+i)}}function g(a){throw d(),a}function h(a){try{return e(a)}catch(b){g(b)}}var h,i,e,g,j,k,l,m;return i=0,{close:d,iterator:function(){return this},next:function(){return h(void 0)},send:h,"throw":function(a){return g(a),h(void 0)}}}),c.evalSync=function(a,b){var d;return null==b&&(b={}),c.eval.sync(a,(d=k({},b),d.sync=!0,d))},c.run=p(function(a,d){function e(){i=12}function f(e){for(;;)switch(i){case 0:null==d&&(d={}),m=d.sync,i="undefined"==typeof process?1:5;break;case 1:i=m?2:3;break;case 2:return i=12,{done:!0,value:c.evalSync(a,d)};case 3:return++i,{done:!1,value:c.eval(a,d)};case 4:return i=12,{done:!0,value:e};case 5:k=b.main,k.filename=process.argv[1]=d.filename?z.realpathSync(d.filename):".",k.moduleCache&&(k.moduleCache={}),process.binding("natives").module&&(l=b("module").Module,k.paths=l._nodeModulePaths(E.dirname(d.filename))),i=".gs"!==E.extname(k.filename)||b.extensions?6:11;break;case 6:i=m?7:8;break;case 7:j=c.compileSync(a,d),i=10;break;case 8:return++i,{done:!1,value:c.compile(a,d)};case 9:j=e,++i;case 10:return i=12,{done:!0,value:k._compile(j.code,k.filename)};case 11:return++i,{done:!0,value:k._compile(a,k.filename)};case 12:return{done:!0,value:void 0};default:throw Error("Unknown state: "+i)}}function g(a){throw e(),a}function h(a){try{return f(a)}catch(b){g(b)}}var h,i,f,g,j,k,l,m;return i=0,{close:e,iterator:function(){return this},next:function(){return h(void 0)},send:h,"throw":function(a){return g(a),h(void 0)}}}),c.runSync=function(a,b){var d;return null==b&&(b={}),c.run.sync(a,(d=k({},b),d.sync=!0,d))},A=c.init=p(function(a){function b(){f=3}function c(){for(;;)switch(f){case 0:null==a&&(a={}),f=a.sync?1:2;break;case 1:y(!0),f=3;break;case 2:return++f,{done:!1,value:y()};case 3:return{done:!0,value:void 0};default:throw Error("Unknown state: "+f)}}function d(a){throw b(),a}function e(a){try{return c(a)}catch(b){d(b)}}var e,f,c,d;return f=0,{close:b,iterator:function(){return this},next:function(){return e(void 0)},send:e,"throw":function(a){return d(a),e(void 0)}}}),c.initSync=function(a){var b;null==a&&(a={}),A.sync((b=k({},a),b.sync=!0,b))},c.getMtime=p(function(){function a(){k=6}function b(a){for(;;)switch(k){case 0:return m=[],m.push(E.join(E.dirname(F),"../src/jsprelude.gs")),q=E.join(E.dirname(F),"../lib"),++k,{done:!1,value:u(z.readdir,z,[q])};case 1:for(s=a,e=t(s),g=0,i=e.length;i>g;++g)r=e[g],".js"===E.extname(r)&&m.push(E.join(q,r));p=h(function(){var a,b,c,d;for(a=[],b=0,c=m.length;c>b;++b)d=m[b],a.push(u(z.stat,z,[d]));return a}()),++k;case 2:return++k,{done:!1,value:p};case 3:o=a,k=5;break;case 4:return k=6,{done:!0,value:new Date};case 5:for(l=-4503599627370496,e=t(o),g=0,i=e.length;i>g;++g)v=e[g],l=l>n(j=v.mtime.getTime())?l:j;return w=l,++k,{done:!0,value:new Date(w)};case 6:return{done:!0,value:void 0};default:throw Error("Unknown state: "+k)}}function c(b){if(2!==k&&3!==k)throw a(),b;f=b,k=4}function d(a){for(;;)try{return b(a)}catch(d){c(d)}}var e,f,g,i,j,d,k,b,c,l,m,o,p,q,r,s,v,w;return k=0,{close:a,iterator:function(){return this},next:function(){return d(void 0)},send:d,"throw":function(a){return c(a),d(void 0)}}}),c.AST=x}.call(this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:this),a.exports},b["./browser"]=function(){var a={exports:this};return function(a){var c,d,e,f,g,h,i,j,k,l,m;c=function(a,b,c,d,e){function f(a,b){k||(--n,null!=a&&null==i&&(i=a),c&&null==i&&arguments.length>1&&m.push(b),o||h())}function h(){for(;!k&&null==i&&a>n&&++l<b;)++n,o=!0,d(l,g(f)),o=!1;k||null==i&&0!==n||(k=!0,null!=i?e(i):e(null,m))}var i,k,l,m,n,o;if("number"!=typeof a)throw TypeError("Expected limit to be a Number, got "+j(a));if("number"!=typeof b)throw TypeError("Expected length to be a Number, got "+j(b));if(null==c)c=!1;else if("boolean"!=typeof c)throw TypeError("Expected hasResult to be a Boolean, got "+j(c));if("function"!=typeof d)throw TypeError("Expected onValue to be a Function, got "+j(d));if("function"!=typeof e)throw TypeError("Expected onComplete to be a Function, got "+j(e));return m=c?[]:null,0>=b?e(null,m):((1>a||a!==a)&&(a=1/0),i=null,n=0,o=!1,k=!1,l=-1,h(),void 0)},d=function(a){if("object"!=typeof a||null===a)throw TypeError("Expected promise to be an Object, got "+j(a));if("function"!=typeof a.then)throw TypeError("Expected promise.then to be a Function, got "+j(a.then));return function(b){a.then(function(a){return m(b,null,a)},function(a){return m(b,a)})}},e="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),f=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+j(a));return a},g=function(){function a(){throw Error("Attempted to call function more than once")}function b(){}return function(c,d){if("function"!=typeof c)throw TypeError("Expected func to be a Function, got "+j(c));if(null==d)d=!1;else if("boolean"!=typeof d)throw TypeError("Expected silentFail to be a Boolean, got "+j(d));return function(){var e;return e=c,c=d?b:a,e.apply(this,arguments)}}}(),h=Array.prototype.slice,i=function(a){if(null==a)throw TypeError("Expected an object, got "+j(a));if(e(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return h.call(a);throw TypeError("Expected an object with a length property, got "+j(a))},j=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),m="function"==typeof a.setImmediate?a.setImmediate:"undefined"!=typeof process&&"function"==typeof process.nextTick?function(){var a;return a=process.nextTick,function(b){var c;if("function"!=typeof b)throw TypeError("Expected func to be a Function, got "+j(b));return c=h.call(arguments,1),c.length?a(function(){b.apply(void 0,i(c))}):a(b)}}():function(a){var b;if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+j(a));return b=h.call(arguments,1),b.length?setTimeout(function(){a.apply(void 0,i(b))},0):setTimeout(a,0)},k=b("./gorilla"),k.require=b,"undefined"!=typeof window&&null!==window&&(k.load=function(a,b){var c;if("string"!=typeof a)throw TypeError("Expected url to be a String, got "+j(a));if("function"!=typeof b)throw TypeError("Expected callback to be a Function, got "+j(b));if(window.ActiveXObject)c=new window.ActiveXObject("Microsoft.XMLHTTP");else{if(!XMLHttpRequest)throw Error("Unable to create XMLHttpRequest");c=new XMLHttpRequest}return c.open("GET",a,!0),"function"==typeof c.overrideMimeType&&c.overrideMimeType("text/plain"),c.onreadystatechange=function(){var e;return 4===c.readyState?0===(e=c.status)||200===e?d(k.run(c.responseText))(b):b(Error("Could not load "+a)):void 0},c.send(null)},l=function(){var a;return a=document.getElementsByTagName("script"),c(1,f(a.length),!1,function(b,c){var d;return d=a[b],"text/gorillascript"===d.type?d.src?k.load(d.src,c):(k.runSync(d.innerHTML),c()):c()},function(){})},window.addEventListener?addEventListener("DOMContentLoaded",l,!1):attachEvent("onload",l))}.call(this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:this),a.exports},b("./browser"),b("./gorilla").withPrelude(function(a,b){return{consts:{"true":!0,"false":!1,"null":null,"void":void 0,undefined:void 0,Infinity:1/0,NaN:0/0},helpers:{__throw:{helper:b(16,62,26,0,0,[b(17,62,27,0,"err")],0,b(26,62,34,0,b(17,62,40,0,"err"))),type:a.generic(a.functionBase,a.none),dependencies:[]},GLOBAL:{helper:b(19,146,23,0,b(3,146,26,0,b(30,146,30,0,"typeof",b(17,146,39,0,"window")),"!==",b(9,146,30,0,"undefined")),b(17,146,51,0,"window"),b(19,146,23,0,b(3,146,66,0,b(30,146,70,0,"typeof",b(17,146,79,0,"global")),"!==",b(9,146,70,0,"undefined")),b(17,146,91,0,"global"),b(25,146,103,0))),type:a.any,dependencies:[]},__xor:{helper:b(16,148,24,0,0,[b(17,148,25,0,"x"),b(17,148,27,0,"y")],0,b(18,149,1,0,b(17,149,5,0,"x"),b(23,150,1,0,b(3,150,1,0,b(30,150,1,0,"!",b(17,150,8,0,"y")),"&&",b(17,150,14,0,"x"))),b(23,152,1,0,b(3,152,1,0,b(17,152,1,0,"y"),"||",b(17,152,9,0,"x"))))),type:a["function"],dependencies:[]},__typeof:{helper:b(7,495,25,0,b(16,495,25,0,0,0,["_toString"],b(4,496,1,0,0,b(3,496,1,0,b(17,496,6,0,"_toString"),"=",b(3,496,19,0,b(3,496,19,0,b(17,496,19,0,"Object"),".",b(9,496,27,0,"prototype")),".",b(9,496,37,0,"toString"))),b(23,497,4,0,b(16,497,4,0,0,[b(17,497,5,0,"o")],0,b(18,498,1,0,b(3,498,7,0,b(17,498,16,0,"o"),"===",b(9,0,0,0)),b(23,499,7,0,b(9,499,7,0,"Undefined")),b(18,498,1,0,b(3,500,12,0,b(17,500,21,0,"o"),"===",b(9,0,0,0,null)),b(23,501,7,0,b(9,501,7,0,"Null")),b(23,503,1,0,b(3,503,1,0,b(3,503,8,0,b(3,503,8,0,b(17,503,8,0,"o"),".",b(9,503,10,0,"constructor")),"&&",b(3,503,25,0,b(3,503,25,0,b(17,503,25,0,"o"),".",b(9,503,28,0,"constructor")),".",b(9,503,40,0,"name"))),"||",b(7,503,48,0,b(3,503,48,0,b(7,503,48,0,b(3,503,48,0,b(17,503,48,0,"_toString"),".",b(9,503,48,0,"call")),0,b(17,503,61,0,"o")),".",b(9,503,64,0,"slice")),0,b(9,503,70,0,8),b(9,503,72,0,-1)))))))))),0),type:a.generic(a.functionBase,a.string),dependencies:[]},__first:{helper:b(16,511,26,0,0,[b(17,511,27,0,"x")],0,b(23,511,32,0,b(17,511,32,0,"x"))),type:a["function"],dependencies:[]},__num:{helper:b(16,538,24,0,0,[b(17,538,25,0,"num")],0,b(18,539,1,0,b(3,539,5,0,b(30,539,9,0,"typeof",b(17,539,20,0,"num")),"!==",b(9,539,9,0,"number")),b(26,540,1,0,b(7,540,10,0,b(17,540,10,0,"TypeError"),0,b(3,540,21,0,b(9,540,21,0,"Expected a number, got "),"+",b(7,540,49,0,b(17,540,49,0,"__typeof"),0,b(17,540,57,0,"num"))))),b(23,542,1,0,b(17,542,1,0,"num")))),type:a.generic(a.functionBase,a.number),dependencies:["__typeof"]},__str:{helper:b(16,544,24,0,0,[b(17,544,25,0,"str")],0,b(18,545,1,0,b(3,545,5,0,b(30,545,9,0,"typeof",b(17,545,20,0,"str")),"!==",b(9,545,9,0,"string")),b(26,546,1,0,b(7,546,10,0,b(17,546,10,0,"TypeError"),0,b(3,546,21,0,b(9,546,21,0,"Expected a string, got "),"+",b(7,546,49,0,b(17,546,49,0,"__typeof"),0,b(17,546,57,0,"str"))))),b(23,548,1,0,b(17,548,1,0,"str")))),type:a.generic(a.functionBase,a.string),dependencies:["__typeof"]},__strnum:{helper:b(16,550,27,0,0,[b(17,550,28,0,"strnum")],["type"],b(4,551,1,0,0,b(3,551,1,0,b(17,551,6,0,"type"),"=",b(30,551,13,0,"typeof",b(17,551,20,0,"strnum"))),b(18,552,1,0,b(3,552,5,0,b(17,552,5,0,"type"),"===",b(9,552,15,0,"string")),b(23,553,1,0,b(17,553,1,0,"strnum")),b(18,552,1,0,b(3,554,10,0,b(17,554,10,0,"type"),"===",b(9,554,20,0,"number")),b(23,555,1,0,b(7,555,1,0,b(17,555,1,0,"String"),0,b(17,555,12,0,"strnum"))),b(26,557,1,0,b(7,557,10,0,b(17,557,10,0,"TypeError"),0,b(3,557,21,0,b(9,557,21,0,"Expected a string or number, got "),"+",b(7,557,59,0,b(17,557,59,0,"__typeof"),0,b(17,557,67,0,"strnum"))))))))),type:a.generic(a.functionBase,a.string),dependencies:["__typeof"]},__owns:{helper:b(3,668,23,0,b(3,668,23,0,b(17,668,23,0,"Object"),".",b(9,668,31,0,"prototype")),".",b(9,668,41,0,"hasOwnProperty")),type:a.any,dependencies:[]},__cmp:{helper:b(16,689,24,0,0,[b(17,689,25,0,"left"),b(17,689,30,0,"right")],["type"],b(18,690,1,0,b(3,690,5,0,b(17,690,5,0,"left"),"===",b(17,690,13,0,"right")),b(23,691,5,0,b(9,691,5,0,0)),b(4,693,1,0,0,b(3,693,1,0,b(17,693,8,0,"type"),"=",b(30,693,15,0,"typeof",b(17,693,22,0,"left"))),b(18,694,1,0,b(3,694,7,0,b(3,694,7,0,b(17,694,7,0,"type"),"!==",b(9,694,17,0,"number")),"&&",b(3,694,27,0,b(17,694,27,0,"type"),"!==",b(9,694,37,0,"string"))),b(26,695,1,0,b(7,695,12,0,b(17,695,12,0,"TypeError"),0,b(3,695,23,0,b(9,695,23,0,"Cannot compare a non-number/string: "),"+",b(17,695,64,0,"type")))),b(18,694,1,0,b(3,696,12,0,b(17,696,12,0,"type"),"!==",b(30,696,20,0,"typeof",b(17,696,27,0,"right"))),b(26,697,1,0,b(7,697,12,0,b(17,697,12,0,"TypeError"),0,b(3,697,23,0,b(3,697,23,0,b(3,697,23,0,b(9,697,23,0,"Cannot compare elements of different types: "),"+",b(17,697,72,0,"type")),"+",b(9,697,81,0," vs ")),"+",b(30,697,90,0,"typeof",b(17,697,97,0,"right"))))),b(18,694,1,0,b(3,698,12,0,b(17,698,12,0,"left"),"<",b(17,698,20,0,"right")),b(23,699,1,0,b(9,699,1,0,-1)),b(23,701,7,0,b(9,701,7,0,1)))))))),type:a.generic(a.functionBase,a.number),dependencies:[]},__int:{helper:b(16,712,24,0,0,[b(17,712,25,0,"num")],0,b(18,713,1,0,b(3,713,5,0,b(30,713,9,0,"typeof",b(17,713,20,0,"num")),"!==",b(9,713,9,0,"number")),b(26,714,1,0,b(7,714,10,0,b(17,714,10,0,"TypeError"),0,b(3,714,21,0,b(9,714,21,0,"Expected a number, got "),"+",b(7,714,49,0,b(17,714,49,0,"__typeof"),0,b(17,714,57,0,"num"))))),b(18,713,1,0,b(3,715,10,0,b(3,715,10,0,b(17,715,10,0,"num"),"%",b(9,715,23,0,1)),"!==",b(9,715,10,0,0)),b(26,716,1,0,b(7,716,10,0,b(17,716,10,0,"TypeError"),0,b(3,716,21,0,b(9,716,21,0,"Expected an integer, got "),"+",b(17,716,51,0,"num")))),b(23,718,1,0,b(17,718,1,0,"num"))))),type:a.generic(a.functionBase,a.number),dependencies:["__typeof"]},__nonzero:{helper:b(16,720,28,0,0,[b(17,720,29,0,"num")],0,b(18,721,1,0,b(3,721,5,0,b(17,721,5,0,"num"),"===",b(9,721,13,0,0)),b(26,722,1,0,b(7,722,10,0,b(17,722,10,0,"RangeError"),0,b(3,722,22,0,b(9,722,22,0,"Expected non-zero, got "),"+",b(17,722,50,0,"num")))),b(23,724,1,0,b(17,724,1,0,"num")))),type:a["function"],dependencies:[]},__lt:{helper:b(16,726,23,0,0,[b(17,726,24,0,"x"),b(17,726,26,0,"y")],["type"],b(4,727,1,0,0,b(3,727,1,0,b(17,727,6,0,"type"),"=",b(30,727,13,0,"typeof",b(17,727,20,0,"x"))),b(18,728,1,0,b(3,728,5,0,b(3,728,5,0,b(17,728,5,0,"type"),"!==",b(9,728,20,0,"number")),"&&",b(3,728,5,0,b(17,728,5,0,"type"),"!==",b(9,728,29,0,"string"))),b(26,729,1,0,b(7,729,10,0,b(17,729,10,0,"TypeError"),0,b(3,729,21,0,b(9,729,21,0,"Cannot compare a non-number/string: "),"+",b(17,729,62,0,"type")))),b(18,728,1,0,b(3,730,10,0,b(17,730,10,0,"type"),"!==",b(30,730,18,0,"typeof",b(17,730,25,0,"y"))),b(26,731,1,0,b(7,731,10,0,b(17,731,10,0,"TypeError"),0,b(3,731,21,0,b(3,731,21,0,b(3,731,21,0,b(9,731,21,0,"Cannot compare elements of different types: "),"+",b(17,731,70,0,"type")),"+",b(9,731,79,0," vs ")),"+",b(30,731,88,0,"typeof",b(17,731,95,0,"y"))))),b(23,733,1,0,b(3,733,1,0,b(17,733,1,0,"x"),"<",b(17,733,9,0,"y"))))))),type:a.generic(a.functionBase,a.boolean),dependencies:[]},__lte:{helper:b(16,735,24,0,0,[b(17,735,25,0,"x"),b(17,735,27,0,"y")],["type"],b(4,736,1,0,0,b(3,736,1,0,b(17,736,6,0,"type"),"=",b(30,736,13,0,"typeof",b(17,736,20,0,"x"))),b(18,737,1,0,b(3,737,5,0,b(3,737,5,0,b(17,737,5,0,"type"),"!==",b(9,737,20,0,"number")),"&&",b(3,737,5,0,b(17,737,5,0,"type"),"!==",b(9,737,29,0,"string"))),b(26,738,1,0,b(7,738,10,0,b(17,738,10,0,"TypeError"),0,b(3,738,21,0,b(9,738,21,0,"Cannot compare a non-number/string: "),"+",b(17,738,62,0,"type")))),b(18,737,1,0,b(3,739,10,0,b(17,739,10,0,"type"),"!==",b(30,739,18,0,"typeof",b(17,739,25,0,"y"))),b(26,740,1,0,b(7,740,10,0,b(17,740,10,0,"TypeError"),0,b(3,740,21,0,b(3,740,21,0,b(3,740,21,0,b(9,740,21,0,"Cannot compare elements of different types: "),"+",b(17,740,70,0,"type")),"+",b(9,740,79,0," vs ")),"+",b(30,740,88,0,"typeof",b(17,740,95,0,"y"))))),b(23,742,1,0,b(3,742,1,0,b(17,742,1,0,"x"),"<=",b(17,742,10,0,"y"))))))),type:a.generic(a.functionBase,a.boolean),dependencies:[]},__slice:{helper:b(3,1009,24,0,b(3,1009,24,0,b(17,1009,24,0,"Array"),".",b(9,1009,31,0,"prototype")),".",b(9,1009,41,0,"slice")),type:a.any,dependencies:[]},__freeze:{helper:b(19,1011,25,0,b(3,1011,28,0,b(30,1011,28,0,"typeof",b(3,1011,41,0,b(17,1011,41,0,"Object"),".",b(9,1011,49,0,"freeze"))),"===",b(9,1011,28,0,"function")),b(3,1012,1,0,b(17,1012,1,0,"Object"),".",b(9,1012,10,0,"freeze")),b(16,1014,4,0,0,[b(17,1014,5,0,"x")],0,b(23,1014,10,0,b(17,1014,10,0,"x")))),type:a.any,dependencies:[]},__freezeFunc:{helper:b(16,1016,32,0,0,[b(17,1016,33,0,"x")],0,b(4,1017,1,0,0,b(18,1017,1,0,b(3,1017,5,0,b(3,1017,5,0,b(17,1017,5,0,"x"),".",b(9,1017,8,0,"prototype")),"!=",b(9,0,0,0,null)),b(7,1018,1,0,b(17,1018,1,0,"__freeze"),0,b(3,1018,14,0,b(17,1018,14,0,"x"),".",b(9,1018,16,0,"prototype")))),b(23,1019,1,0,b(7,1019,1,0,b(17,1019,1,0,"__freeze"),0,b(17,1019,12,0,"x"))))),type:a["function"],dependencies:["__freeze"]},__isArray:{helper:b(19,1021,27,0,b(3,1021,30,0,b(30,1021,30,0,"typeof",b(3,1021,43,0,b(17,1021,43,0,"Array"),".",b(9,1021,50,0,"isArray"))),"===",b(9,1021,30,0,"function")),b(3,1022,1,0,b(17,1022,1,0,"Array"),".",b(9,1022,9,0,"isArray")),b(7,1024,1,0,b(16,1024,1,0,0,0,["_toString"],b(4,1025,1,0,0,b(3,1025,1,0,b(17,1025,8,0,"_toString"),"=",b(3,1025,21,0,b(3,1025,21,0,b(17,1025,21,0,"Object"),".",b(9,1025,29,0,"prototype")),".",b(9,1025,39,0,"toString"))),b(23,1026,6,0,b(16,1026,6,0,0,[b(17,1026,7,0,"x")],0,b(23,1026,23,0,b(3,1026,23,0,b(7,1026,23,0,b(3,1026,23,0,b(17,1026,23,0,"_toString"),".",b(9,1026,23,0,"call")),0,b(17,1026,36,0,"x")),"===",b(9,1026,42,0,"[object Array]"))))))),0)),type:a.any,dependencies:[]},__isObject:{helper:b(16,1028,30,0,0,[b(17,1028,31,0,"x")],0,b(23,1028,47,0,b(3,1028,47,0,b(3,1028,47,0,b(30,1028,47,0,"typeof",b(17,1028,54,0,"x")),"===",b(9,1028,61,0,"object")),"&&",b(3,1028,71,0,b(17,1028,71,0,"x"),"!==",b(9,1028,76,0,null))))),type:a.generic(a.functionBase,a.boolean),dependencies:[]},__toArray:{helper:b(16,1030,29,0,0,[b(17,1030,30,0,"x")],0,b(18,1031,1,0,b(3,1031,5,0,b(17,1031,9,0,"x"),"==",b(9,0,0,0,null)),b(26,1032,1,0,b(7,1032,10,0,b(17,1032,10,0,"TypeError"),0,b(3,1032,21,0,b(9,1032,21,0,"Expected an object, got "),"+",b(7,1032,50,0,b(17,1032,50,0,"__typeof"),0,b(17,1032,58,0,"x"))))),b(18,1031,1,0,b(7,1033,10,0,b(17,1033,10,0,"__isArray"),0,b(17,1033,20,0,"x")),b(23,1034,1,0,b(17,1034,1,0,"x")),b(18,1031,1,0,b(3,1035,10,0,b(30,1035,10,0,"typeof",b(17,1035,21,0,"x")),"===",b(9,1035,10,0,"string")),b(23,1036,1,0,b(7,1036,1,0,b(3,1036,1,0,b(17,1036,1,0,"x"),".",b(9,1036,7,0,"split")),0,b(9,1036,13,0,""))),b(18,1031,1,0,b(3,1037,10,0,b(30,1037,10,0,"typeof",b(3,1037,21,0,b(17,1037,21,0,"x"),".",b(9,1037,24,0,"length"))),"===",b(9,1037,10,0,"number")),b(23,1038,1,0,b(7,1038,1,0,b(3,1038,1,0,b(17,1038,1,0,"__slice"),".",b(9,1038,1,0,"call")),0,b(17,1038,14,0,"x"))),b(26,1040,1,0,b(7,1040,10,0,b(17,1040,10,0,"TypeError"),0,b(3,1040,21,0,b(9,1040,21,0,"Expected an object with a length property, got "),"+",b(7,1040,73,0,b(17,1040,73,0,"__typeof"),0,b(17,1040,81,0,"x")))))))))),type:a.generic(a.functionBase,a.array),dependencies:["__isArray","__slice","__typeof"]},__create:{helper:b(19,1042,25,0,b(3,1042,28,0,b(30,1042,28,0,"typeof",b(3,1042,41,0,b(17,1042,41,0,"Object"),".",b(9,1042,49,0,"create"))),"===",b(9,1042,28,0,"function")),b(3,1043,1,0,b(17,1043,1,0,"Object"),".",b(9,1043,10,0,"create")),b(16,1045,4,0,0,[b(17,1045,5,0,"x")],0,b(4,1046,1,0,0,b(16,1046,1,0,b(17,1046,8,0,"F"),0,0,b(20,1046,15,0)),b(3,1047,1,0,b(3,1047,1,0,b(17,1047,1,0,"F"),".",b(9,1047,7,0,"prototype")),"=",b(17,1047,19,0,"x")),b(23,1048,1,0,b(7,1048,1,0,b(17,1048,8,0,"F"),1))))),type:a.any,dependencies:[]},__pow:{helper:b(3,1050,22,0,b(17,1050,22,0,"Math"),".",b(9,1050,28,0,"pow")),type:a.any,dependencies:[]},__floor:{helper:b(3,1051,24,0,b(17,1051,24,0,"Math"),".",b(9,1051,30,0,"floor")),type:a.any,dependencies:[]},__sqrt:{helper:b(3,1052,23,0,b(17,1052,23,0,"Math"),".",b(9,1052,29,0,"sqrt")),type:a.any,dependencies:[]},__log:{helper:b(3,1053,22,0,b(17,1053,22,0,"Math"),".",b(9,1053,28,0,"log")),type:a.any,dependencies:[]},__in:{helper:b(19,1197,21,0,b(3,1197,24,0,b(30,1197,24,0,"typeof",b(3,1197,37,0,b(3,1197,37,0,b(17,1197,37,0,"Array"),".",b(9,1197,44,0,"prototype")),".",b(9,1197,54,0,"indexOf"))),"===",b(9,1197,24,0,"function")),b(7,1198,1,0,b(16,1198,1,0,0,0,["indexOf"],b(4,1199,1,0,0,b(3,1199,1,0,b(17,1199,8,0,"indexOf"),"=",b(3,1199,19,0,b(3,1199,19,0,b(17,1199,19,0,"Array"),".",b(9,1199,26,0,"prototype")),".",b(9,1199,36,0,"indexOf"))),b(23,1200,6,0,b(16,1200,6,0,0,[b(17,1200,7,0,"child"),b(17,1200,13,0,"parent")],0,b(23,1200,35,0,b(3,1200,35,0,b(7,1200,35,0,b(3,1200,35,0,b(17,1200,35,0,"indexOf"),".",b(9,1200,35,0,"call")),0,b(17,1200,46,0,"parent"),b(17,1200,53,0,"child")),"!==",b(9,1200,63,0,-1))))))),0),b(16,1202,4,0,0,[b(17,1202,5,0,"child"),b(17,1202,11,0,"parent")],["i","len"],b(4,1203,1,0,0,b(3,1203,1,0,b(17,1203,8,0,"len"),"=",b(30,1203,14,0,"+",b(3,1203,17,0,b(17,1203,17,0,"parent"),".",b(9,1203,24,0,"length")))),b(3,1204,1,0,b(17,1204,16,0,"i"),"=",b(9,1204,20,0,-1)),b(14,1205,1,0,b(20,1205,1,0),b(3,1205,10,0,b(30,1205,12,0,"++",b(17,1205,12,0,"i")),"<",b(17,1205,22,0,"len")),b(20,1205,1,0),b(18,1206,1,0,b(3,1206,9,0,b(3,1206,9,0,b(17,1206,9,0,"child"),"===",b(3,1206,18,0,b(17,1206,18,0,"parent"),".",b(17,1206,26,0,"i"))),"&&",b(3,1206,32,0,b(17,1206,46,0,"i"),"in",b(17,1206,32,0,"parent"))),b(23,1207,1,0,b(9,1207,15,0,!0)))),b(23,1208,1,0,b(9,1208,1,0,!1))))),type:a.generic(a.functionBase,a.boolean),dependencies:[]},__genericFunc:{helper:b(16,1711,33,0,0,[b(17,1711,34,0,"numArgs"),b(17,1711,53,0,"make")],["any","cache","result"],b(4,1712,1,0,0,b(3,1712,1,0,b(17,1712,6,0,"cache"),"=",b(7,1712,14,0,b(17,1712,14,0,"WeakMap"),0)),b(3,1713,1,0,b(17,1713,6,0,"any"),"=",b(21,1713,12,0)),b(16,1714,1,0,b(17,1714,6,0,"generic"),0,["_ref","current","i","item","type"],b(4,1715,1,0,0,b(3,1715,1,0,b(17,1715,45,0,"current"),"=",b(17,1715,55,0,"cache")),b(14,1715,1,0,b(3,1715,20,0,b(17,1715,15,0,"i"),"=",b(3,1715,20,0,b(17,1715,20,0,"numArgs"),"-",b(9,1715,32,0,1))),b(3,1715,20,0,b(17,1715,15,0,"i"),">=",b(9,1715,37,0,0)),b(30,1715,41,0,"--",b(17,1715,15,0,"i")),b(4,1716,1,0,0,b(18,1716,17,0,b(3,1716,17,0,b(3,1716,17,0,b(17,1716,17,0,"_ref"),"=",b(3,1716,17,0,b(1,1716,17,0),".",b(17,1716,28,0,"i"))),"!=",b(9,0,0,0,null)),b(3,1716,1,0,b(17,1716,10,0,"type"),"=",b(17,1716,17,0,"_ref")),b(3,1716,1,0,b(17,1716,10,0,"type"),"=",b(17,1716,32,0,"any"))),b(3,1717,1,0,b(17,1717,18,0,"item"),"=",b(7,1717,25,0,b(3,1717,25,0,b(17,1717,25,0,"current"),".",b(9,1717,34,0,"get")),0,b(17,1717,38,0,"type"))),b(18,1718,1,0,b(3,1718,9,0,b(17,1718,13,0,"item"),"==",b(9,0,0,0,null)),b(4,1719,1,0,0,b(18,1719,16,0,b(3,1719,19,0,b(17,1719,19,0,"i"),"===",b(9,1719,25,0,0)),b(3,1719,1,0,b(17,1719,1,0,"item"),"=",b(7,1720,1,0,b(3,1720,1,0,b(17,1720,1,0,"make"),".",b(9,1720,1,0,"apply")),0,b(25,1720,17,0),b(1,1720,26,0))),b(3,1719,1,0,b(17,1719,1,0,"item"),"=",b(7,1722,1,0,b(17,1722,1,0,"WeakMap"),0))),b(7,1723,1,0,b(3,1723,1,0,b(17,1723,1,0,"current"),".",b(9,1723,17,0,"set")),0,b(17,1723,21,0,"type"),b(17,1723,26,0,"item")))),b(3,1724,1,0,b(17,1715,45,0,"current"),"=",b(17,1724,1,0,"item")))),b(23,1715,45,0,b(17,1715,45,0,"current")))),b(3,1725,1,0,b(17,1725,6,0,"result"),"=",b(7,1725,15,0,b(17,1725,15,0,"generic"),0)),b(3,1726,1,0,b(3,1726,1,0,b(17,1726,1,0,"result"),".",b(9,1726,10,0,"generic")),"=",b(17,1726,20,0,"generic")),b(23,1727,1,0,b(17,1727,1,0,"result")))),type:a["function"],dependencies:["__toArray","WeakMap"]},__range:{helper:b(16,2038,1,0,0,[b(17,2037,27,0,"start"),b(17,2037,43,0,"end"),b(17,2037,58,0,"step"),b(17,2037,74,0,"inclusive")],["i","result"],b(4,2038,1,0,0,b(18,2037,27,0,b(3,2037,27,0,b(30,2037,27,0,"typeof",b(17,2037,27,0,"start")),"!==",b(9,2037,27,0,"number")),b(26,2037,27,0,b(7,2037,27,0,b(17,2037,27,0,"TypeError"),0,b(3,2037,27,0,b(9,2037,27,0,"Expected start to be a Number, got "),"+",b(7,2037,27,0,b(17,2037,27,0,"__typeof"),0,b(17,2037,27,0,"start")))))),b(18,2037,43,0,b(3,2037,43,0,b(30,2037,43,0,"typeof",b(17,2037,43,0,"end")),"!==",b(9,2037,43,0,"number")),b(26,2037,43,0,b(7,2037,43,0,b(17,2037,43,0,"TypeError"),0,b(3,2037,43,0,b(9,2037,43,0,"Expected end to be a Number, got "),"+",b(7,2037,43,0,b(17,2037,43,0,"__typeof"),0,b(17,2037,43,0,"end")))))),b(18,2037,58,0,b(3,2037,58,0,b(30,2037,58,0,"typeof",b(17,2037,58,0,"step")),"!==",b(9,2037,58,0,"number")),b(26,2037,58,0,b(7,2037,58,0,b(17,2037,58,0,"TypeError"),0,b(3,2037,58,0,b(9,2037,58,0,"Expected step to be a Number, got "),"+",b(7,2037,58,0,b(17,2037,58,0,"__typeof"),0,b(17,2037,58,0,"step")))))),b(18,2037,74,0,b(3,2037,74,0,b(17,2037,74,0,"inclusive"),"==",b(9,0,0,0,null)),b(3,2037,74,0,b(17,2037,74,0,"inclusive"),"=",b(9,0,0,0,!1)),b(18,2037,74,0,b(3,2037,74,0,b(30,2037,74,0,"typeof",b(17,2037,74,0,"inclusive")),"!==",b(9,2037,74,0,"boolean")),b(26,2037,74,0,b(7,2037,74,0,b(17,2037,74,0,"TypeError"),0,b(3,2037,74,0,b(9,2037,74,0,"Expected inclusive to be a Boolean, got "),"+",b(7,2037,74,0,b(17,2037,74,0,"__typeof"),0,b(17,2037,74,0,"inclusive"))))))),b(18,2038,1,0,b(3,2038,5,0,b(17,2038,5,0,"step"),"===",b(9,2038,14,0,0)),b(26,2039,1,0,b(7,2039,10,0,b(17,2039,10,0,"RangeError"),0,b(9,2039,22,0,"step cannot be zero"))),b(18,2038,1,0,b(30,2040,10,0,"!",b(7,2040,14,0,b(17,2040,14,0,"isFinite"),0,b(17,2040,25,0,"start"))),b(26,2041,1,0,b(7,2041,10,0,b(17,2041,10,0,"RangeError"),0,b(9,2041,22,0,"start must be finite"))),b(18,2038,1,0,b(30,2042,10,0,"!",b(7,2042,14,0,b(17,2042,14,0,"isFinite"),0,b(17,2042,25,0,"end"))),b(26,2043,1,0,b(7,2043,10,0,b(17,2043,10,0,"RangeError"),0,b(9,2043,22,0,"end must be finite")))))),b(3,2044,1,0,b(17,2044,6,0,"result"),"=",b(2,2044,15,0)),b(3,2045,1,0,b(17,2045,14,0,"i"),"=",b(17,2045,18,0,"start")),b(18,2046,1,0,b(3,2046,5,0,b(17,2046,5,0,"step"),">",b(9,2046,14,0,0)),b(4,2047,1,0,0,b(14,2047,1,0,b(20,2047,1,0),b(3,2047,10,0,b(17,2047,10,0,"i"),"<",b(17,2047,15,0,"end")),b(3,2047,20,0,b(17,2047,20,0,"i"),"+=",b(17,2047,26,0,"step")),b(7,2048,1,0,b(3,2048,1,0,b(17,2048,1,0,"result"),".",b(9,2048,14,0,"push")),0,b(17,2048,19,0,"i"))),b(18,2049,1,0,b(3,2049,7,0,b(17,2049,7,0,"inclusive"),"&&",b(3,2049,21,0,b(17,2049,21,0,"i"),"<=",b(17,2049,27,0,"end"))),b(7,2050,1,0,b(3,2050,1,0,b(17,2050,1,0,"result"),".",b(9,2050,14,0,"push")),0,b(17,2050,19,0,"i")))),b(4,2052,1,0,0,b(14,2052,1,0,b(20,2052,1,0),b(3,2052,10,0,b(17,2052,10,0,"i"),">",b(17,2052,15,0,"end")),b(3,2052,20,0,b(17,2052,20,0,"i"),"+=",b(17,2052,26,0,"step")),b(7,2053,1,0,b(3,2053,1,0,b(17,2053,1,0,"result"),".",b(9,2053,14,0,"push")),0,b(17,2053,19,0,"i"))),b(18,2054,1,0,b(3,2054,7,0,b(17,2054,7,0,"inclusive"),"&&",b(3,2054,21,0,b(17,2054,21,0,"i"),">=",b(17,2054,27,0,"end"))),b(7,2055,1,0,b(3,2055,1,0,b(17,2055,1,0,"result"),".",b(9,2055,14,0,"push")),0,b(17,2055,19,0,"i"))))),b(23,2056,1,0,b(17,2056,1,0,"result")))),type:a.generic(a.functionBase,a.numberArray),dependencies:["__typeof"]},__step:{helper:b(16,2059,1,0,0,[b(17,2058,26,0,"array"),b(17,2058,32,0,"step")],["i","len","result"],b(4,2059,1,0,0,b(18,2058,32,0,b(3,2058,32,0,b(30,2058,32,0,"typeof",b(17,2058,32,0,"step")),"!==",b(9,2058,32,0,"number")),b(26,2058,32,0,b(7,2058,32,0,b(17,2058,32,0,"TypeError"),0,b(3,2058,32,0,b(9,2058,32,0,"Expected step to be a Number, got "),"+",b(7,2058,32,0,b(17,2058,32,0,"__typeof"),0,b(17,2058,32,0,"step")))))),b(18,2059,1,0,b(3,2059,5,0,b(17,2059,5,0,"step"),"===",b(9,2059,14,0,0)),b(26,2060,1,0,b(7,2060,10,0,b(17,2060,10,0,"RangeError"),0,b(9,2060,22,0,"step cannot be zero"))),b(18,2059,1,0,b(3,2061,10,0,b(17,2061,10,0,"step"),"===",b(9,2061,19,0,1)),b(23,2062,1,0,b(7,2062,1,0,b(17,2062,1,0,"__toArray"),0,b(17,2062,16,0,"array"))),b(18,2059,1,0,b(3,2063,10,0,b(17,2063,10,0,"step"),"===",b(9,2063,18,0,-1)),b(23,2064,1,0,b(7,2064,1,0,b(3,2064,1,0,b(7,2064,1,0,b(3,2064,1,0,b(17,2064,1,0,"__slice"),".",b(9,2064,1,0,"call")),0,b(17,2064,14,0,"array")),".",b(9,2064,21,0,"reverse")),0)),b(18,2059,1,0,b(3,2065,10,0,b(3,2065,10,0,b(17,2065,10,0,"step"),"%",b(9,2065,23,0,1)),"!==",b(9,2065,10,0,0)),b(26,2066,1,0,b(7,2066,10,0,b(17,2066,10,0,"RangeError"),0,b(3,2066,22,0,b(9,2066,22,0,"step must be an integer, got "),"+",b(7,2066,54,0,b(17,2066,54,0,"String"),0,b(17,2066,61,0,"step"))))),b(4,2068,1,0,0,b(3,2068,1,0,b(17,2068,8,0,"result"),"=",b(2,2068,17,0)),b(18,2069,1,0,b(3,2069,7,0,b(17,2069,7,0,"step"),">",b(9,2069,15,0,0)),b(4,2070,1,0,0,b(3,2070,1,0,b(17,2070,18,0,"i"),"=",b(9,2070,23,0,0)),b(3,2071,1,0,b(17,2071,10,0,"len"),"=",b(7,2071,16,0,b(17,2071,16,0,"__num"),0,b(3,2071,18,0,b(17,2071,18,0,"array"),".",b(9,2071,24,0,"length")))),b(14,2072,1,0,b(20,2072,1,0),b(3,2072,12,0,b(17,2072,12,0,"i"),"<",b(17,2072,16,0,"len")),b(3,2072,21,0,b(17,2072,21,0,"i"),"+=",b(17,2072,26,0,"step")),b(7,2073,1,0,b(3,2073,1,0,b(17,2073,1,0,"result"),".",b(9,2073,16,0,"push")),0,b(3,2073,21,0,b(17,2073,21,0,"array"),".",b(17,2073,27,0,"i"))))),b(4,2075,1,0,0,b(3,2075,1,0,b(17,2075,18,0,"i"),"=",b(3,2075,22,0,b(7,2075,22,0,b(17,2075,22,0,"__num"),0,b(3,2075,22,0,b(17,2075,22,0,"array"),".",b(9,2075,29,0,"length"))),"-",b(9,2075,38,0,1))),b(14,2076,1,0,b(20,2076,1,0),b(3,2076,12,0,b(17,2076,12,0,"i"),">=",b(9,2076,18,0,0)),b(3,2076,20,0,b(17,2076,20,0,"i"),"+=",b(17,2076,25,0,"step")),b(7,2077,1,0,b(3,2077,1,0,b(17,2077,1,0,"result"),".",b(9,2077,16,0,"push")),0,b(3,2077,21,0,b(17,2077,21,0,"array"),".",b(17,2077,27,0,"i")))))),b(23,2078,1,0,b(17,2078,1,0,"result"))))))))),type:a.generic(a.functionBase,a.array),dependencies:["__num","__slice","__toArray","__typeof"]},__sliceStep:{helper:b(16,2080,31,0,0,[b(17,2080,32,0,"array"),b(17,2080,38,0,"start"),b(17,2080,45,0,"end"),b(17,2080,58,0,"step"),b(17,2080,64,0,"inclusive")],["arr"],b(4,2081,1,0,0,b(18,2081,12,0,b(3,2081,15,0,b(17,2081,15,0,"step"),"<",b(9,2081,24,0,0)),b(3,2081,1,0,b(17,2081,6,0,"arr"),"=",b(7,2082,1,0,b(3,2082,1,0,b(17,2082,1,0,"__slice"),".",b(9,2082,1,0,"call")),0,b(17,2082,14,0,"array"),b(19,2082,20,0,b(17,2082,23,0,"inclusive"),b(17,2082,38,0,"end"),b(3,2082,47,0,b(30,2082,47,0,"+",b(17,2082,47,0,"end")),"+",b(9,2082,55,0,1))),b(3,2082,57,0,b(3,2082,57,0,b(30,2082,57,0,"+",b(17,2082,57,0,"start")),"+",b(9,2082,67,0,1)),"||",b(9,2082,71,0,1/0)))),b(3,2081,1,0,b(17,2081,6,0,"arr"),"=",b(7,2084,1,0,b(3,2084,1,0,b(17,2084,1,0,"__slice"),".",b(9,2084,1,0,"call")),0,b(17,2084,14,0,"array"),b(17,2084,20,0,"start"),b(19,2084,27,0,b(17,2084,30,0,"inclusive"),b(3,2084,45,0,b(3,2084,45,0,b(30,2084,45,0,"+",b(17,2084,45,0,"end")),"+",b(9,2084,53,0,1)),"||",b(9,2084,57,0,1/0)),b(17,2084,71,0,"end"))))),b(18,2085,1,0,b(3,2085,5,0,b(17,2085,5,0,"step"),"===",b(9,2085,14,0,1)),b(23,2086,1,0,b(17,2086,1,0,"arr")),b(18,2085,1,0,b(3,2087,10,0,b(17,2087,10,0,"step"),"===",b(9,2087,18,0,-1)),b(23,2088,1,0,b(7,2088,1,0,b(3,2088,1,0,b(17,2088,1,0,"arr"),".",b(9,2088,9,0,"reverse")),0)),b(23,2090,1,0,b(7,2090,1,0,b(17,2090,1,0,"__step"),0,b(17,2090,12,0,"arr"),b(17,2090,16,0,"step"))))))),type:a.generic(a.functionBase,a.array),dependencies:["__slice","__step"]},__arrayToIter:{helper:b(7,2189,32,0,b(16,2189,32,0,0,0,["proto"],b(4,2190,1,0,0,b(3,2190,1,0,b(17,2190,6,0,"proto"),"=",b(21,2190,14,0,2191,5,void 0,"iterator",b(16,2191,16,0,0,0,0,b(23,2191,18,0,b(25,2191,18,0))),2192,5,void 0,"next",b(16,2192,12,0,0,0,["array","i"],b(4,2193,1,0,0,b(3,2193,1,0,b(17,2193,10,0,"i"),"=",b(3,2193,14,0,b(7,2193,14,0,b(17,2193,14,0,"__num"),0,b(3,2193,14,0,b(25,2193,14,0),".",b(9,2193,16,0,"index"))),"+",b(9,2193,24,0,1))),b(3,2194,1,0,b(17,2194,10,0,"array"),"=",b(3,2194,18,0,b(25,2194,18,0),".",b(9,2194,20,0,"array"))),b(18,2195,1,0,b(3,2195,9,0,b(17,2195,9,0,"i"),">=",b(7,2195,9,0,b(17,2195,9,0,"__num"),0,b(3,2195,14,0,b(17,2195,14,0,"array"),".",b(9,2195,21,0,"length")))),b(23,2196,1,0,b(21,2196,1,0,2196,11,void 0,"done",b(9,2196,16,0,!0),2196,22,void 0,"value",b(9,2196,29,0))),b(4,2198,1,0,0,b(3,2198,1,0,b(3,2198,1,0,b(25,2198,1,0),".",b(9,2198,10,0,"index")),"=",b(17,2198,18,0,"i")),b(23,2199,1,0,b(21,2199,1,0,2199,11,void 0,"done",b(9,2199,16,0,!1),2199,23,void 0,"value",b(3,2199,30,0,b(17,2199,30,0,"array"),".",b(17,2199,37,0,"i")))))))))),b(23,2202,1,0,b(16,2202,1,0,0,[b(17,2201,5,0,"array")],["_o"],b(4,2202,1,0,0,b(18,2201,5,0,b(30,2201,5,0,"!",b(7,2201,5,0,b(17,2201,5,0,"__isArray"),0,b(17,2201,5,0,"array"))),b(26,2201,5,0,b(7,2201,5,0,b(17,2201,5,0,"TypeError"),0,b(3,2201,5,0,b(9,2201,5,0,"Expected array to be an Array, got "),"+",b(7,2201,5,0,b(17,2201,5,0,"__typeof"),0,b(17,2201,5,0,"array")))))),b(3,2202,1,0,b(17,2202,1,0,"_o"),"=",b(7,2202,1,0,b(17,2202,1,0,"__create"),0,b(17,2202,14,0,"proto"))),b(3,2203,7,0,b(3,2203,7,0,b(17,2202,1,0,"_o"),".",b(9,2203,7,0,"array")),"=",b(17,2203,7,0,"array")),b(3,2204,7,0,b(3,2204,7,0,b(17,2202,1,0,"_o"),".",b(9,2204,7,0,"index")),"=",b(9,2204,13,0,-1)),b(23,2202,1,0,b(17,2202,1,0,"_o"))))))),0),type:a.generic(a.functionBase,a.makeObject({array:a.array,index:a.number})),dependencies:["__create","__isArray","__num","__typeof"]},__iter:{helper:b(16,2207,25,0,0,[b(17,2207,26,0,"iterable")],0,b(18,2208,1,0,b(3,2208,5,0,b(17,2208,9,0,"iterable"),"==",b(9,0,0,0,null)),b(26,2209,1,0,b(7,2209,10,0,b(17,2209,10,0,"TypeError"),0,b(3,2209,21,0,b(9,2209,21,0,"Expected iterable to be an Object, got "),"+",b(7,2209,63,0,b(17,2209,63,0,"__typeof"),0,b(17,2209,70,0,"iterable"))))),b(18,2208,1,0,b(7,2210,10,0,b(17,2210,10,0,"__isArray"),0,b(17,2210,20,0,"iterable")),b(23,2211,1,0,b(7,2211,1,0,b(17,2211,1,0,"__arrayToIter"),0,b(17,2211,21,0,"iterable"))),b(18,2208,1,0,b(3,2212,10,0,b(30,2212,10,0,"typeof",b(3,2212,23,0,b(17,2212,23,0,"iterable"),".",b(9,2212,33,0,"iterator"))),"===",b(9,2212,10,0,"function")),b(23,2213,1,0,b(7,2213,1,0,b(3,2213,1,0,b(17,2213,1,0,"iterable"),".",b(9,2213,14,0,"iterator")),0)),b(18,2208,1,0,b(3,2214,10,0,b(30,2214,10,0,"typeof",b(3,2214,23,0,b(17,2214,23,0,"iterable"),".",b(9,2214,33,0,"next"))),"===",b(9,2214,10,0,"function")),b(23,2215,1,0,b(17,2215,1,0,"iterable")),b(26,2217,1,0,b(7,2217,10,0,b(17,2217,10,0,"Error"),0,b(3,2217,17,0,b(9,2217,17,0,"Expected iterable to be an Array or an Object with an 'iterator' function or an Object with a 'next' function, got "),"+",b(7,2217,135,0,b(17,2217,135,0,"__typeof"),0,b(17,2217,142,0,"iterable")))))))))),type:a["function"],dependencies:["__arrayToIter","__isArray","__typeof"]},__keys:{helper:b(19,2386,23,0,b(3,2386,26,0,b(30,2386,26,0,"typeof",b(3,2386,39,0,b(17,2386,39,0,"Object"),".",b(9,2386,47,0,"keys"))),"===",b(9,2386,26,0,"function")),b(3,2387,1,0,b(17,2387,1,0,"Object"),".",b(9,2387,10,0,"keys")),b(16,2389,4,0,0,[b(17,2389,5,0,"x")],["key","keys"],b(4,2390,1,0,0,b(3,2390,1,0,b(17,2390,8,0,"keys"),"=",b(2,2390,15,0)),b(15,2391,1,0,b(17,2391,8,0,"key"),b(17,2391,15,0,"x"),b(18,2392,1,0,b(7,2392,1,0,b(3,2392,1,0,b(17,2392,1,0,"__owns"),".",b(9,2392,1,0,"call")),0,b(17,2391,15,0,"x"),b(17,2391,8,0,"key")),b(7,2392,1,0,b(3,2392,1,0,b(17,2392,1,0,"keys"),".",b(9,2392,12,0,"push")),0,b(17,2392,17,0,"key")))),b(23,2393,1,0,b(17,2393,1,0,"keys"))))),type:a.any,dependencies:["__owns"]},__allkeys:{helper:b(16,2398,28,0,0,[b(17,2398,29,0,"x")],["key","keys"],b(4,2399,1,0,0,b(3,2399,1,0,b(17,2399,6,0,"keys"),"=",b(2,2399,13,0)),b(15,2400,1,0,b(17,2400,6,0,"key"),b(17,2400,16,0,"x"),b(7,2401,1,0,b(3,2401,1,0,b(17,2401,1,0,"keys"),".",b(9,2401,10,0,"push")),0,b(17,2401,15,0,"key"))),b(23,2402,1,0,b(17,2402,1,0,"keys")))),type:a.generic(a.functionBase,a.stringArray),dependencies:[]},__new:{helper:b(7,2407,22,0,b(16,2407,22,0,0,0,["newCreators"],b(4,2408,1,0,0,b(3,2408,1,0,b(17,2408,6,0,"newCreators"),"=",b(2,2408,21,0)),b(23,2409,4,0,b(16,2409,4,0,0,0,["creator","func","i","length"],b(4,2410,1,0,0,b(18,2410,1,0,b(3,2410,7,0,b(30,2410,11,0,"typeof",b(25,2410,24,0)),"!==",b(9,2410,11,0,"function")),b(26,2411,1,0,b(7,2411,12,0,b(17,2411,12,0,"Error"),0,b(3,2411,19,0,b(9,2411,19,0,"Expected this to be a Function, got "),"+",b(7,2411,58,0,b(17,2411,58,0,"__typeof"),0,b(25,2411,65,0)))))),b(3,2412,1,0,b(17,2412,8,0,"length"),"=",b(3,2412,17,0,b(1,2412,17,0),".",b(9,2412,28,0,"length"))),b(3,2413,1,0,b(17,2413,16,0,"creator"),"=",b(3,2413,26,0,b(17,2413,26,0,"newCreators"),".",b(17,2413,40,0,"length"))),b(18,2414,1,0,b(30,2414,7,0,"!",b(17,2414,11,0,"creator")),b(4,2415,1,0,0,b(3,2415,1,0,b(17,2415,10,0,"func"),"=",b(2,2415,17,0,b(9,2415,19,0,"return new C("))),b(14,2416,1,0,b(5,2416,1,0,b(3,2416,16,0,b(17,2416,10,0,"i"),"=",b(9,2416,16,0,0)),b(17,2416,21,0,"length")),b(3,2416,15,0,b(17,2416,10,0,"i"),"<",b(17,2416,21,0,"length")),b(30,2416,15,0,"++",b(17,2416,10,0,"i")),b(4,2417,1,0,0,b(18,2417,1,0,b(3,2417,11,0,b(17,2417,11,0,"i"),">",b(9,2417,16,0,0)),b(7,2418,1,0,b(3,2418,1,0,b(17,2418,1,0,"func"),".",b(9,2418,16,0,"push")),0,b(9,2418,21,0,", "))),b(7,2419,1,0,b(3,2419,1,0,b(17,2419,1,0,"func"),".",b(9,2419,14,0,"push")),0,b(9,2419,19,0,"a["),b(17,2419,24,0,"i"),b(9,2419,28,0,"]")))),b(7,2420,1,0,b(3,2420,1,0,b(17,2420,1,0,"func"),".",b(9,2420,12,0,"push")),0,b(9,2420,17,0,");")),b(3,2421,1,0,b(17,2421,1,0,"creator"),"=",b(7,2421,17,0,b(17,2421,17,0,"Function"),0,b(9,2421,27,0,"C"),b(9,2421,32,0,"a"),b(7,2421,36,0,b(3,2421,36,0,b(17,2421,36,0,"func"),".",b(9,2421,42,0,"join")),0,b(9,2421,47,0,"")))),b(3,2422,1,0,b(3,2422,1,0,b(17,2422,1,0,"newCreators"),".",b(17,2422,20,0,"length")),"=",b(17,2422,30,0,"creator")))),b(23,2423,1,0,b(7,2423,1,0,b(17,2423,1,0,"creator"),0,b(25,2423,13,0),b(1,2423,18,0)))))))),0),type:a["function"],dependencies:["__typeof"]},__instanceofsome:{helper:b(16,2425,35,0,0,[b(17,2425,36,0,"value"),b(17,2425,42,0,"array")],["_arr","_i","_some","item"],b(4,2426,1,0,0,b(3,2426,1,0,b(17,2426,1,0,"_some"),"=",b(9,0,0,0,!1)),b(14,2426,1,0,b(5,2426,1,0,b(3,2426,1,0,b(17,2426,1,0,"_arr"),"=",b(7,2426,19,0,b(17,2426,19,0,"__toArray"),0,b(17,2426,19,0,"array"))),b(3,2426,1,0,b(17,2426,1,0,"_i"),"=",b(3,2426,1,0,b(17,2426,1,0,"_arr"),".",b(9,2426,1,0,"length")))),b(30,2426,1,0,"--post",b(17,2426,1,0,"_i")),b(20,2426,1,0),b(4,2427,1,0,0,b(3,2427,1,0,b(17,2426,11,0,"item"),"=",b(3,2426,1,0,b(17,2426,1,0,"_arr"),".",b(17,2426,1,0,"_i"))),b(18,2427,1,0,b(3,2427,1,0,b(17,2427,1,0,"value"),"instanceof",b(17,2427,21,0,"item")),b(4,2427,1,0,0,b(3,2427,1,0,b(17,2426,1,0,"_some"),"=",b(9,0,0,0,!0)),b(6,2427,1,0))))),b(23,2426,1,0,b(17,2426,1,0,"_some")))),type:a.generic(a.functionBase,a.boolean),dependencies:["__toArray"]},__getInstanceof:{helper:b(7,2429,33,0,b(16,2429,33,0,0,0,0,b(4,2430,1,0,0,b(16,2430,1,0,b(17,2430,6,0,"isAny"),0,0,b(23,2430,19,0,b(9,2430,19,0,!0))),b(16,2431,1,0,b(17,2431,6,0,"isStr"),[b(17,2431,17,0,"x")],0,b(23,2431,17,0,b(3,2431,17,0,b(30,2431,17,0,"typeof",b(17,2431,17,0,"x")),"===",b(9,2431,17,0,"string")))),b(16,2432,1,0,b(17,2432,6,0,"isNum"),[b(17,2432,17,0,"x")],0,b(23,2432,17,0,b(3,2432,17,0,b(30,2432,17,0,"typeof",b(17,2432,17,0,"x")),"===",b(9,2432,17,0,"number")))),b(16,2433,1,0,b(17,2433,6,0,"isFunc"),[b(17,2433,18,0,"x")],0,b(23,2433,18,0,b(3,2433,18,0,b(30,2433,18,0,"typeof",b(17,2433,18,0,"x")),"===",b(9,2433,18,0,"function")))),b(16,2434,1,0,b(17,2434,6,0,"isBool"),[b(17,2434,18,0,"x")],0,b(23,2434,18,0,b(3,2434,18,0,b(30,2434,18,0,"typeof",b(17,2434,18,0,"x")),"===",b(9,2434,18,0,"boolean")))),b(23,2435,4,0,b(16,2435,4,0,0,[b(17,2435,5,0,"ctor")],0,b(18,2436,1,0,b(3,2436,7,0,b(17,2436,11,0,"ctor"),"==",b(9,0,0,0,null)),b(23,2437,1,0,b(17,2437,1,0,"isAny")),b(27,2439,1,0,0,b(17,2439,13,0,"ctor"),2440,11,0,b(17,2440,11,0,"String"),b(23,2440,19,0,b(17,2440,19,0,"isStr")),2441,11,0,b(17,2441,11,0,"Number"),b(23,2441,19,0,b(17,2441,19,0,"isNum")),2442,11,0,b(17,2442,11,0,"Function"),b(23,2442,21,0,b(17,2442,21,0,"isFunc")),2443,11,0,b(17,2443,11,0,"Boolean"),b(23,2443,20,0,b(17,2443,20,0,"isBool")),2444,11,0,b(17,2444,11,0,"Array"),b(23,2444,18,0,b(17,2444,18,0,"__isArray")),2445,11,0,b(17,2445,11,0,"Object"),b(23,2445,19,0,b(17,2445,19,0,"__isObject")),b(23,2446,17,0,b(16,2446,17,0,0,[b(17,2446,17,0,"_x")],0,b(23,2446,17,0,b(3,2446,17,0,b(17,2446,17,0,"_x"),"instanceof",b(17,2446,27,0,"ctor"))))))))))),0),type:a.generic(a.functionBase,a.generic(a.functionBase,a.boolean)),dependencies:["__isArray","__isObject"]},__name:{helper:b(16,2448,50,0,0,[b(17,2448,26,0,"func")],0,b(4,2448,50,0,0,b(18,2448,26,0,b(3,2448,26,0,b(30,2448,26,0,"typeof",b(17,2448,26,0,"func")),"!==",b(9,2448,26,0,"function")),b(26,2448,26,0,b(7,2448,26,0,b(17,2448,26,0,"TypeError"),0,b(3,2448,26,0,b(9,2448,26,0,"Expected func to be a Function, got "),"+",b(7,2448,26,0,b(17,2448,26,0,"__typeof"),0,b(17,2448,26,0,"func")))))),b(23,2448,50,0,b(3,2448,50,0,b(3,2448,50,0,b(3,2448,50,0,b(17,2448,50,0,"func"),".",b(9,2448,56,0,"displayName")),"||",b(3,2448,71,0,b(17,2448,71,0,"func"),".",b(9,2448,77,0,"name"))),"||",b(9,2448,85,0,""))))),type:a.generic(a.functionBase,a.string),dependencies:["__typeof"]},__once:{helper:b(7,2450,23,0,b(16,2450,23,0,0,0,0,b(4,2451,1,0,0,b(16,2451,1,0,b(17,2451,6,0,"replacement"),0,0,b(26,2451,23,0,b(7,2451,29,0,b(17,2451,29,0,"Error"),0,b(9,2451,36,0,"Attempted to call function more than once")))),b(16,2452,1,0,b(17,2452,6,0,"doNothing"),0,0,b(20,2452,22,0)),b(23,2453,53,0,b(16,2453,53,0,0,[b(17,2453,12,0,"func"),b(17,2453,24,0,"silentFail")],0,b(4,2453,53,0,0,b(18,2453,12,0,b(3,2453,12,0,b(30,2453,12,0,"typeof",b(17,2453,12,0,"func")),"!==",b(9,2453,12,0,"function")),b(26,2453,12,0,b(7,2453,12,0,b(17,2453,12,0,"TypeError"),0,b(3,2453,12,0,b(9,2453,12,0,"Expected func to be a Function, got "),"+",b(7,2453,12,0,b(17,2453,12,0,"__typeof"),0,b(17,2453,12,0,"func")))))),b(18,2453,24,0,b(3,2453,24,0,b(17,2453,24,0,"silentFail"),"==",b(9,0,0,0,null)),b(3,2453,24,0,b(17,2453,24,0,"silentFail"),"=",b(9,0,0,0,!1)),b(18,2453,24,0,b(3,2453,24,0,b(30,2453,24,0,"typeof",b(17,2453,24,0,"silentFail")),"!==",b(9,2453,24,0,"boolean")),b(26,2453,24,0,b(7,2453,24,0,b(17,2453,24,0,"TypeError"),0,b(3,2453,24,0,b(9,2453,24,0,"Expected silentFail to be a Boolean, got "),"+",b(7,2453,24,0,b(17,2453,24,0,"__typeof"),0,b(17,2453,24,0,"silentFail"))))))),b(23,2453,53,0,b(16,2453,53,0,0,0,["f"],b(4,2454,1,0,0,b(3,2454,1,0,b(17,2454,8,0,"f"),"=",b(17,2454,12,0,"func")),b(18,2455,12,0,b(17,2455,15,0,"silentFail"),b(3,2455,1,0,b(17,2455,1,0,"func"),"=",b(17,2455,32,0,"doNothing")),b(3,2455,1,0,b(17,2455,1,0,"func"),"=",b(17,2455,48,0,"replacement"))),b(23,2456,1,0,b(7,2456,1,0,b(3,2456,1,0,b(17,2456,1,0,"f"),".",b(9,2456,1,0,"apply")),0,b(25,2456,8,0),b(1,2456,17,0))))))))))),0),type:a.generic(a.functionBase,a["function"]),dependencies:["__toArray","__typeof"]},__async:{helper:b(16,2559,1,0,0,[b(17,2558,34,0,"limit"),b(17,2558,51,0,"length"),b(17,2558,69,0,"hasResult"),b(17,2558,92,0,"onValue"),b(17,2558,108,0,"onComplete")],["broken","completed","index","result","slotsUsed","sync"],b(4,2559,1,0,0,b(18,2558,34,0,b(3,2558,34,0,b(30,2558,34,0,"typeof",b(17,2558,34,0,"limit")),"!==",b(9,2558,34,0,"number")),b(26,2558,34,0,b(7,2558,34,0,b(17,2558,34,0,"TypeError"),0,b(3,2558,34,0,b(9,2558,34,0,"Expected limit to be a Number, got "),"+",b(7,2558,34,0,b(17,2558,34,0,"__typeof"),0,b(17,2558,34,0,"limit")))))),b(18,2558,51,0,b(3,2558,51,0,b(30,2558,51,0,"typeof",b(17,2558,51,0,"length")),"!==",b(9,2558,51,0,"number")),b(26,2558,51,0,b(7,2558,51,0,b(17,2558,51,0,"TypeError"),0,b(3,2558,51,0,b(9,2558,51,0,"Expected length to be a Number, got "),"+",b(7,2558,51,0,b(17,2558,51,0,"__typeof"),0,b(17,2558,51,0,"length")))))),b(18,2558,69,0,b(3,2558,69,0,b(17,2558,69,0,"hasResult"),"==",b(9,0,0,0,null)),b(3,2558,69,0,b(17,2558,69,0,"hasResult"),"=",b(9,0,0,0,!1)),b(18,2558,69,0,b(3,2558,69,0,b(30,2558,69,0,"typeof",b(17,2558,69,0,"hasResult")),"!==",b(9,2558,69,0,"boolean")),b(26,2558,69,0,b(7,2558,69,0,b(17,2558,69,0,"TypeError"),0,b(3,2558,69,0,b(9,2558,69,0,"Expected hasResult to be a Boolean, got "),"+",b(7,2558,69,0,b(17,2558,69,0,"__typeof"),0,b(17,2558,69,0,"hasResult"))))))),b(18,2558,92,0,b(3,2558,92,0,b(30,2558,92,0,"typeof",b(17,2558,92,0,"onValue")),"!==",b(9,2558,92,0,"function")),b(26,2558,92,0,b(7,2558,92,0,b(17,2558,92,0,"TypeError"),0,b(3,2558,92,0,b(9,2558,92,0,"Expected onValue to be a Function, got "),"+",b(7,2558,92,0,b(17,2558,92,0,"__typeof"),0,b(17,2558,92,0,"onValue")))))),b(18,2558,108,0,b(3,2558,108,0,b(30,2558,108,0,"typeof",b(17,2558,108,0,"onComplete")),"!==",b(9,2558,108,0,"function")),b(26,2558,108,0,b(7,2558,108,0,b(17,2558,108,0,"TypeError"),0,b(3,2558,108,0,b(9,2558,108,0,"Expected onComplete to be a Function, got "),"+",b(7,2558,108,0,b(17,2558,108,0,"__typeof"),0,b(17,2558,108,0,"onComplete")))))),b(18,2559,15,0,b(17,2559,18,0,"hasResult"),b(3,2559,1,0,b(17,2559,6,0,"result"),"=",b(2,2559,34,0)),b(3,2559,1,0,b(17,2559,6,0,"result"),"=",b(9,2559,42,0,null))),b(18,2560,1,0,b(3,2560,5,0,b(17,2560,5,0,"length"),"<=",b(9,2560,17,0,0)),b(23,2561,1,0,b(7,2561,11,0,b(17,2561,11,0,"onComplete"),0,b(9,2561,24,0,null),b(17,2561,29,0,"result")))),b(18,2562,1,0,b(3,2562,5,0,b(3,2562,5,0,b(17,2562,5,0,"limit"),"<",b(9,2562,15,0,1)),"||",b(3,2562,19,0,b(17,2562,19,0,"limit"),"!==",b(17,2562,28,0,"limit"))),b(3,2563,1,0,b(17,2563,1,0,"limit"),"=",b(9,2563,13,0,1/0))),b(3,2565,1,0,b(17,2565,14,0,"broken"),"=",b(9,2565,23,0,null)),b(3,2566,1,0,b(17,2566,14,0,"slotsUsed"),"=",b(9,2566,28,0,0)),b(3,2567,1,0,b(17,2567,14,0,"sync"),"=",b(9,2567,21,0,!1)),b(3,2568,1,0,b(17,2568,14,0,"completed"),"=",b(9,2568,26,0,!1)),b(16,2569,1,0,b(17,2569,6,0,"onValueCallback"),[b(17,2569,25,0,"err"),b(17,2569,29,0,"value")],0,b(4,2570,1,0,0,b(18,2570,1,0,b(17,2570,7,0,"completed"),b(23,2571,1,0)),b(30,2572,1,0,"--",b(17,2572,1,0,"slotsUsed")),b(18,2573,1,0,b(3,2573,7,0,b(3,2573,7,0,b(17,2573,7,0,"err"),"!=",b(9,0,0,0,null)),"&&",b(3,2573,16,0,b(17,2573,20,0,"broken"),"==",b(9,0,0,0,null))),b(3,2574,1,0,b(17,2574,1,0,"broken"),"=",b(17,2574,16,0,"err"))),b(18,2575,1,0,b(3,2575,7,0,b(3,2575,7,0,b(17,2575,7,0,"hasResult"),"&&",b(3,2575,22,0,b(17,2575,26,0,"broken"),"==",b(9,0,0,0,null))),"&&",b(3,2575,38,0,b(3,2575,38,0,b(1,2575,38,0),".",b(9,2575,49,0,"length")),">",b(9,2575,59,0,1))),b(7,2576,1,0,b(3,2576,1,0,b(17,2576,1,0,"result"),".",b(9,2576,14,0,"push")),0,b(17,2576,19,0,"value"))),b(18,2577,1,0,b(30,2577,7,0,"!",b(17,2577,11,0,"sync")),b(7,2578,1,0,b(17,2578,1,0,"next"),0)))),b(3,2579,1,0,b(17,2579,14,0,"index"),"=",b(9,2579,22,0,-1)),b(16,2580,1,0,b(17,2580,6,0,"next"),0,0,b(4,2581,1,0,0,b(14,2581,1,0,b(20,2581,1,0),b(3,2581,10,0,b(3,2581,10,0,b(3,2581,10,0,b(30,2581,10,0,"!",b(17,2581,14,0,"completed")),"&&",b(3,2581,28,0,b(17,2581,32,0,"broken"),"==",b(9,0,0,0,null))),"&&",b(3,2581,44,0,b(17,2581,44,0,"slotsUsed"),"<",b(17,2581,58,0,"limit"))),"&&",b(3,2581,68,0,b(30,2581,70,0,"++",b(17,2581,70,0,"index")),"<",b(17,2581,84,0,"length"))),b(20,2581,1,0),b(4,2582,1,0,0,b(30,2582,1,0,"++",b(17,2582,1,0,"slotsUsed")),b(3,2583,1,0,b(17,2583,1,0,"sync"),"=",b(9,2583,14,0,!0)),b(7,2584,1,0,b(17,2584,1,0,"onValue"),0,b(17,2584,16,0,"index"),b(7,2584,22,0,b(17,2584,22,0,"__once"),0,b(17,2584,29,0,"onValueCallback"))),b(3,2585,1,0,b(17,2585,1,0,"sync"),"=",b(9,2585,14,0,!1)))),b(18,2586,1,0,b(3,2586,7,0,b(30,2586,7,0,"!",b(17,2586,11,0,"completed")),"&&",b(3,2586,27,0,b(3,2586,27,0,b(17,2586,27,0,"broken"),"!=",b(9,0,0,0,null)),"||",b(3,2586,37,0,b(17,2586,37,0,"slotsUsed"),"===",b(9,2586,52,0,0)))),b(4,2587,1,0,0,b(3,2587,1,0,b(17,2587,1,0,"completed"),"=",b(9,2587,19,0,!0)),b(18,2588,1,0,b(3,2588,9,0,b(17,2588,9,0,"broken"),"!=",b(9,0,0,0,null)),b(7,2589,1,0,b(17,2589,1,0,"onComplete"),0,b(17,2589,21,0,"broken")),b(7,2591,1,0,b(17,2591,1,0,"onComplete"),0,b(9,2591,21,0,null),b(17,2591,26,0,"result"))))))),b(7,2592,1,0,b(17,2592,1,0,"next"),0))),type:a["function"],dependencies:["__once","__typeof"]},__asyncIter:{helper:b(16,2595,1,0,0,[b(17,2594,39,0,"limit"),b(17,2594,56,0,"iterator"),b(17,2594,86,0,"hasResult"),b(17,2594,109,0,"onValue"),b(17,2594,125,0,"onComplete")],["broken","close","completed","index","iterStopped","result","slotsUsed","sync"],b(4,2595,1,0,0,b(18,2594,39,0,b(3,2594,39,0,b(30,2594,39,0,"typeof",b(17,2594,39,0,"limit")),"!==",b(9,2594,39,0,"number")),b(26,2594,39,0,b(7,2594,39,0,b(17,2594,39,0,"TypeError"),0,b(3,2594,39,0,b(9,2594,39,0,"Expected limit to be a Number, got "),"+",b(7,2594,39,0,b(17,2594,39,0,"__typeof"),0,b(17,2594,39,0,"limit")))))),b(18,2594,56,0,b(3,2594,56,0,b(3,2594,56,0,b(30,2594,56,0,"typeof",b(17,2594,56,0,"iterator")),"!==",b(9,2594,56,0,"object")),"||",b(3,2594,56,0,b(17,2594,56,0,"iterator"),"===",b(9,0,0,0,null))),b(26,2594,56,0,b(7,2594,56,0,b(17,2594,56,0,"TypeError"),0,b(3,2594,56,0,b(9,2594,56,0,"Expected iterator to be an Object, got "),"+",b(7,2594,56,0,b(17,2594,56,0,"__typeof"),0,b(17,2594,56,0,"iterator"))))),b(18,2594,56,0,b(3,2594,56,0,b(30,2594,56,0,"typeof",b(3,2594,56,0,b(17,2594,56,0,"iterator"),".",b(9,2594,70,0,"next"))),"!==",b(9,2594,56,0,"function")),b(26,2594,56,0,b(7,2594,56,0,b(17,2594,56,0,"TypeError"),0,b(3,2594,56,0,b(9,2594,56,0,"Expected iterator.next to be a Function, got "),"+",b(7,2594,56,0,b(17,2594,56,0,"__typeof"),0,b(3,2594,56,0,b(17,2594,56,0,"iterator"),".",b(9,2594,70,0,"next")))))))),b(18,2594,86,0,b(3,2594,86,0,b(17,2594,86,0,"hasResult"),"==",b(9,0,0,0,null)),b(3,2594,86,0,b(17,2594,86,0,"hasResult"),"=",b(9,0,0,0,!1)),b(18,2594,86,0,b(3,2594,86,0,b(30,2594,86,0,"typeof",b(17,2594,86,0,"hasResult")),"!==",b(9,2594,86,0,"boolean")),b(26,2594,86,0,b(7,2594,86,0,b(17,2594,86,0,"TypeError"),0,b(3,2594,86,0,b(9,2594,86,0,"Expected hasResult to be a Boolean, got "),"+",b(7,2594,86,0,b(17,2594,86,0,"__typeof"),0,b(17,2594,86,0,"hasResult"))))))),b(18,2594,109,0,b(3,2594,109,0,b(30,2594,109,0,"typeof",b(17,2594,109,0,"onValue")),"!==",b(9,2594,109,0,"function")),b(26,2594,109,0,b(7,2594,109,0,b(17,2594,109,0,"TypeError"),0,b(3,2594,109,0,b(9,2594,109,0,"Expected onValue to be a Function, got "),"+",b(7,2594,109,0,b(17,2594,109,0,"__typeof"),0,b(17,2594,109,0,"onValue")))))),b(18,2594,125,0,b(3,2594,125,0,b(30,2594,125,0,"typeof",b(17,2594,125,0,"onComplete")),"!==",b(9,2594,125,0,"function")),b(26,2594,125,0,b(7,2594,125,0,b(17,2594,125,0,"TypeError"),0,b(3,2594,125,0,b(9,2594,125,0,"Expected onComplete to be a Function, got "),"+",b(7,2594,125,0,b(17,2594,125,0,"__typeof"),0,b(17,2594,125,0,"onComplete")))))),b(18,2595,1,0,b(3,2595,5,0,b(3,2595,5,0,b(17,2595,5,0,"limit"),"<",b(9,2595,15,0,1)),"||",b(3,2595,19,0,b(17,2595,19,0,"limit"),"!==",b(17,2595,28,0,"limit"))),b(3,2596,1,0,b(17,2596,1,0,"limit"),"=",b(9,2596,13,0,1/0))),b(3,2597,1,0,b(17,2597,14,0,"broken"),"=",b(9,2597,23,0,null)),b(3,2598,1,0,b(17,2598,14,0,"slotsUsed"),"=",b(9,2598,28,0,0)),b(3,2599,1,0,b(17,2599,14,0,"sync"),"=",b(9,2599,21,0,!1)),b(18,2600,15,0,b(17,2600,18,0,"hasResult"),b(3,2600,1,0,b(17,2600,6,0,"result"),"=",b(2,2600,34,0)),b(3,2600,1,0,b(17,2600,6,0,"result"),"=",b(9,2600,42,0,null))),b(3,2601,1,0,b(17,2601,14,0,"completed"),"=",b(9,2601,26,0,!1)),b(16,2602,1,0,b(17,2602,6,0,"onValueCallback"),[b(17,2602,25,0,"err"),b(17,2602,29,0,"value")],0,b(4,2603,1,0,0,b(18,2603,1,0,b(17,2603,7,0,"completed"),b(23,2604,1,0)),b(30,2605,1,0,"--",b(17,2605,1,0,"slotsUsed")),b(18,2606,1,0,b(3,2606,7,0,b(3,2606,7,0,b(17,2606,7,0,"err"),"!=",b(9,0,0,0,null)),"&&",b(3,2606,16,0,b(17,2606,20,0,"broken"),"==",b(9,0,0,0,null))),b(3,2607,1,0,b(17,2607,1,0,"broken"),"=",b(17,2607,16,0,"err"))),b(18,2608,1,0,b(3,2608,7,0,b(3,2608,7,0,b(17,2608,7,0,"hasResult"),"&&",b(3,2608,22,0,b(17,2608,26,0,"broken"),"==",b(9,0,0,0,null))),"&&",b(3,2608,38,0,b(3,2608,38,0,b(1,2608,38,0),".",b(9,2608,49,0,"length")),">",b(9,2608,59,0,1))),b(7,2609,1,0,b(3,2609,1,0,b(17,2609,1,0,"result"),".",b(9,2609,14,0,"push")),0,b(17,2609,19,0,"value"))),b(18,2610,1,0,b(30,2610,7,0,"!",b(17,2610,11,0,"sync")),b(7,2611,1,0,b(17,2611,1,0,"next"),0)))),b(3,2612,1,0,b(17,2612,14,0,"index"),"=",b(9,2612,22,0,-1)),b(3,2613,1,0,b(17,2613,14,0,"iterStopped"),"=",b(9,2613,29,0,!1)),b(3,2614,1,0,b(17,2614,14,0,"close"),"=",b(16,2614,24,0,0,0,0,b(4,2615,1,0,0,b(3,2615,1,0,b(17,2615,1,0,"close"),"=",b(16,2615,15,0,0,0,0,b(20,2615,17,0))),b(28,2616,1,0,b(23,2617,1,0,b(7,2617,1,0,b(3,2617,1,0,b(17,2617,1,0,"iterator"),".",b(9,2617,16,0,"close")),0)),b(17,2618,10,0,"e"),b(23,2619,1,0))))),b(16,2620,1,0,b(17,2620,6,0,"next"),0,["item"],b(4,2621,1,0,0,b(14,2621,1,0,b(20,2621,1,0),b(3,2621,10,0,b(3,2621,10,0,b(3,2621,10,0,b(30,2621,10,0,"!",b(17,2621,14,0,"completed")),"&&",b(3,2621,28,0,b(17,2621,32,0,"broken"),"==",b(9,0,0,0,null))),"&&",b(3,2621,44,0,b(17,2621,44,0,"slotsUsed"),"<",b(17,2621,58,0,"limit"))),"&&",b(30,2621,68,0,"!",b(17,2621,72,0,"iterStopped"))),b(20,2621,1,0),b(4,2622,1,0,0,b(28,2622,1,0,b(3,2623,1,0,b(17,2623,12,0,"item"),"=",b(7,2623,19,0,b(3,2623,19,0,b(17,2623,19,0,"iterator"),".",b(9,2623,29,0,"next")),0)),b(17,2624,12,0,"e"),b(4,2625,1,0,0,b(3,2625,1,0,b(17,2625,1,0,"broken"),"=",b(17,2625,18,0,"e")),b(6,2626,1,0))),b(18,2628,1,0,b(3,2628,9,0,b(17,2628,9,0,"item"),".",b(9,2628,15,0,"done")),b(4,2629,1,0,0,b(3,2629,1,0,b(17,2629,1,0,"iterStopped"),"=",b(9,2629,24,0,!0)),b(6,2630,1,0))),b(30,2632,1,0,"++",b(17,2632,1,0,"slotsUsed")),b(3,2633,1,0,b(17,2633,1,0,"sync"),"=",b(9,2633,14,0,!0)),b(28,2634,1,0,b(7,2635,1,0,b(17,2635,1,0,"onValue"),0,b(3,2635,18,0,b(17,2635,18,0,"item"),".",b(9,2635,23,0,"value")),b(30,2635,31,0,"++",b(17,2635,31,0,"index")),b(7,2635,43,0,b(17,2635,43,0,"__once"),0,b(17,2635,50,0,"onValueCallback"))),b(17,2636,12,0,"e"),b(4,2637,1,0,0,b(7,2637,1,0,b(17,2637,1,0,"close"),0),b(26,2638,1,0,b(17,2638,14,0,"e")))),b(3,2639,1,0,b(17,2639,1,0,"sync"),"=",b(9,2639,14,0,!1)))),b(18,2640,1,0,b(3,2640,7,0,b(30,2640,7,0,"!",b(17,2640,11,0,"completed")),"&&",b(3,2640,27,0,b(3,2640,27,0,b(17,2640,27,0,"broken"),"!=",b(9,0,0,0,null)),"||",b(3,2640,37,0,b(17,2640,37,0,"slotsUsed"),"===",b(9,2640,52,0,0)))),b(4,2641,1,0,0,b(3,2641,1,0,b(17,2641,1,0,"completed"),"=",b(9,2641,19,0,!0)),b(7,2642,1,0,b(17,2642,1,0,"close"),0),b(18,2643,1,0,b(3,2643,9,0,b(17,2643,9,0,"broken"),"!=",b(9,0,0,0,null)),b(7,2644,1,0,b(17,2644,1,0,"onComplete"),0,b(17,2644,21,0,"broken")),b(7,2646,1,0,b(17,2646,1,0,"onComplete"),0,b(9,2646,21,0,null),b(17,2646,26,0,"result"))))))),b(7,2647,1,0,b(17,2647,1,0,"next"),0))),type:a.generic(a.functionBase,a.undefined),dependencies:["__once","__typeof"]},__is:{helper:b(19,3189,21,0,b(3,3189,24,0,b(30,3189,24,0,"typeof",b(3,3189,37,0,b(17,3189,37,0,"Object"),".",b(9,3189,45,0,"is"))),"===",b(9,3189,24,0,"function")),b(3,3190,1,0,b(17,3190,1,0,"Object"),".",b(9,3190,10,0,"is")),b(16,3192,4,0,0,[b(17,3192,5,0,"x"),b(17,3192,7,0,"y")],0,b(18,3193,1,0,b(3,3193,7,0,b(17,3193,7,0,"x"),"===",b(17,3193,12,0,"y")),b(23,3194,1,0,b(3,3194,1,0,b(3,3194,1,0,b(17,3194,1,0,"x"),"!==",b(9,3194,12,0,0)),"||",b(3,3194,18,0,b(3,3194,18,0,b(9,3194,18,0,1),"/",b(17,3194,22,0,"x")),"===",b(3,3194,27,0,b(9,3194,28,0,1),"/",b(17,3194,32,0,"y"))))),b(23,3196,1,0,b(3,3196,1,0,b(3,3196,1,0,b(17,3196,1,0,"x"),"!==",b(17,3196,11,0,"x")),"&&",b(3,3196,17,0,b(17,3196,17,0,"y"),"!==",b(17,3196,22,0,"y"))))))),type:a.any,dependencies:[]},__bind:{helper:b(16,3236,25,0,0,[b(17,3236,26,0,"parent"),b(17,3236,33,0,"child")],["func"],b(4,3237,1,0,0,b(18,3237,1,0,b(3,3237,5,0,b(17,3237,9,0,"parent"),"==",b(9,0,0,0,null)),b(26,3238,1,0,b(7,3238,10,0,b(17,3238,10,0,"TypeError"),0,b(3,3238,21,0,b(9,3238,21,0,"Expected parent to be an object, got "),"+",b(7,3238,61,0,b(17,3238,61,0,"__typeof"),0,b(17,3238,68,0,"parent")))))),b(3,3239,1,0,b(17,3239,6,0,"func"),"=",b(3,3239,13,0,b(17,3239,13,0,"parent"),".",b(17,3239,21,0,"child"))),b(18,3240,1,0,b(3,3240,5,0,b(30,3240,9,0,"typeof",b(17,3240,22,0,"func")),"!==",b(9,3240,9,0,"function")),b(26,3241,1,0,b(7,3241,10,0,b(17,3241,10,0,"Error"),0,b(3,3241,17,0,b(3,3241,17,0,b(9,3241,17,0,"Trying to bind child '"),"+",b(7,3241,42,0,b(17,3241,42,0,"String"),0,b(17,3241,49,0,"child"))),"+",b(9,3241,17,0,"' which is not a function"))))),b(23,3242,4,0,b(16,3242,4,0,0,0,0,b(23,3242,7,0,b(7,3242,7,0,b(3,3242,7,0,b(17,3242,7,0,"func"),".",b(9,3242,7,0,"apply")),0,b(17,3242,14,0,"parent"),b(1,3242,25,0))))))),type:a.generic(a.functionBase,a["function"]),dependencies:["__toArray","__typeof"]},__defProp:{helper:b(7,3244,27,0,b(16,3244,27,0,0,0,["defineGetter","defineSetter","fallback","lookupGetter","lookupSetter","supportsAccessors"],b(4,3245,1,0,0,b(3,3245,1,0,b(17,3245,6,0,"fallback"),"=",b(3,3245,17,0,b(17,3245,17,0,"Object"),".",b(9,3245,25,0,"defineProperty"))),b(18,3246,1,0,b(3,3246,5,0,b(3,3246,5,0,b(30,3246,5,0,"typeof",b(17,3246,18,0,"fallback")),"===",b(9,3246,5,0,"function")),"&&",b(7,3246,33,0,b(16,3246,33,0,0,0,["o"],b(28,3247,1,0,b(4,3248,1,0,0,b(3,3248,1,0,b(17,3248,12,0,"o"),"=",b(21,3248,16,0)),b(7,3249,1,0,b(17,3249,1,0,"fallback"),0,b(17,3249,18,0,"o"),b(9,3249,22,0,"sentinel"),b(21,3249,31,0)),b(23,3250,1,0,b(3,3250,1,0,b(9,3250,19,0,"sentinel"),"in",b(17,3250,1,0,"o")))),b(17,3251,12,0,"e"),b(23,3252,1,0,b(9,3252,1,0,!1)))),0)),b(23,3253,1,0,b(17,3253,1,0,"fallback")),b(4,3255,1,0,0,b(3,3255,1,0,b(17,3255,8,0,"supportsAccessors"),"=",b(7,3255,29,0,b(3,3255,29,0,b(17,3255,29,0,"__owns"),".",b(9,3255,29,0,"call")),0,b(3,3255,29,0,b(17,3255,29,0,"Object"),".",b(9,3255,37,0,"prototype")),b(9,3255,56,0,"__defineGetter__"))),b(3,3256,1,0,b(17,3256,8,0,"lookupGetter"),"=",b(3,3256,24,0,b(17,3256,24,0,"supportsAccessors"),"&&",b(3,3256,47,0,b(3,3256,47,0,b(17,3256,47,0,"Object"),".",b(9,3256,47,0,"prototype")),".",b(9,3256,56,0,"__lookupGetter__")))),b(3,3257,1,0,b(17,3257,8,0,"lookupSetter"),"=",b(3,3257,24,0,b(17,3257,24,0,"supportsAccessors"),"&&",b(3,3257,47,0,b(3,3257,47,0,b(17,3257,47,0,"Object"),".",b(9,3257,47,0,"prototype")),".",b(9,3257,56,0,"__lookupSetter__")))),b(3,3258,1,0,b(17,3258,8,0,"defineGetter"),"=",b(3,3258,24,0,b(17,3258,24,0,"supportsAccessors"),"&&",b(3,3258,47,0,b(3,3258,47,0,b(17,3258,47,0,"Object"),".",b(9,3258,47,0,"prototype")),".",b(9,3258,56,0,"__defineGetter__")))),b(3,3259,1,0,b(17,3259,8,0,"defineSetter"),"=",b(3,3259,24,0,b(17,3259,24,0,"supportsAccessors"),"&&",b(3,3259,47,0,b(3,3259,47,0,b(17,3259,47,0,"Object"),".",b(9,3259,47,0,"prototype")),".",b(9,3259,56,0,"__defineSetter__")))),b(23,3261,1,0,b(16,3261,1,0,0,[b(17,3260,7,0,"object"),b(17,3260,23,0,"property"),b(17,3260,43,0,"descriptor")],["proto"],b(4,3261,1,0,0,b(18,3260,7,0,b(3,3260,6,0,b(3,3260,7,0,b(3,3260,7,0,b(30,3260,7,0,"typeof",b(17,3260,7,0,"object")),"!==",b(9,3260,7,0,"object")),"||",b(3,3260,7,0,b(17,3260,7,0,"object"),"===",b(9,0,0,0,null))),"&&",b(3,3260,7,0,b(30,3260,7,0,"typeof",b(17,3260,7,0,"object")),"!==",b(9,3260,7,0,"function"))),b(26,3260,7,0,b(7,3260,7,0,b(17,3260,7,0,"TypeError"),0,b(3,3260,7,0,b(9,3260,7,0,"Expected object to be one of Object or Function, got "),"+",b(7,3260,7,0,b(17,3260,7,0,"__typeof"),0,b(17,3260,7,0,"object")))))),b(18,3260,23,0,b(3,3260,23,0,b(30,3260,23,0,"typeof",b(17,3260,23,0,"property")),"!==",b(9,3260,23,0,"string")),b(26,3260,23,0,b(7,3260,23,0,b(17,3260,23,0,"TypeError"),0,b(3,3260,23,0,b(9,3260,23,0,"Expected property to be a String, got "),"+",b(7,3260,23,0,b(17,3260,23,0,"__typeof"),0,b(17,3260,23,0,"property")))))),b(18,3260,43,0,b(3,3260,43,0,b(3,3260,43,0,b(30,3260,43,0,"typeof",b(17,3260,43,0,"descriptor")),"!==",b(9,3260,43,0,"object")),"||",b(3,3260,43,0,b(17,3260,43,0,"descriptor"),"===",b(9,0,0,0,null))),b(26,3260,43,0,b(7,3260,43,0,b(17,3260,43,0,"TypeError"),0,b(3,3260,43,0,b(9,3260,43,0,"Expected descriptor to be an Object, got "),"+",b(7,3260,43,0,b(17,3260,43,0,"__typeof"),0,b(17,3260,43,0,"descriptor")))))),b(18,3261,1,0,b(3,3261,9,0,b(30,3261,9,0,"typeof",b(17,3261,22,0,"fallback")),"===",b(9,3261,9,0,"function")),b(28,3262,1,0,b(23,3263,1,0,b(7,3263,17,0,b(17,3263,17,0,"fallback"),0,b(17,3263,27,0,"object"),b(17,3263,34,0,"property"),b(17,3263,44,0,"descriptor"))),b(17,3264,14,0,"e"),b(9,3265,1,0))),b(18,3267,1,0,b(7,3267,9,0,b(3,3267,9,0,b(17,3267,9,0,"__owns"),".",b(9,3267,9,0,"call")),0,b(17,3267,9,0,"descriptor"),b(9,3267,30,0,"value")),b(18,3268,1,0,b(3,3268,11,0,b(17,3268,11,0,"supportsAccessors"),"&&",b(7,3268,36,0,b(3,3268,36,0,b(17,3268,36,0,"lookupGetter"),".",b(9,3268,36,0,"call")),0,b(17,3268,51,0,"object"),b(3,3268,58,0,b(17,3268,58,0,"property"),"||",b(7,3268,70,0,b(3,3268,70,0,b(17,3268,70,0,"lookupSetter"),".",b(9,3268,70,0,"call")),0,b(17,3268,86,0,"object"),b(17,3268,93,0,"property"))))),b(4,3269,1,0,0,b(3,3269,1,0,b(17,3269,14,0,"proto"),"=",b(3,3269,22,0,b(17,3269,22,0,"object"),".",b(9,3269,30,0,"__proto__"))),b(3,3270,1,0,b(3,3270,1,0,b(17,3270,1,0,"object"),".",b(9,3270,18,0,"__proto__")),"=",b(3,3270,30,0,b(17,3270,30,0,"Object"),".",b(9,3270,38,0,"prototype"))),b(30,3271,1,0,"delete",b(3,3271,17,0,b(17,3271,17,0,"object"),".",b(17,3271,25,0,"property"))),b(3,3272,1,0,b(3,3272,1,0,b(17,3272,1,0,"object"),".",b(17,3272,18,0,"property")),"=",b(3,3272,30,0,b(17,3272,30,0,"descriptor"),".",b(9,3272,42,0,"value"))),b(3,3273,1,0,b(3,3273,1,0,b(17,3273,1,0,"object"),".",b(9,3273,18,0,"__proto__")),"=",b(17,3273,30,0,"proto"))),b(3,3275,1,0,b(3,3275,1,0,b(17,3275,1,0,"object"),".",b(17,3275,18,0,"property")),"=",b(3,3275,30,0,b(17,3275,30,0,"descriptor"),".",b(9,3275,42,0,"value")))),b(4,3277,1,0,0,b(18,3277,1,0,b(30,3277,11,0,"!",b(17,3277,15,0,"supportsAccessors")),b(26,3278,1,0,b(7,3278,16,0,b(17,3278,16,0,"Error"),0,b(9,3278,23,0,"Getters and setters cannot be defined on this Javascript engine")))),b(18,3279,1,0,b(7,3279,11,0,b(3,3279,11,0,b(17,3279,11,0,"__owns"),".",b(9,3279,11,0,"call")),0,b(17,3279,11,0,"descriptor"),b(9,3279,32,0,"get")),b(7,3280,1,0,b(3,3280,1,0,b(17,3280,1,0,"defineGetter"),".",b(9,3280,1,0,"call")),0,b(17,3280,26,0,"object"),b(17,3280,33,0,"property"),b(3,3280,43,0,b(17,3280,43,0,"descriptor"),".",b(9,3280,55,0,"get")))),b(18,3281,1,0,b(7,3281,11,0,b(3,3281,11,0,b(17,3281,11,0,"__owns"),".",b(9,3281,11,0,"call")),0,b(17,3281,11,0,"descriptor"),b(9,3281,32,0,"set")),b(7,3282,1,0,b(3,3282,1,0,b(17,3282,1,0,"defineSetter"),".",b(9,3282,1,0,"call")),0,b(17,3282,26,0,"object"),b(17,3282,33,0,"property"),b(3,3282,43,0,b(17,3282,43,0,"descriptor"),".",b(9,3282,55,0,"set")))))),b(23,3283,1,0,b(17,3283,1,0,"object"))))))))),0),type:a.any,dependencies:["__owns","__typeof"]},__compose:{helper:b(16,3290,4,0,0,[b(17,3289,29,0,"left"),b(17,3289,40,0,"right")],0,b(4,3290,4,0,0,b(18,3289,29,0,b(3,3289,29,0,b(30,3289,29,0,"typeof",b(17,3289,29,0,"left")),"!==",b(9,3289,29,0,"function")),b(26,3289,29,0,b(7,3289,29,0,b(17,3289,29,0,"TypeError"),0,b(3,3289,29,0,b(9,3289,29,0,"Expected left to be a Function, got "),"+",b(7,3289,29,0,b(17,3289,29,0,"__typeof"),0,b(17,3289,29,0,"left")))))),b(18,3289,40,0,b(3,3289,40,0,b(30,3289,40,0,"typeof",b(17,3289,40,0,"right")),"!==",b(9,3289,40,0,"function")),b(26,3289,40,0,b(7,3289,40,0,b(17,3289,40,0,"TypeError"),0,b(3,3289,40,0,b(9,3289,40,0,"Expected right to be a Function, got "),"+",b(7,3289,40,0,b(17,3289,40,0,"__typeof"),0,b(17,3289,40,0,"right")))))),b(23,3290,4,0,b(16,3290,4,0,0,0,0,b(23,3290,6,0,b(7,3290,6,0,b(3,3290,6,0,b(17,3290,6,0,"left"),".",b(9,3290,6,0,"call")),0,b(25,3290,13,0),b(7,3290,18,0,b(3,3290,18,0,b(17,3290,18,0,"right"),".",b(9,3290,18,0,"apply")),0,b(25,3290,26,0),b(1,3290,35,0)))))))),type:a.generic(a.functionBase,a["function"]),dependencies:["__toArray","__typeof"]},__curry:{helper:b(16,3305,1,0,0,[b(17,3304,27,0,"numArgs"),b(17,3304,46,0,"f")],["currier"],b(4,3305,1,0,0,b(18,3304,27,0,b(3,3304,27,0,b(30,3304,27,0,"typeof",b(17,3304,27,0,"numArgs")),"!==",b(9,3304,27,0,"number")),b(26,3304,27,0,b(7,3304,27,0,b(17,3304,27,0,"TypeError"),0,b(3,3304,27,0,b(9,3304,27,0,"Expected numArgs to be a Number, got "),"+",b(7,3304,27,0,b(17,3304,27,0,"__typeof"),0,b(17,3304,27,0,"numArgs")))))),b(18,3304,46,0,b(3,3304,46,0,b(30,3304,46,0,"typeof",b(17,3304,46,0,"f")),"!==",b(9,3304,46,0,"function")),b(26,3304,46,0,b(7,3304,46,0,b(17,3304,46,0,"TypeError"),0,b(3,3304,46,0,b(9,3304,46,0,"Expected f to be a Function, got "),"+",b(7,3304,46,0,b(17,3304,46,0,"__typeof"),0,b(17,3304,46,0,"f")))))),b(18,3305,1,0,b(3,3305,5,0,b(17,3305,5,0,"numArgs"),">",b(9,3305,17,0,1)),b(4,3306,1,0,0,b(3,3306,1,0,b(17,3306,8,0,"currier"),"=",b(16,3306,16,0,0,[b(17,3306,17,0,"args")],["ret"],b(18,3307,1,0,b(3,3307,9,0,b(3,3307,9,0,b(17,3307,9,0,"args"),".",b(9,3307,15,0,"length")),">=",b(17,3307,25,0,"numArgs")),b(23,3308,1,0,b(7,3308,1,0,b(3,3308,1,0,b(17,3308,1,0,"f"),".",b(9,3308,11,0,"apply")),0,b(25,3308,17,0),b(17,3308,22,0,"args"))),b(4,3310,1,0,0,b(3,3310,1,0,b(17,3310,12,0,"ret"),"=",b(16,3310,16,0,0,0,0,b(18,3311,1,0,b(3,3311,13,0,b(3,3311,13,0,b(1,3311,13,0),".",b(9,3311,24,0,"length")),"===",b(9,3311,34,0,0)),b(23,3312,1,0,b(17,3312,1,0,"ret")),b(23,3314,1,0,b(7,3314,1,0,b(3,3314,1,0,b(17,3314,1,0,"currier"),".",b(9,3314,1,0,"call")),0,b(25,3314,22,0),b(7,3314,27,0,b(3,3314,27,0,b(17,3314,27,0,"args"),".",b(9,3314,33,0,"concat")),0,b(7,3314,40,0,b(3,3314,40,0,b(17,3314,40,0,"__slice"),".",b(9,3314,40,0,"call")),0,b(1,3314,49,0)))))))),b(23,3315,1,0,b(17,3315,1,0,"ret")))))),b(23,3316,1,0,b(7,3316,1,0,b(17,3316,1,0,"currier"),0,b(2,3316,13,0)))),b(23,3318,1,0,b(17,3318,1,0,"f"))))),type:a.generic(a.functionBase,a["function"]),dependencies:["__slice","__typeof"]},__import:{helper:b(16,3332,27,0,0,[b(17,3332,28,0,"dest"),b(17,3332,33,0,"source")],["k"],b(4,3333,1,0,0,b(15,3333,1,0,b(17,3333,6,0,"k"),b(17,3333,11,0,"source"),b(18,3334,1,0,b(7,3334,1,0,b(3,3334,1,0,b(17,3334,1,0,"__owns"),".",b(9,3334,1,0,"call")),0,b(17,3333,11,0,"source"),b(17,3333,6,0,"k")),b(3,3334,1,0,b(3,3334,1,0,b(17,3334,1,0,"dest"),".",b(17,3334,10,0,"k")),"=",b(3,3334,15,0,b(17,3334,15,0,"source"),".",b(17,3334,23,0,"k"))))),b(23,3335,1,0,b(17,3335,1,0,"dest")))),type:a.generic(a.functionBase,a.object),dependencies:["__owns"]},WeakMap:{helper:b(19,3382,24,0,b(3,3382,27,0,b(30,3382,27,0,"typeof",b(3,3382,40,0,b(17,3382,40,0,"GLOBAL"),".",b(9,3382,48,0,"WeakMap"))),"===",b(9,3382,27,0,"function")),b(3,3382,60,0,b(17,3382,60,0,"GLOBAL"),".",b(9,3382,68,0,"WeakMap")),b(3,3382,80,0,b(17,3382,86,0,"WeakMap"),"=",b(7,3382,80,0,b(16,3382,80,0,0,0,["_WeakMap_prototype","defProp","isExtensible"],b(4,3382,80,0,0,b(16,3389,1,0,b(17,3382,86,0,"WeakMap"),0,["_this"],b(4,3390,1,0,0,b(3,3390,1,0,b(17,3390,1,0,"_this"),"=",b(19,3389,18,0,b(3,3389,18,0,b(13,3389,18,0,b(9,3389,18,0,"this")),"instanceof",b(17,3382,86,0,"WeakMap")),b(13,3389,18,0,b(9,3389,18,0,"this")),b(7,3389,18,0,b(17,3389,18,0,"__create"),0,b(17,3382,80,0,"_WeakMap_prototype")))),b(3,3390,1,0,b(3,3390,1,0,b(17,3390,1,0,"_this"),".",b(9,3390,6,0,"_keys")),"=",b(2,3390,14,0)),b(3,3391,1,0,b(3,3391,1,0,b(17,3391,1,0,"_this"),".",b(9,3391,6,0,"_values")),"=",b(2,3391,16,0)),b(3,3393,1,0,b(3,3393,1,0,b(17,3393,1,0,"_this"),".",b(9,3393,6,0,"_chilly")),"=",b(2,3393,16,0)),b(3,3394,1,0,b(3,3394,1,0,b(17,3394,1,0,"_this"),".",b(9,3394,6,0,"_uid")),"=",b(7,3394,13,0,b(17,3394,13,0,"createUid"),0)),b(23,3390,1,0,b(17,3390,1,0,"_this")))),b(3,3382,86,0,b(17,3382,80,0,"_WeakMap_prototype"),"=",b(3,3382,86,0,b(17,3382,86,0,"WeakMap"),".",b(9,3382,86,0,"prototype"))),b(3,3382,86,0,b(3,3382,86,0,b(17,3382,86,0,"WeakMap"),".",b(9,3382,86,0,"displayName")),"=",b(9,3382,80,0,"WeakMap")),b(16,3383,1,0,b(17,3383,6,0,"uidRand"),0,0,b(23,3384,1,0,b(7,3384,1,0,b(3,3384,1,0,b(7,3384,1,0,b(3,3384,1,0,b(7,3384,1,0,b(3,3384,1,0,b(17,3384,1,0,"Math"),".",b(9,3384,10,0,"random")),0),".",b(9,3384,19,0,"toString")),0,b(9,3384,29,0,36)),".",b(9,3384,33,0,"slice")),0,b(9,3384,39,0,2)))),b(16,3385,1,0,b(17,3385,6,0,"createUid"),0,0,b(23,3386,5,0,b(3,3386,5,0,b(3,3386,5,0,b(3,3386,5,0,b(3,3386,5,0,b(3,3386,5,0,b(3,3386,5,0,b(7,3386,8,0,b(17,3386,8,0,"__strnum"),0,b(7,3386,8,0,b(17,3386,8,0,"uidRand"),0)),"+",b(9,3386,5,0,"-")),"+",b(7,3386,22,0,b(17,3386,22,0,"__strnum"),0,b(7,3386,22,0,b(3,3386,22,0,b(7,3386,22,0,b(17,3386,25,0,"Date"),1),".",b(9,3386,33,0,"getTime")),0))),"+",b(9,3386,5,0,"-")),"+",b(7,3386,47,0,b(17,3386,47,0,"__strnum"),0,b(7,3386,47,0,b(17,3386,47,0,"uidRand"),0))),"+",b(9,3386,5,0,"-")),"+",b(7,3386,61,0,b(17,3386,61,0,"__strnum"),0,b(7,3386,61,0,b(17,3386,61,0,"uidRand"),0))))),b(3,3387,1,0,b(17,3387,6,0,"isExtensible"),"=",b(3,3387,22,0,b(3,3387,22,0,b(17,3387,22,0,"Object"),".",b(9,3387,30,0,"isExtensible")),"||",b(16,3387,48,0,0,0,0,b(23,3387,50,0,b(9,3387,50,0,!0))))),b(16,3396,1,0,b(17,3396,6,0,"check"),[b(17,3396,13,0,"key")],["chilly","uid"],b(5,3397,1,0,b(3,3397,1,0,b(17,3397,8,0,"uid"),"=",b(3,3397,14,0,b(25,3397,14,0),".",b(9,3397,16,0,"_uid"))),b(19,3398,1,0,b(7,3398,7,0,b(3,3398,7,0,b(17,3398,7,0,"__owns"),".",b(9,3398,7,0,"call")),0,b(17,3398,7,0,"key"),b(17,3398,19,0,"uid")),b(5,3399,1,0,b(3,3399,1,0,b(17,3399,10,0,"chilly"),"=",b(3,3399,19,0,b(25,3399,19,0),".",b(9,3399,21,0,"_chilly"))),b(19,3400,1,0,b(3,3400,9,0,b(7,3400,9,0,b(3,3400,9,0,b(17,3400,9,0,"chilly"),".",b(9,3400,17,0,"indexOf")),0,b(17,3400,26,0,"key")),"===",b(9,3400,33,0,-1)),b(5,3401,1,0,b(7,3401,1,0,b(3,3401,1,0,b(17,3401,1,0,"chilly"),".",b(9,3401,16,0,"push")),0,b(17,3401,21,0,"key")),b(7,3402,1,0,b(3,3402,1,0,b(3,3402,1,0,b(25,3402,1,0),".",b(9,3402,10,0,"_keys")),".",b(9,3402,16,0,"push")),0,b(17,3402,21,0,"key")),b(7,3403,1,0,b(3,3403,1,0,b(3,3403,1,0,b(25,3403,1,0),".",b(9,3403,10,0,"_values")),".",b(9,3403,18,0,"push")),0,b(3,3403,23,0,b(17,3403,23,0,"key"),".",b(17,3403,27,0,"uid"))))))))),b(3,3405,1,0,b(3,3405,1,0,b(17,3382,80,0,"_WeakMap_prototype"),".",b(9,3405,6,0,"get")),"=",b(16,3405,10,0,0,[b(17,3405,11,0,"key")],["_ref","index"],b(4,3406,1,0,0,b(18,3406,1,0,b(3,3406,7,0,b(7,3406,7,0,b(17,3406,7,0,"Object"),0,b(17,3406,15,0,"key")),"!==",b(17,3406,22,0,"key")),b(26,3407,1,0,b(7,3407,12,0,b(17,3407,12,0,"TypeError"),0,b(9,3407,23,0,"Invalid value used as weak map key")))),b(18,3409,1,0,b(7,3409,7,0,b(17,3409,7,0,"isExtensible"),0,b(17,3409,22,0,"key")),b(18,3410,1,0,b(7,3410,1,0,b(3,3410,1,0,b(17,3410,1,0,"__owns"),".",b(9,3410,1,0,"call")),0,b(17,3410,1,0,"key"),b(3,3410,1,0,b(17,3410,1,0,"_ref"),"=",b(3,3410,12,0,b(25,3410,12,0),".",b(9,3410,13,0,"_uid")))),b(23,3410,1,0,b(3,3410,1,0,b(17,3410,1,0,"key"),".",b(17,3410,1,0,"_ref")))),b(4,3412,1,0,0,b(7,3412,1,0,b(3,3412,1,0,b(17,3412,1,0,"check"),".",b(9,3412,1,0,"call")),0,b(25,3412,14,0),b(17,3412,19,0,"key")),b(3,3413,1,0,b(17,3413,10,0,"index"),"=",b(7,3413,18,0,b(3,3413,18,0,b(3,3413,18,0,b(25,3413,18,0),".",b(9,3413,20,0,"_keys")),".",b(9,3413,26,0,"indexOf")),0,b(17,3413,35,0,"key"))),b(18,3414,1,0,b(3,3414,9,0,b(17,3414,9,0,"index"),"===",b(9,3414,18,0,-1)),b(23,3415,1,0),b(23,3417,1,0,b(3,3417,1,0,b(3,3417,1,0,b(25,3417,1,0),".",b(9,3417,10,0,"_values")),".",b(17,3417,18,0,"index"))))))))),b(3,3419,1,0,b(3,3419,1,0,b(17,3382,80,0,"_WeakMap_prototype"),".",b(9,3419,6,0,"has")),"=",b(16,3419,10,0,0,[b(17,3419,11,0,"key")],0,b(4,3420,1,0,0,b(18,3420,1,0,b(3,3420,7,0,b(7,3420,7,0,b(17,3420,7,0,"Object"),0,b(17,3420,15,0,"key")),"!==",b(17,3420,22,0,"key")),b(26,3421,1,0,b(7,3421,12,0,b(17,3421,12,0,"TypeError"),0,b(9,3421,23,0,"Invalid value used as weak map key")))),b(18,3423,1,0,b(7,3423,7,0,b(17,3423,7,0,"isExtensible"),0,b(17,3423,22,0,"key")),b(23,3424,1,0,b(7,3424,1,0,b(3,3424,1,0,b(17,3424,1,0,"__owns"),".",b(9,3424,1,0,"call")),0,b(17,3424,1,0,"key"),b(3,3424,18,0,b(25,3424,18,0),".",b(9,3424,20,0,"_uid")))),b(4,3426,1,0,0,b(7,3426,1,0,b(3,3426,1,0,b(17,3426,1,0,"check"),".",b(9,3426,1,0,"call")),0,b(25,3426,14,0),b(17,3426,19,0,"key")),b(23,3427,1,0,b(3,3427,1,0,b(7,3427,1,0,b(3,3427,1,0,b(3,3427,1,0,b(25,3427,1,0),".",b(9,3427,8,0,"_keys")),".",b(9,3427,14,0,"indexOf")),0,b(17,3427,23,0,"key")),"!==",b(9,3427,30,0,-1)))))))),b(18,3429,17,0,b(3,3429,20,0,b(30,3429,20,0,"typeof",b(3,3429,33,0,b(17,3429,33,0,"Object"),".",b(9,3429,41,0,"defineProperty"))),"===",b(9,3429,20,0,"function")),b(3,3429,1,0,b(17,3429,6,0,"defProp"),"=",b(3,3429,61,0,b(17,3429,61,0,"Object"),".",b(9,3429,69,0,"defineProperty"))),b(3,3429,1,0,b(17,3429,6,0,"defProp"),"=",b(16,3429,91,0,0,[b(17,3429,92,0,"o"),b(17,3429,94,0,"k"),b(17,3429,97,0,"d")],0,b(3,3429,104,0,b(3,3429,104,0,b(17,3429,104,0,"o"),".",b(17,3429,107,0,"k")),"=",b(3,3429,112,0,b(17,3429,112,0,"d"),".",b(9,3429,115,0,"value")))))),b(3,3430,1,0,b(3,3430,1,0,b(17,3382,80,0,"_WeakMap_prototype"),".",b(9,3430,6,0,"set")),"=",b(16,3430,10,0,0,[b(17,3430,11,0,"key"),b(17,3430,15,0,"value")],["index","keys"],b(4,3431,1,0,0,b(18,3431,1,0,b(3,3431,7,0,b(7,3431,7,0,b(17,3431,7,0,"Object"),0,b(17,3431,15,0,"key")),"!==",b(17,3431,22,0,"key")),b(26,3432,1,0,b(7,3432,12,0,b(17,3432,12,0,"TypeError"),0,b(9,3432,23,0,"Invalid value used as weak map key")))),b(18,3434,1,0,b(7,3434,7,0,b(17,3434,7,0,"isExtensible"),0,b(17,3434,22,0,"key")),b(7,3435,1,0,b(17,3435,1,0,"defProp"),0,b(17,3435,16,0,"key"),b(3,3435,20,0,b(25,3435,20,0),".",b(9,3435,22,0,"_uid")),b(21,3435,27,0,3436,10,void 0,"configurable",b(9,3436,9,0,!0),3437,10,void 0,"writable",b(9,3437,9,0,!0),3438,10,void 0,"enumerable",b(9,3438,9,0,!1),3439,9,void 0,"value",b(17,3439,9,0,"value"))),b(4,3442,1,0,0,b(7,3442,1,0,b(3,3442,1,0,b(17,3442,1,0,"check"),".",b(9,3442,1,0,"call")),0,b(25,3442,14,0),b(17,3442,19,0,"key")),b(3,3443,1,0,b(17,3443,10,0,"keys"),"=",b(3,3443,17,0,b(25,3443,17,0),".",b(9,3443,19,0,"_keys"))),b(3,3444,1,0,b(17,3444,18,0,"index"),"=",b(7,3444,26,0,b(3,3444,26,0,b(17,3444,26,0,"keys"),".",b(9,3444,32,0,"indexOf")),0,b(17,3444,41,0,"key"))),b(18,3445,1,0,b(3,3445,9,0,b(17,3445,9,0,"index"),"===",b(9,3445,18,0,-1)),b(4,3446,1,0,0,b(3,3446,1,0,b(17,3446,1,0,"index"),"=",b(3,3446,17,0,b(17,3446,17,0,"keys"),".",b(9,3446,23,0,"length"))),b(3,3447,1,0,b(3,3447,1,0,b(17,3447,1,0,"keys"),".",b(17,3447,14,0,"index")),"=",b(17,3447,23,0,"key")))),b(3,3448,1,0,b(3,3448,1,0,b(3,3448,1,0,b(25,3448,1,0),".",b(9,3448,8,0,"_values")),".",b(17,3448,16,0,"index")),"=",b(17,3448,25,0,"value"))))))),b(3,3450,1,0,b(3,3450,1,0,b(17,3382,80,0,"_WeakMap_prototype"),".",b(9,3450,6,0,"delete")),"=",b(16,3450,13,0,0,[b(17,3450,14,0,"key")],["index","keys"],b(4,3451,1,0,0,b(18,3451,1,0,b(3,3451,7,0,b(7,3451,7,0,b(17,3451,7,0,"Object"),0,b(17,3451,15,0,"key")),"!==",b(17,3451,22,0,"key")),b(26,3452,1,0,b(7,3452,12,0,b(17,3452,12,0,"TypeError"),0,b(9,3452,23,0,"Invalid value used as weak map key")))),b(18,3454,1,0,b(7,3454,7,0,b(17,3454,7,0,"isExtensible"),0,b(17,3454,22,0,"key")),b(30,3455,1,0,"delete",b(3,3455,13,0,b(17,3455,13,0,"key"),".",b(3,3455,18,0,b(25,3455,18,0),".",b(9,3455,19,0,"_uid")))),b(4,3457,1,0,0,b(7,3457,1,0,b(3,3457,1,0,b(17,3457,1,0,"check"),".",b(9,3457,1,0,"call")),0,b(25,3457,14,0),b(17,3457,19,0,"key")),b(3,3458,1,0,b(17,3458,10,0,"keys"),"=",b(3,3458,17,0,b(25,3458,17,0),".",b(9,3458,19,0,"_keys"))),b(3,3459,1,0,b(17,3459,18,0,"index"),"=",b(7,3459,26,0,b(3,3459,26,0,b(17,3459,26,0,"keys"),".",b(9,3459,32,0,"indexOf")),0,b(17,3459,41,0,"key"))),b(18,3460,1,0,b(3,3460,9,0,b(17,3460,9,0,"index"),"!==",b(9,3460,18,0,-1)),b(4,3461,1,0,0,b(7,3461,1,0,b(3,3461,1,0,b(17,3461,1,0,"keys"),".",b(9,3461,14,0,"splice")),0,b(17,3461,21,0,"index"),b(9,3461,28,0,1)),b(7,3462,1,0,b(3,3462,1,0,b(3,3462,1,0,b(25,3462,1,0),".",b(9,3462,10,0,"_values")),".",b(9,3462,18,0,"splice")),0,b(17,3462,25,0,"index"),b(9,3462,32,0,1))))))))),b(23,3382,80,0,b(17,3382,86,0,"WeakMap")))),0))),type:a.any,dependencies:["__create","__owns","__strnum","GLOBAL"]},__indexOfIdentical:{helper:b(16,3464,39,0,0,[b(17,3464,40,0,"array"),b(17,3464,46,0,"item")],["_arr","check","i","inf"],b(4,3465,1,0,0,b(18,3465,1,0,b(3,3465,5,0,b(30,3465,5,0,"typeof",b(17,3465,12,0,"item")),"===",b(9,3465,22,0,"number")),b(18,3466,1,0,b(3,3466,7,0,b(17,3466,7,0,"item"),"!==",b(17,3466,7,0,"item")),b(4,3467,1,0,0,b(14,3467,1,0,b(5,3467,1,0,b(3,3467,1,0,b(17,3467,1,0,"_arr"),"=",b(7,3467,22,0,b(17,3467,22,0,"__toArray"),0,b(17,3467,22,0,"array"))),b(3,3467,17,0,b(17,3467,17,0,"i"),"=",b(3,3467,17,0,b(17,3467,1,0,"_arr"),".",b(9,3467,17,0,"length")))),b(30,3467,17,0,"--post",b(17,3467,17,0,"i")),b(20,3467,1,0),b(4,3468,1,0,0,b(3,3468,1,0,b(17,3467,10,0,"check"),"=",b(3,3467,1,0,b(17,3467,1,0,"_arr"),".",b(17,3467,17,0,"i"))),b(18,3468,1,0,b(3,3468,11,0,b(17,3468,11,0,"check"),"!==",b(17,3468,11,0,"check")),b(23,3469,1,0,b(17,3469,17,0,"i"))))),b(23,3470,1,0,b(9,3470,13,0,-1))),b(18,3466,1,0,b(3,3471,12,0,b(17,3471,12,0,"item"),"===",b(9,3471,21,0,0)),b(4,3472,1,0,0,b(3,3472,1,0,b(17,3472,10,0,"inf"),"=",b(3,3472,16,0,b(9,3472,17,0,1),"/",b(17,3472,21,0,"item"))),b(14,3473,1,0,b(5,3473,1,0,b(3,3473,1,0,b(17,3473,1,0,"_arr"),"=",b(7,3473,22,0,b(17,3473,22,0,"__toArray"),0,b(17,3473,22,0,"array"))),b(3,3473,17,0,b(17,3473,17,0,"i"),"=",b(3,3473,17,0,b(17,3473,1,0,"_arr"),".",b(9,3473,17,0,"length")))),b(30,3473,17,0,"--post",b(17,3473,17,0,"i")),b(20,3473,1,0),b(4,3474,1,0,0,b(3,3474,1,0,b(17,3473,10,0,"check"),"=",b(3,3473,1,0,b(17,3473,1,0,"_arr"),".",b(17,3473,17,0,"i"))),b(18,3474,1,0,b(3,3474,11,0,b(3,3474,11,0,b(17,3474,11,0,"check"),"===",b(9,3474,21,0,0)),"&&",b(3,3474,26,0,b(3,3474,26,0,b(9,3474,27,0,1),"/",b(17,3474,31,0,"check")),"===",b(17,3474,40,0,"inf"))),b(23,3475,1,0,b(17,3475,17,0,"i"))))),b(23,3476,1,0,b(9,3476,13,0,-1)))))),b(23,3477,1,0,b(7,3477,1,0,b(3,3477,1,0,b(17,3477,1,0,"array"),".",b(9,3477,9,0,"indexOf")),0,b(17,3477,18,0,"item"))))),type:a["function"],dependencies:["__toArray"]},Map:{helper:b(19,3479,20,0,b(3,3479,23,0,b(30,3479,23,0,"typeof",b(3,3479,36,0,b(17,3479,36,0,"GLOBAL"),".",b(9,3479,44,0,"Map"))),"===",b(9,3479,23,0,"function")),b(3,3479,52,0,b(17,3479,52,0,"GLOBAL"),".",b(9,3479,60,0,"Map")),b(3,3479,68,0,b(17,3479,74,0,"Map"),"=",b(7,3479,68,0,b(16,3479,68,0,0,0,["_Map_prototype"],b(4,3479,68,0,0,b(16,3480,1,0,b(17,3479,74,0,"Map"),[b(17,3480,19,0,"iterable")],["_item","_iter","_this","x"],b(4,3481,1,0,0,b(3,3481,1,0,b(17,3481,1,0,"_this"),"=",b(19,3480,18,0,b(3,3480,18,0,b(13,3480,18,0,b(9,3480,18,0,"this")),"instanceof",b(17,3479,74,0,"Map")),b(13,3480,18,0,b(9,3480,18,0,"this")),b(7,3480,18,0,b(17,3480,18,0,"__create"),0,b(17,3479,68,0,"_Map_prototype")))),b(3,3481,1,0,b(3,3481,1,0,b(17,3481,1,0,"_this"),".",b(9,3481,6,0,"_keys")),"=",b(2,3481,14,0)),b(3,3482,1,0,b(3,3482,1,0,b(17,3482,1,0,"_this"),".",b(9,3482,6,0,"_values")),"=",b(2,3482,16,0)),b(18,3483,1,0,b(3,3483,7,0,b(17,3483,7,0,"iterable"),"!=",b(9,0,0,0,null)),b(29,3484,1,0,b(14,3484,1,0,b(3,3484,1,0,b(17,3484,1,0,"_iter"),"=",b(7,3484,1,0,b(17,3484,1,0,"__iter"),0,b(17,3484,17,0,"iterable"))),b(9,0,0,0,!0),b(20,3484,1,0),b(4,3484,17,0,0,b(3,3484,17,0,b(17,3484,1,0,"_item"),"=",b(7,3484,17,0,b(3,3484,17,0,b(17,3484,1,0,"_iter"),".",b(9,3484,17,0,"next")),0)),b(18,3484,17,0,b(3,3484,17,0,b(17,3484,1,0,"_item"),".",b(9,3484,17,0,"done")),b(6,3484,17,0)),b(3,3484,17,0,b(17,3484,10,0,"x"),"=",b(3,3484,17,0,b(17,3484,1,0,"_item"),".",b(9,3484,17,0,"value"))),b(7,3485,1,0,b(3,3485,1,0,b(17,3485,1,0,"_this"),".",b(9,3485,10,0,"set")),0,b(3,3485,14,0,b(17,3485,14,0,"x"),".",b(9,3485,16,0,0)),b(3,3485,19,0,b(17,3485,19,0,"x"),".",b(9,3485,22,0,1))))),b(28,3484,1,0,b(7,3484,1,0,b(3,3484,1,0,b(17,3484,1,0,"_iter"),".",b(9,3484,1,0,"close")),0),b(17,3484,1,0,"_e"),b(9,0,0,0)))),b(23,3481,1,0,b(17,3481,1,0,"_this")))),b(3,3479,74,0,b(17,3479,68,0,"_Map_prototype"),"=",b(3,3479,74,0,b(17,3479,74,0,"Map"),".",b(9,3479,74,0,"prototype"))),b(3,3479,74,0,b(3,3479,74,0,b(17,3479,74,0,"Map"),".",b(9,3479,74,0,"displayName")),"=",b(9,3479,68,0,"Map")),b(3,3487,1,0,b(3,3487,1,0,b(17,3479,68,0,"_Map_prototype"),".",b(9,3487,6,0,"get")),"=",b(16,3487,10,0,0,[b(17,3487,11,0,"key")],["index"],b(4,3488,1,0,0,b(3,3488,1,0,b(17,3488,8,0,"index"),"=",b(7,3488,16,0,b(17,3488,16,0,"__indexOfIdentical"),0,b(3,3488,38,0,b(25,3488,38,0),".",b(9,3488,39,0,"_keys")),b(17,3488,45,0,"key"))),b(18,3489,1,0,b(3,3489,7,0,b(17,3489,7,0,"index"),"===",b(9,3489,16,0,-1)),b(23,3490,1,0),b(23,3492,1,0,b(3,3492,1,0,b(3,3492,1,0,b(25,3492,1,0),".",b(9,3492,8,0,"_values")),".",b(17,3492,16,0,"index"))))))),b(3,3494,1,0,b(3,3494,1,0,b(17,3479,68,0,"_Map_prototype"),".",b(9,3494,6,0,"has")),"=",b(16,3494,10,0,0,[b(17,3494,11,0,"key")],0,b(23,3495,1,0,b(3,3495,1,0,b(7,3495,1,0,b(17,3495,1,0,"__indexOfIdentical"),0,b(3,3495,26,0,b(25,3495,26,0),".",b(9,3495,27,0,"_keys")),b(17,3495,33,0,"key")),"!==",b(9,3495,41,0,-1))))),b(3,3497,1,0,b(3,3497,1,0,b(17,3479,68,0,"_Map_prototype"),".",b(9,3497,6,0,"set")),"=",b(16,3497,10,0,0,[b(17,3497,11,0,"key"),b(17,3497,15,0,"value")],["index","keys"],b(5,3498,1,0,b(3,3498,1,0,b(17,3498,8,0,"keys"),"=",b(3,3498,15,0,b(25,3498,15,0),".",b(9,3498,17,0,"_keys"))),b(3,3499,1,0,b(17,3499,16,0,"index"),"=",b(7,3499,24,0,b(17,3499,24,0,"__indexOfIdentical"),0,b(17,3499,46,0,"keys"),b(17,3499,51,0,"key"))),b(19,3500,1,0,b(3,3500,7,0,b(17,3500,7,0,"index"),"===",b(9,3500,16,0,-1)),b(5,3501,1,0,b(3,3501,1,0,b(17,3501,1,0,"index"),"=",b(3,3501,15,0,b(17,3501,15,0,"keys"),".",b(9,3501,21,0,"length"))),b(3,3502,1,0,b(3,3502,1,0,b(17,3502,1,0,"keys"),".",b(17,3502,12,0,"index")),"=",b(17,3502,21,0,"key")))),b(3,3503,1,0,b(3,3503,1,0,b(3,3503,1,0,b(25,3503,1,0),".",b(9,3503,6,0,"_values")),".",b(17,3503,14,0,"index")),"=",b(17,3503,23,0,"value"))))),b(3,3505,1,0,b(3,3505,1,0,b(17,3479,68,0,"_Map_prototype"),".",b(9,3505,6,0,"delete")),"=",b(16,3505,13,0,0,[b(17,3505,14,0,"key")],["index","keys"],b(4,3506,1,0,0,b(3,3506,1,0,b(17,3506,8,0,"keys"),"=",b(3,3506,15,0,b(25,3506,15,0),".",b(9,3506,17,0,"_keys"))),b(3,3507,1,0,b(17,3507,8,0,"index"),"=",b(7,3507,16,0,b(17,3507,16,0,"__indexOfIdentical"),0,b(17,3507,38,0,"keys"),b(17,3507,43,0,"key"))),b(18,3508,1,0,b(3,3508,7,0,b(17,3508,7,0,"index"),"===",b(9,3508,16,0,-1)),b(23,3509,1,0,b(9,3509,1,0,!1)),b(4,3511,1,0,0,b(7,3511,1,0,b(3,3511,1,0,b(17,3511,1,0,"keys"),".",b(9,3511,12,0,"splice")),0,b(17,3511,19,0,"index"),b(9,3511,26,0,1)),b(23,3512,1,0,b(7,3512,1,0,b(3,3512,1,0,b(3,3512,1,0,b(25,3512,1,0),".",b(9,3512,8,0,"_values")),".",b(9,3512,16,0,"splice")),0,b(17,3512,23,0,"index"),b(9,3512,30,0,1)))))))),b(3,3514,1,0,b(3,3514,1,0,b(17,3479,68,0,"_Map_prototype"),".",b(9,3514,6,0,"keys")),"=",b(16,3514,11,0,0,0,["_arr","_e","_i","_send","_state","_step","_this","_throw","key"],b(4,3515,1,0,0,b(3,3515,1,0,b(17,3515,1,0,"_this"),"=",b(25,3515,1,0)),b(3,3514,11,0,b(17,3514,11,0,"_state"),"=",b(9,3514,11,0,0)),b(16,3514,11,0,b(17,3514,11,0,"_close"),0,0,b(3,3514,11,0,b(17,3514,11,0,"_state"),"=",b(9,3514,11,0,3))),b(16,3514,11,0,b(17,3514,11,0,"_step"),[b(17,3514,11,0,"_received")],0,b(14,3514,11,0,b(20,3514,11,0),b(9,3514,11,0,!0),b(20,3514,11,0),b(27,3514,11,0,0,b(17,3514,11,0,"_state"),3515,1,0,b(9,3515,1,0,0),b(4,3515,1,0,0,b(3,3515,1,0,b(17,3515,1,0,"_arr"),"=",b(7,3515,15,0,b(17,3515,15,0,"__toArray"),0,b(3,3515,15,0,b(17,3515,15,0,"_this"),".",b(9,3515,17,0,"_keys")))),b(3,3515,1,0,b(17,3515,1,0,"_i"),"=",b(3,3515,1,0,b(17,3515,1,0,"_arr"),".",b(9,3515,1,0,"length"))),b(30,3515,1,0,"++",b(17,3514,11,0,"_state"))),3515,1,0,b(9,3515,1,0,1),b(4,3515,1,0,0,b(3,3515,1,0,b(17,3514,11,0,"_state"),"=",b(19,3515,1,0,b(30,3515,1,0,"--post",b(17,3515,1,0,"_i")),b(9,3515,1,0,2),b(9,3515,1,0,3))),b(6,3515,1,0)),3516,1,0,b(9,3516,1,0,2),b(4,3516,1,0,0,b(3,3516,1,0,b(17,3515,8,0,"key"),"=",b(3,3515,1,0,b(17,3515,1,0,"_arr"),".",b(17,3515,1,0,"_i"))),b(3,3516,1,0,b(17,3514,11,0,"_state"),"=",b(9,3516,1,0,1)),b(23,3516,1,0,b(21,3516,1,0,3516,1,void 0,"done",b(9,3516,1,0,!1),3516,1,void 0,"value",b(17,3516,12,0,"key")))),3514,11,0,b(9,3514,11,0,3),b(23,3514,11,0,b(21,3514,11,0,3514,11,void 0,"done",b(9,3514,11,0,!0),3514,11,void 0,"value",b(9,3514,11,0))),b(26,3514,11,0,b(7,3514,11,0,b(17,3514,11,0,"Error"),0,b(3,3514,11,0,b(9,3514,11,0,"Unknown state: "),"+",b(17,3514,11,0,"_state"))))))),b(16,3514,11,0,b(17,3514,11,0,"_throw"),[b(17,3514,11,0,"_e")],0,b(4,3514,11,0,0,b(7,3514,11,0,b(17,3514,11,0,"_close"),0),b(26,3514,11,0,b(17,3514,11,0,"_e")))),b(16,3514,11,0,b(17,3514,11,0,"_send"),[b(17,3514,11,0,"_received")],0,b(28,3514,11,0,b(23,3514,11,0,b(7,3514,11,0,b(17,3514,11,0,"_step"),0,b(17,3514,11,0,"_received"))),b(17,3514,11,0,"_e"),b(7,3514,11,0,b(17,3514,11,0,"_throw"),0,b(17,3514,11,0,"_e")))),b(23,3514,11,0,b(21,3514,11,0,3514,11,void 0,"close",b(17,3514,11,0,"_close"),3514,11,void 0,"iterator",b(16,3514,11,0,0,0,0,b(23,3514,11,0,b(25,3514,11,0))),3514,11,void 0,"next",b(16,3514,11,0,0,0,0,b(23,3514,11,0,b(7,3514,11,0,b(17,3514,11,0,"_send"),0,b(9,3514,11,0)))),3514,11,void 0,"send",b(17,3514,11,0,"_send"),3514,11,void 0,"throw",b(16,3514,11,0,0,[b(17,3514,11,0,"_e")],0,b(4,3514,11,0,0,b(7,3514,11,0,b(17,3514,11,0,"_throw"),0,b(17,3514,11,0,"_e")),b(23,3514,11,0,b(7,3514,11,0,b(17,3514,11,0,"_send"),0,b(9,3514,11,0)))))))))),b(3,3518,1,0,b(3,3518,1,0,b(17,3479,68,0,"_Map_prototype"),".",b(9,3518,6,0,"values")),"=",b(16,3518,13,0,0,0,["_arr","_e","_i","_send","_state","_step","_this","_throw","value"],b(4,3519,1,0,0,b(3,3519,1,0,b(17,3519,1,0,"_this"),"=",b(25,3519,1,0)),b(3,3518,13,0,b(17,3518,13,0,"_state"),"=",b(9,3518,13,0,0)),b(16,3518,13,0,b(17,3518,13,0,"_close"),0,0,b(3,3518,13,0,b(17,3518,13,0,"_state"),"=",b(9,3518,13,0,3))),b(16,3518,13,0,b(17,3518,13,0,"_step"),[b(17,3518,13,0,"_received")],0,b(14,3518,13,0,b(20,3518,13,0),b(9,3518,13,0,!0),b(20,3518,13,0),b(27,3518,13,0,0,b(17,3518,13,0,"_state"),3519,1,0,b(9,3519,1,0,0),b(4,3519,1,0,0,b(3,3519,1,0,b(17,3519,1,0,"_arr"),"=",b(7,3519,17,0,b(17,3519,17,0,"__toArray"),0,b(3,3519,17,0,b(17,3519,17,0,"_this"),".",b(9,3519,19,0,"_values")))),b(3,3519,1,0,b(17,3519,1,0,"_i"),"=",b(3,3519,1,0,b(17,3519,1,0,"_arr"),".",b(9,3519,1,0,"length"))),b(30,3519,1,0,"++",b(17,3518,13,0,"_state"))),3519,1,0,b(9,3519,1,0,1),b(4,3519,1,0,0,b(3,3519,1,0,b(17,3518,13,0,"_state"),"=",b(19,3519,1,0,b(30,3519,1,0,"--post",b(17,3519,1,0,"_i")),b(9,3519,1,0,2),b(9,3519,1,0,3))),b(6,3519,1,0)),3520,1,0,b(9,3520,1,0,2),b(4,3520,1,0,0,b(3,3520,1,0,b(17,3519,8,0,"value"),"=",b(3,3519,1,0,b(17,3519,1,0,"_arr"),".",b(17,3519,1,0,"_i"))),b(3,3520,1,0,b(17,3518,13,0,"_state"),"=",b(9,3520,1,0,1)),b(23,3520,1,0,b(21,3520,1,0,3520,1,void 0,"done",b(9,3520,1,0,!1),3520,1,void 0,"value",b(17,3520,12,0,"value")))),3518,13,0,b(9,3518,13,0,3),b(23,3518,13,0,b(21,3518,13,0,3518,13,void 0,"done",b(9,3518,13,0,!0),3518,13,void 0,"value",b(9,3518,13,0))),b(26,3518,13,0,b(7,3518,13,0,b(17,3518,13,0,"Error"),0,b(3,3518,13,0,b(9,3518,13,0,"Unknown state: "),"+",b(17,3518,13,0,"_state"))))))),b(16,3518,13,0,b(17,3518,13,0,"_throw"),[b(17,3518,13,0,"_e")],0,b(4,3518,13,0,0,b(7,3518,13,0,b(17,3518,13,0,"_close"),0),b(26,3518,13,0,b(17,3518,13,0,"_e")))),b(16,3518,13,0,b(17,3518,13,0,"_send"),[b(17,3518,13,0,"_received")],0,b(28,3518,13,0,b(23,3518,13,0,b(7,3518,13,0,b(17,3518,13,0,"_step"),0,b(17,3518,13,0,"_received"))),b(17,3518,13,0,"_e"),b(7,3518,13,0,b(17,3518,13,0,"_throw"),0,b(17,3518,13,0,"_e")))),b(23,3518,13,0,b(21,3518,13,0,3518,13,void 0,"close",b(17,3518,13,0,"_close"),3518,13,void 0,"iterator",b(16,3518,13,0,0,0,0,b(23,3518,13,0,b(25,3518,13,0))),3518,13,void 0,"next",b(16,3518,13,0,0,0,0,b(23,3518,13,0,b(7,3518,13,0,b(17,3518,13,0,"_send"),0,b(9,3518,13,0)))),3518,13,void 0,"send",b(17,3518,13,0,"_send"),3518,13,void 0,"throw",b(16,3518,13,0,0,[b(17,3518,13,0,"_e")],0,b(4,3518,13,0,0,b(7,3518,13,0,b(17,3518,13,0,"_throw"),0,b(17,3518,13,0,"_e")),b(23,3518,13,0,b(7,3518,13,0,b(17,3518,13,0,"_send"),0,b(9,3518,13,0)))))))))),b(3,3522,1,0,b(3,3522,1,0,b(17,3479,68,0,"_Map_prototype"),".",b(9,3522,6,0,"items")),"=",b(16,3522,12,0,0,0,["_arr","_e","_send","_state","_step","_this","_throw","i","key","values"],b(4,3523,1,0,0,b(3,3523,1,0,b(17,3523,1,0,"_this"),"=",b(25,3523,1,0)),b(3,3522,12,0,b(17,3522,12,0,"_state"),"=",b(9,3522,12,0,0)),b(16,3522,12,0,b(17,3522,12,0,"_close"),0,0,b(3,3522,12,0,b(17,3522,12,0,"_state"),"=",b(9,3522,12,0,3))),b(16,3522,12,0,b(17,3522,12,0,"_step"),[b(17,3522,12,0,"_received")],0,b(14,3522,12,0,b(20,3522,12,0),b(9,3522,12,0,!0),b(20,3522,12,0),b(27,3522,12,0,0,b(17,3522,12,0,"_state"),3523,1,0,b(9,3523,1,0,0),b(4,3523,1,0,0,b(3,3523,1,0,b(17,3523,8,0,"values"),"=",b(3,3523,17,0,b(17,3523,17,0,"_this"),".",b(9,3523,19,0,"_values"))),b(3,3524,1,0,b(17,3524,1,0,"_arr"),"=",b(7,3524,18,0,b(17,3524,18,0,"__toArray"),0,b(3,3524,18,0,b(17,3524,18,0,"_this"),".",b(9,3524,20,0,"_keys")))),b(3,3524,13,0,b(17,3524,13,0,"i"),"=",b(3,3524,13,0,b(17,3524,1,0,"_arr"),".",b(9,3524,13,0,"length"))),b(30,3524,1,0,"++",b(17,3522,12,0,"_state"))),3524,13,0,b(9,3524,13,0,1),b(4,3524,13,0,0,b(3,3524,13,0,b(17,3522,12,0,"_state"),"=",b(19,3524,13,0,b(30,3524,13,0,"--post",b(17,3524,13,0,"i")),b(9,3524,13,0,2),b(9,3524,13,0,3))),b(6,3524,13,0)),3525,1,0,b(9,3525,1,0,2),b(4,3525,1,0,0,b(3,3525,1,0,b(17,3524,8,0,"key"),"=",b(3,3524,1,0,b(17,3524,1,0,"_arr"),".",b(17,3524,13,0,"i"))),b(3,3525,1,0,b(17,3522,12,0,"_state"),"=",b(9,3525,1,0,1)),b(23,3525,1,0,b(21,3525,1,0,3525,1,void 0,"done",b(9,3525,1,0,!1),3525,1,void 0,"value",b(2,3525,12,0,b(17,3525,14,0,"key"),b(3,3525,18,0,b(17,3525,18,0,"values"),".",b(17,3525,26,0,"i")))))),3522,12,0,b(9,3522,12,0,3),b(23,3522,12,0,b(21,3522,12,0,3522,12,void 0,"done",b(9,3522,12,0,!0),3522,12,void 0,"value",b(9,3522,12,0))),b(26,3522,12,0,b(7,3522,12,0,b(17,3522,12,0,"Error"),0,b(3,3522,12,0,b(9,3522,12,0,"Unknown state: "),"+",b(17,3522,12,0,"_state"))))))),b(16,3522,12,0,b(17,3522,12,0,"_throw"),[b(17,3522,12,0,"_e")],0,b(4,3522,12,0,0,b(7,3522,12,0,b(17,3522,12,0,"_close"),0),b(26,3522,12,0,b(17,3522,12,0,"_e")))),b(16,3522,12,0,b(17,3522,12,0,"_send"),[b(17,3522,12,0,"_received")],0,b(28,3522,12,0,b(23,3522,12,0,b(7,3522,12,0,b(17,3522,12,0,"_step"),0,b(17,3522,12,0,"_received"))),b(17,3522,12,0,"_e"),b(7,3522,12,0,b(17,3522,12,0,"_throw"),0,b(17,3522,12,0,"_e")))),b(23,3522,12,0,b(21,3522,12,0,3522,12,void 0,"close",b(17,3522,12,0,"_close"),3522,12,void 0,"iterator",b(16,3522,12,0,0,0,0,b(23,3522,12,0,b(25,3522,12,0))),3522,12,void 0,"next",b(16,3522,12,0,0,0,0,b(23,3522,12,0,b(7,3522,12,0,b(17,3522,12,0,"_send"),0,b(9,3522,12,0)))),3522,12,void 0,"send",b(17,3522,12,0,"_send"),3522,12,void 0,"throw",b(16,3522,12,0,0,[b(17,3522,12,0,"_e")],0,b(4,3522,12,0,0,b(7,3522,12,0,b(17,3522,12,0,"_throw"),0,b(17,3522,12,0,"_e")),b(23,3522,12,0,b(7,3522,12,0,b(17,3522,12,0,"_send"),0,b(9,3522,12,0)))))))))),b(3,3526,1,0,b(3,3526,1,0,b(17,3479,68,0,"_Map_prototype"),".",b(9,3526,6,0,"iterator")),"=",b(3,3526,17,0,b(3,3526,17,0,b(17,3526,17,0,"Map"),".",b(9,3526,17,0,"prototype")),".",b(9,3526,23,0,"items"))),b(23,3479,68,0,b(17,3479,74,0,"Map")))),0))),type:a.any,dependencies:["__create","__indexOfIdentical","__iter","__toArray","GLOBAL"]},Set:{helper:b(19,3528,20,0,b(3,3528,23,0,b(30,3528,23,0,"typeof",b(3,3528,36,0,b(17,3528,36,0,"GLOBAL"),".",b(9,3528,44,0,"Set"))),"===",b(9,3528,23,0,"function")),b(3,3528,52,0,b(17,3528,52,0,"GLOBAL"),".",b(9,3528,60,0,"Set")),b(3,3528,68,0,b(17,3528,74,0,"Set"),"=",b(7,3528,68,0,b(16,3528,68,0,0,0,["_Set_prototype"],b(4,3528,68,0,0,b(16,3529,1,0,b(17,3528,74,0,"Set"),[b(17,3529,19,0,"iterable")],["_item","_iter","_this","item"],b(4,3530,1,0,0,b(3,3530,1,0,b(17,3530,1,0,"_this"),"=",b(19,3529,18,0,b(3,3529,18,0,b(13,3529,18,0,b(9,3529,18,0,"this")),"instanceof",b(17,3528,74,0,"Set")),b(13,3529,18,0,b(9,3529,18,0,"this")),b(7,3529,18,0,b(17,3529,18,0,"__create"),0,b(17,3528,68,0,"_Set_prototype")))),b(3,3530,1,0,b(3,3530,1,0,b(17,3530,1,0,"_this"),".",b(9,3530,6,0,"_items")),"=",b(2,3530,15,0)),b(18,3531,1,0,b(3,3531,7,0,b(17,3531,7,0,"iterable"),"!=",b(9,0,0,0,null)),b(29,3532,1,0,b(14,3532,1,0,b(3,3532,1,0,b(17,3532,1,0,"_iter"),"=",b(7,3532,1,0,b(17,3532,1,0,"__iter"),0,b(17,3532,20,0,"iterable"))),b(9,0,0,0,!0),b(20,3532,1,0),b(4,3532,20,0,0,b(3,3532,20,0,b(17,3532,1,0,"_item"),"=",b(7,3532,20,0,b(3,3532,20,0,b(17,3532,1,0,"_iter"),".",b(9,3532,20,0,"next")),0)),b(18,3532,20,0,b(3,3532,20,0,b(17,3532,1,0,"_item"),".",b(9,3532,20,0,"done")),b(6,3532,20,0)),b(3,3532,20,0,b(17,3532,10,0,"item"),"=",b(3,3532,20,0,b(17,3532,1,0,"_item"),".",b(9,3532,20,0,"value"))),b(7,3533,1,0,b(3,3533,1,0,b(17,3533,1,0,"_this"),".",b(9,3533,10,0,"add")),0,b(17,3533,14,0,"item")))),b(28,3532,1,0,b(7,3532,1,0,b(3,3532,1,0,b(17,3532,1,0,"_iter"),".",b(9,3532,1,0,"close")),0),b(17,3532,1,0,"_e"),b(9,0,0,0)))),b(23,3530,1,0,b(17,3530,1,0,"_this")))),b(3,3528,74,0,b(17,3528,68,0,"_Set_prototype"),"=",b(3,3528,74,0,b(17,3528,74,0,"Set"),".",b(9,3528,74,0,"prototype"))),b(3,3528,74,0,b(3,3528,74,0,b(17,3528,74,0,"Set"),".",b(9,3528,74,0,"displayName")),"=",b(9,3528,68,0,"Set")),b(3,3535,1,0,b(3,3535,1,0,b(17,3528,68,0,"_Set_prototype"),".",b(9,3535,6,0,"has")),"=",b(16,3535,10,0,0,[b(17,3535,11,0,"item")],0,b(23,3536,1,0,b(3,3536,1,0,b(7,3536,1,0,b(17,3536,1,0,"__indexOfIdentical"),0,b(3,3536,26,0,b(25,3536,26,0),".",b(9,3536,27,0,"_items")),b(17,3536,34,0,"item")),"!==",b(9,3536,43,0,-1))))),b(3,3537,1,0,b(3,3537,1,0,b(17,3528,68,0,"_Set_prototype"),".",b(9,3537,6,0,"add")),"=",b(16,3537,10,0,0,[b(17,3537,11,0,"item")],["items"],b(5,3538,1,0,b(3,3538,1,0,b(17,3538,8,0,"items"),"=",b(3,3538,16,0,b(25,3538,16,0),".",b(9,3538,18,0,"_items"))),b(19,3539,1,0,b(3,3539,7,0,b(7,3539,7,0,b(17,3539,7,0,"__indexOfIdentical"),0,b(17,3539,29,0,"items"),b(17,3539,35,0,"item")),"===",b(9,3539,44,0,-1)),b(7,3540,1,0,b(3,3540,1,0,b(17,3540,1,0,"items"),".",b(9,3540,13,0,"push")),0,b(17,3540,18,0,"item")))))),b(3,3541,1,0,b(3,3541,1,0,b(17,3528,68,0,"_Set_prototype"),".",b(9,3541,6,0,"delete")),"=",b(16,3541,13,0,0,[b(17,3541,14,0,"item")],["index","items"],b(5,3542,1,0,b(3,3542,1,0,b(17,3542,8,0,"items"),"=",b(3,3542,16,0,b(25,3542,16,0),".",b(9,3542,18,0,"_items"))),b(3,3543,1,0,b(17,3543,8,0,"index"),"=",b(7,3543,16,0,b(17,3543,16,0,"__indexOfIdentical"),0,b(17,3543,38,0,"items"),b(17,3543,44,0,"item"))),b(19,3544,1,0,b(3,3544,7,0,b(17,3544,7,0,"index"),"!==",b(9,3544,16,0,-1)),b(5,3545,1,0,b(7,3545,1,0,b(3,3545,1,0,b(17,3545,1,0,"items"),".",b(9,3545,13,0,"splice")),0,b(17,3545,20,0,"index"),b(9,3545,27,0,1)),b(9,3546,1,0,!0)),b(9,3548,1,0,!1))))),b(3,3549,1,0,b(3,3549,1,0,b(17,3528,68,0,"_Set_prototype"),".",b(9,3549,6,0,"values")),"=",b(16,3549,13,0,0,0,["_arr","_e","_i","_send","_state","_step","_this","_throw","item"],b(4,3550,1,0,0,b(3,3550,1,0,b(17,3550,1,0,"_this"),"=",b(25,3550,1,0)),b(3,3549,13,0,b(17,3549,13,0,"_state"),"=",b(9,3549,13,0,0)),b(16,3549,13,0,b(17,3549,13,0,"_close"),0,0,b(3,3549,13,0,b(17,3549,13,0,"_state"),"=",b(9,3549,13,0,3))),b(16,3549,13,0,b(17,3549,13,0,"_step"),[b(17,3549,13,0,"_received")],0,b(14,3549,13,0,b(20,3549,13,0),b(9,3549,13,0,!0),b(20,3549,13,0),b(27,3549,13,0,0,b(17,3549,13,0,"_state"),3550,1,0,b(9,3550,1,0,0),b(4,3550,1,0,0,b(3,3550,1,0,b(17,3550,1,0,"_arr"),"=",b(7,3550,16,0,b(17,3550,16,0,"__toArray"),0,b(3,3550,16,0,b(17,3550,16,0,"_this"),".",b(9,3550,18,0,"_items")))),b(3,3550,1,0,b(17,3550,1,0,"_i"),"=",b(3,3550,1,0,b(17,3550,1,0,"_arr"),".",b(9,3550,1,0,"length"))),b(30,3550,1,0,"++",b(17,3549,13,0,"_state"))),3550,1,0,b(9,3550,1,0,1),b(4,3550,1,0,0,b(3,3550,1,0,b(17,3549,13,0,"_state"),"=",b(19,3550,1,0,b(30,3550,1,0,"--post",b(17,3550,1,0,"_i")),b(9,3550,1,0,2),b(9,3550,1,0,3))),b(6,3550,1,0)),3551,1,0,b(9,3551,1,0,2),b(4,3551,1,0,0,b(3,3551,1,0,b(17,3550,8,0,"item"),"=",b(3,3550,1,0,b(17,3550,1,0,"_arr"),".",b(17,3550,1,0,"_i"))),b(3,3551,1,0,b(17,3549,13,0,"_state"),"=",b(9,3551,1,0,1)),b(23,3551,1,0,b(21,3551,1,0,3551,1,void 0,"done",b(9,3551,1,0,!1),3551,1,void 0,"value",b(17,3551,12,0,"item")))),3549,13,0,b(9,3549,13,0,3),b(23,3549,13,0,b(21,3549,13,0,3549,13,void 0,"done",b(9,3549,13,0,!0),3549,13,void 0,"value",b(9,3549,13,0))),b(26,3549,13,0,b(7,3549,13,0,b(17,3549,13,0,"Error"),0,b(3,3549,13,0,b(9,3549,13,0,"Unknown state: "),"+",b(17,3549,13,0,"_state"))))))),b(16,3549,13,0,b(17,3549,13,0,"_throw"),[b(17,3549,13,0,"_e")],0,b(4,3549,13,0,0,b(7,3549,13,0,b(17,3549,13,0,"_close"),0),b(26,3549,13,0,b(17,3549,13,0,"_e")))),b(16,3549,13,0,b(17,3549,13,0,"_send"),[b(17,3549,13,0,"_received")],0,b(28,3549,13,0,b(23,3549,13,0,b(7,3549,13,0,b(17,3549,13,0,"_step"),0,b(17,3549,13,0,"_received"))),b(17,3549,13,0,"_e"),b(7,3549,13,0,b(17,3549,13,0,"_throw"),0,b(17,3549,13,0,"_e")))),b(23,3549,13,0,b(21,3549,13,0,3549,13,void 0,"close",b(17,3549,13,0,"_close"),3549,13,void 0,"iterator",b(16,3549,13,0,0,0,0,b(23,3549,13,0,b(25,3549,13,0))),3549,13,void 0,"next",b(16,3549,13,0,0,0,0,b(23,3549,13,0,b(7,3549,13,0,b(17,3549,13,0,"_send"),0,b(9,3549,13,0)))),3549,13,void 0,"send",b(17,3549,13,0,"_send"),3549,13,void 0,"throw",b(16,3549,13,0,0,[b(17,3549,13,0,"_e")],0,b(4,3549,13,0,0,b(7,3549,13,0,b(17,3549,13,0,"_throw"),0,b(17,3549,13,0,"_e")),b(23,3549,13,0,b(7,3549,13,0,b(17,3549,13,0,"_send"),0,b(9,3549,13,0)))))))))),b(3,3552,1,0,b(3,3552,1,0,b(17,3528,68,0,"_Set_prototype"),".",b(9,3552,6,0,"iterator")),"=",b(3,3552,17,0,b(3,3552,17,0,b(17,3552,17,0,"Set"),".",b(9,3552,17,0,"prototype")),".",b(9,3552,23,0,"values"))),b(23,3528,68,0,b(17,3528,74,0,"Set")))),0))),type:a.any,dependencies:["__create","__indexOfIdentical","__iter","__toArray","GLOBAL"]},setImmediate:{helper:b(19,3594,30,0,b(3,3594,33,0,b(30,3594,33,0,"typeof",b(3,3594,46,0,b(17,3594,46,0,"GLOBAL"),".",b(9,3594,54,0,"setImmediate"))),"===",b(9,3594,33,0,"function")),b(3,3595,1,0,b(17,3595,1,0,"GLOBAL"),".",b(9,3595,10,0,"setImmediate")),b(19,3594,30,0,b(3,3596,8,0,b(3,3596,8,0,b(30,3596,12,0,"typeof",b(17,3596,21,0,"process")),"!==",b(9,3596,12,0,"undefined")),"&&",b(3,3596,33,0,b(30,3596,33,0,"typeof",b(3,3596,46,0,b(17,3596,46,0,"process"),".",b(9,3596,55,0,"nextTick"))),"===",b(9,3596,33,0,"function"))),b(7,3597,1,0,b(16,3597,1,0,0,0,["nextTick"],b(4,3598,1,0,0,b(3,3598,1,0,b(17,3598,8,0,"nextTick"),"=",b(3,3598,20,0,b(17,3598,20,0,"process"),".",b(9,3598,29,0,"nextTick"))),b(23,3600,1,0,b(16,3600,1,0,0,[b(17,3599,7,0,"func")],["args"],b(4,3600,1,0,0,b(18,3599,7,0,b(3,3599,7,0,b(30,3599,7,0,"typeof",b(17,3599,7,0,"func")),"!==",b(9,3599,7,0,"function")),b(26,3599,7,0,b(7,3599,7,0,b(17,3599,7,0,"TypeError"),0,b(3,3599,7,0,b(9,3599,7,0,"Expected func to be a Function, got "),"+",b(7,3599,7,0,b(17,3599,7,0,"__typeof"),0,b(17,3599,7,0,"func")))))),b(3,3599,18,0,b(17,3599,22,0,"args"),"=",b(7,3599,18,0,b(3,3599,18,0,b(17,3599,18,0,"__slice"),".",b(9,3599,18,0,"call")),0,b(1,3599,18,0),b(9,3599,6,0,1))),b(18,3600,1,0,b(3,3600,9,0,b(17,3600,9,0,"args"),".",b(9,3600,15,0,"length")),b(23,3601,1,0,b(7,3601,1,0,b(17,3601,1,0,"nextTick"),0,b(16,3601,20,0,0,0,0,b(7,3601,23,0,b(3,3601,23,0,b(17,3601,23,0,"func"),".",b(9,3601,23,0,"apply")),0,b(9,3601,23,0),b(7,3601,32,0,b(17,3601,32,0,"__toArray"),0,b(17,3601,32,0,"args")))))),b(23,3603,1,0,b(7,3603,1,0,b(17,3603,1,0,"nextTick"),0,b(17,3603,19,0,"func"))))))))),0),b(16,3606,1,0,0,[b(17,3605,5,0,"func")],["args"],b(4,3606,1,0,0,b(18,3605,5,0,b(3,3605,5,0,b(30,3605,5,0,"typeof",b(17,3605,5,0,"func")),"!==",b(9,3605,5,0,"function")),b(26,3605,5,0,b(7,3605,5,0,b(17,3605,5,0,"TypeError"),0,b(3,3605,5,0,b(9,3605,5,0,"Expected func to be a Function, got "),"+",b(7,3605,5,0,b(17,3605,5,0,"__typeof"),0,b(17,3605,5,0,"func")))))),b(3,3605,16,0,b(17,3605,20,0,"args"),"=",b(7,3605,16,0,b(3,3605,16,0,b(17,3605,16,0,"__slice"),".",b(9,3605,16,0,"call")),0,b(1,3605,16,0),b(9,3605,4,0,1))),b(18,3606,1,0,b(3,3606,7,0,b(17,3606,7,0,"args"),".",b(9,3606,13,0,"length")),b(23,3607,1,0,b(7,3607,1,0,b(17,3607,1,0,"setTimeout"),0,b(16,3607,20,0,0,0,0,b(7,3607,23,0,b(3,3607,23,0,b(17,3607,23,0,"func"),".",b(9,3607,23,0,"apply")),0,b(9,3607,23,0),b(7,3607,32,0,b(17,3607,32,0,"__toArray"),0,b(17,3607,32,0,"args")))),b(9,3607,39,0,0))),b(23,3609,1,0,b(7,3609,1,0,b(17,3609,1,0,"setTimeout"),0,b(17,3609,19,0,"func"),b(9,3609,25,0,0)))))))),type:a.any,dependencies:["__slice","__toArray","__typeof","GLOBAL"]},__defer:{helper:b(7,3611,24,0,b(16,3611,24,0,0,0,0,b(4,3612,1,0,0,b(16,3612,1,0,b(17,3612,6,0,"__defer"),0,["deferred","isError","value"],b(4,3613,1,0,0,b(3,3613,1,0,b(17,3613,16,0,"isError"),"=",b(9,3613,27,0,!1)),b(3,3614,1,0,b(17,3614,16,0,"value"),"=",b(9,3614,24,0,null)),b(3,3616,1,0,b(17,3616,16,0,"deferred"),"=",b(2,3616,41,0)),b(16,3617,1,0,b(17,3617,8,0,"complete"),[b(17,3617,18,0,"newIsError"),b(17,3617,31,0,"newValue")],["funcs"],b(19,3618,1,0,b(17,3618,9,0,"deferred"),b(5,3619,1,0,b(3,3619,1,0,b(17,3619,12,0,"funcs"),"=",b(17,3619,29,0,"deferred")),b(3,3620,1,0,b(17,3620,1,0,"deferred"),"=",b(9,3620,20,0,null)),b(3,3621,1,0,b(17,3621,1,0,"isError"),"=",b(17,3621,20,0,"newIsError")),b(3,3622,1,0,b(17,3622,1,0,"value"),"=",b(17,3622,17,0,"newValue")),b(19,3623,1,0,b(3,3623,11,0,b(17,3623,11,0,"funcs"),".",b(9,3623,18,0,"length")),b(7,3624,1,0,b(17,3624,1,0,"setImmediate"),0,b(16,3624,26,0,0,0,["_end","i"],b(14,3625,1,0,b(5,3625,1,0,b(3,3625,22,0,b(17,3625,16,0,"i"),"=",b(9,3625,22,0,0)),b(3,3625,1,0,b(17,3625,1,0,"_end"),"=",b(3,3625,27,0,b(17,3625,27,0,"funcs"),".",b(9,3625,34,0,"length")))),b(3,3625,21,0,b(17,3625,16,0,"i"),"<",b(17,3625,1,0,"_end")),b(30,3625,21,0,"++",b(17,3625,16,0,"i")),b(7,3626,1,0,b(3,3626,1,0,b(17,3626,1,0,"funcs"),".",b(17,3626,21,0,"i")),0)))))))),b(23,3628,1,0,b(21,3628,1,0,3629,7,void 0,"promise",b(21,3629,15,0,3630,9,void 0,"then",b(16,3630,16,0,0,[b(17,3630,17,0,"onFulfilled"),b(17,3630,30,0,"onRejected"),b(17,3630,51,0,"allowSync")],["_ref","fulfill","promise","reject"],b(4,3631,1,0,0,b(18,3631,1,0,b(3,3631,13,0,b(17,3631,13,0,"allowSync"),"!==",b(9,3631,27,0,!0)),b(3,3632,1,0,b(17,3632,1,0,"allowSync"),"=",b(9,3632,26,0))),b(3,3633,1,0,b(17,3633,1,0,"_ref"),"=",b(7,3633,43,0,b(17,3633,43,0,"__defer"),0)),b(3,3633,1,0,b(17,3633,16,0,"promise"),"=",b(3,3633,1,0,b(17,3633,1,0,"_ref"),".",b(9,3633,1,0,"promise"))),b(3,3633,1,0,b(17,3633,24,0,"fulfill"),"=",b(3,3633,1,0,b(17,3633,1,0,"_ref"),".",b(9,3633,1,0,"fulfill"))),b(3,3633,1,0,b(17,3633,33,0,"reject"),"=",b(3,3633,1,0,b(17,3633,1,0,"_ref"),".",b(9,3633,1,0,"reject"))),b(17,3633,1,0,"_ref"),b(16,3634,1,0,b(17,3634,14,0,"step"),0,["f","result"],b(28,3634,27,0,b(4,3635,1,0,0,b(18,3635,20,0,b(17,3635,23,0,"isError"),b(3,3635,1,0,b(17,3635,16,0,"f"),"=",b(17,3635,37,0,"onRejected")),b(3,3635,1,0,b(17,3635,16,0,"f"),"=",b(17,3635,54,0,"onFulfilled"))),b(18,3636,1,0,b(3,3636,15,0,b(30,3636,15,0,"typeof",b(17,3636,28,0,"f")),"===",b(9,3636,15,0,"function")),b(4,3637,1,0,0,b(3,3637,1,0,b(17,3637,18,0,"result"),"=",b(7,3637,27,0,b(17,3637,27,0,"f"),0,b(17,3637,30,0,"value"))),b(18,3638,1,0,b(3,3638,17,0,b(17,3638,17,0,"result"),"&&",b(3,3638,28,0,b(30,3638,28,0,"typeof",b(3,3638,41,0,b(17,3638,41,0,"result"),".",b(9,3638,49,0,"then"))),"===",b(9,3638,28,0,"function"))),b(7,3639,1,0,b(3,3639,1,0,b(17,3639,1,0,"result"),".",b(9,3639,24,0,"then")),0,b(17,3639,29,0,"fulfill"),b(17,3639,37,0,"reject"),b(17,3639,45,0,"allowSync")),b(7,3641,1,0,b(17,3641,1,0,"fulfill"),0,b(17,3641,25,0,"result")))),b(7,3643,1,0,b(19,3643,16,0,b(17,3643,18,0,"isError"),b(17,3643,32,0,"reject"),b(17,3643,44,0,"fulfill")),0,b(17,3643,54,0,"value")))),b(17,3644,16,0,"e"),b(7,3645,1,0,b(17,3645,1,0,"reject"),0,b(17,3645,20,0,"e")))),b(18,3647,1,0,b(17,3647,13,0,"deferred"),b(7,3648,1,0,b(3,3648,1,0,b(17,3648,1,0,"deferred"),".",b(9,3648,22,0,"push")),0,b(17,3648,27,0,"step")),b(18,3647,1,0,b(17,3649,18,0,"allowSync"),b(7,3650,1,0,b(17,3650,1,0,"step"),0),b(7,3652,1,0,b(17,3652,1,0,"setImmediate"),0,b(17,3652,27,0,"step")))),b(23,3653,1,0,b(17,3653,1,0,"promise")))),3654,9,void 0,"sync",b(16,3654,16,0,0,0,["result","state"],b(4,3655,1,0,0,b(3,3655,1,0,b(17,3655,22,0,"state"),"=",b(9,3655,31,0,0)),b(3,3656,1,0,b(17,3656,22,0,"result"),"=",b(9,3656,32,0,0)),b(7,3657,1,0,b(3,3657,1,0,b(25,3657,1,0),".",b(9,3657,12,0,"then")),0,b(16,3658,14,0,0,[b(17,3658,15,0,"ret")],0,b(4,3659,1,0,0,b(3,3659,1,0,b(17,3659,1,0,"state"),"=",b(9,3659,24,0,1)),b(23,3660,1,0,b(3,3660,1,0,b(17,3660,1,0,"result"),"=",b(17,3660,24,0,"ret"))))),b(16,3661,14,0,0,[b(17,3661,15,0,"err")],0,b(4,3662,1,0,0,b(3,3662,1,0,b(17,3662,1,0,"state"),"=",b(9,3662,24,0,2)),b(23,3663,1,0,b(3,3663,1,0,b(17,3663,1,0,"result"),"=",b(17,3663,24,0,"err"))))),b(9,3664,13,0,!0)),b(27,3665,1,0,0,b(17,3665,17,0,"state"),3666,16,0,b(9,3666,16,0,0),b(26,3667,1,0,b(7,3667,18,0,b(17,3667,18,0,"Error"),0,b(9,3667,25,0,"Promise did not execute synchronously"))),3668,16,0,b(9,3668,16,0,1),b(23,3669,1,0,b(17,3669,19,0,"result")),3670,16,0,b(9,3670,16,0,2),b(26,3671,1,0,b(17,3671,18,0,"result")),b(26,3673,1,0,b(7,3673,18,0,b(17,3673,18,0,"Error"),0,b(9,3673,25,0,"Unknown state"))))))),3675,7,void 0,"fulfill",b(16,3675,14,0,0,[b(17,3675,15,0,"value")],0,b(7,3675,25,0,b(17,3675,25,0,"complete"),0,b(9,3675,35,0,!1),b(17,3675,41,0,"value"))),3676,7,void 0,"reject",b(16,3676,13,0,0,[b(17,3676,14,0,"reason")],0,b(7,3676,25,0,b(17,3676,25,0,"complete"),0,b(9,3676,35,0,!0),b(17,3676,40,0,"reason"))))))),b(3,3678,1,0,b(3,3678,1,0,b(17,3678,1,0,"__defer"),".",b(9,3678,11,0,"fulfilled")),"=",b(16,3678,25,0,0,[b(17,3678,26,0,"value")],["d"],b(4,3679,1,0,0,b(3,3679,1,0,b(17,3679,8,0,"d"),"=",b(7,3679,12,0,b(17,3679,12,0,"__defer"),0)),b(7,3680,1,0,b(3,3680,1,0,b(17,3680,1,0,"d"),".",b(9,3680,7,0,"fulfill")),0,b(17,3680,15,0,"value")),b(23,3681,1,0,b(3,3681,1,0,b(17,3681,1,0,"d"),".",b(9,3681,7,0,"promise")))))),b(3,3682,1,0,b(3,3682,1,0,b(17,3682,1,0,"__defer"),".",b(9,3682,11,0,"rejected")),"=",b(16,3682,24,0,0,[b(17,3682,25,0,"reason")],["d"],b(4,3683,1,0,0,b(3,3683,1,0,b(17,3683,8,0,"d"),"=",b(7,3683,12,0,b(17,3683,12,0,"__defer"),0)),b(7,3684,1,0,b(3,3684,1,0,b(17,3684,1,0,"d"),".",b(9,3684,7,0,"reject")),0,b(17,3684,14,0,"reason")),b(23,3685,1,0,b(3,3685,1,0,b(17,3685,1,0,"d"),".",b(9,3685,7,0,"promise")))))),b(23,3686,1,0,b(17,3686,1,0,"__defer")))),0),type:a.generic(a.functionBase,a.makeObject({fulfill:a.generic(a.functionBase,a.undefined),promise:a.makeObject({sync:a.generic(a.functionBase,a.number),then:a["function"]}),reject:a.generic(a.functionBase,a.undefined)})),dependencies:["setImmediate"]},__generatorToPromise:{helper:b(16,3689,1,0,0,[b(17,3688,42,0,"generator"),b(17,3688,83,0,"allowSync")],0,b(4,3689,1,0,0,b(18,3688,42,0,b(3,3688,42,0,b(3,3688,42,0,b(30,3688,42,0,"typeof",b(17,3688,42,0,"generator")),"!==",b(9,3688,42,0,"object")),"||",b(3,3688,42,0,b(17,3688,42,0,"generator"),"===",b(9,0,0,0,null))),b(26,3688,42,0,b(7,3688,42,0,b(17,3688,42,0,"TypeError"),0,b(3,3688,42,0,b(9,3688,42,0,"Expected generator to be an Object, got "),"+",b(7,3688,42,0,b(17,3688,42,0,"__typeof"),0,b(17,3688,42,0,"generator"))))),b(4,3688,41,0,0,b(18,3688,42,0,b(3,3688,42,0,b(30,3688,42,0,"typeof",b(3,3688,42,0,b(17,3688,42,0,"generator"),".",b(9,3688,56,0,"send"))),"!==",b(9,3688,42,0,"function")),b(26,3688,42,0,b(7,3688,42,0,b(17,3688,42,0,"TypeError"),0,b(3,3688,42,0,b(9,3688,42,0,"Expected generator.send to be a Function, got "),"+",b(7,3688,42,0,b(17,3688,42,0,"__typeof"),0,b(3,3688,42,0,b(17,3688,42,0,"generator"),".",b(9,3688,56,0,"send"))))))),b(18,3688,42,0,b(3,3688,42,0,b(30,3688,42,0,"typeof",b(3,3688,42,0,b(17,3688,42,0,"generator"),".",b(9,3688,68,0,"throw"))),"!==",b(9,3688,42,0,"function")),b(26,3688,42,0,b(7,3688,42,0,b(17,3688,42,0,"TypeError"),0,b(3,3688,42,0,b(9,3688,42,0,"Expected generator.throw to be a Function, got "),"+",b(7,3688,42,0,b(17,3688,42,0,"__typeof"),0,b(3,3688,42,0,b(17,3688,42,0,"generator"),".",b(9,3688,68,0,"throw"))))))))),b(18,3688,83,0,b(3,3688,83,0,b(17,3688,83,0,"allowSync"),"==",b(9,0,0,0,null)),b(3,3688,83,0,b(17,3688,83,0,"allowSync"),"=",b(9,0,0,0,!1)),b(18,3688,83,0,b(3,3688,83,0,b(30,3688,83,0,"typeof",b(17,3688,83,0,"allowSync")),"!==",b(9,3688,83,0,"boolean")),b(26,3688,83,0,b(7,3688,83,0,b(17,3688,83,0,"TypeError"),0,b(3,3688,83,0,b(9,3688,83,0,"Expected allowSync to be a Boolean, got "),"+",b(7,3688,83,0,b(17,3688,83,0,"__typeof"),0,b(17,3688,83,0,"allowSync"))))))),b(16,3689,1,0,b(17,3689,6,0,"continuer"),[b(17,3689,17,0,"verb"),b(17,3689,22,0,"arg")],["item"],b(4,3690,1,0,0,b(28,3691,1,0,b(3,3692,1,0,b(17,3692,1,0,"item"),"=",b(7,3692,14,0,b(3,3692,14,0,b(17,3692,14,0,"generator"),".",b(17,3692,25,0,"verb")),0,b(17,3692,31,0,"arg"))),b(17,3693,10,0,"e"),b(23,3694,1,0,b(7,3694,13,0,b(3,3694,13,0,b(17,3694,13,0,"__defer"),".",b(9,3694,22,0,"rejected")),0,b(17,3694,31,0,"e")))),b(18,3695,1,0,b(3,3695,7,0,b(17,3695,7,0,"item"),".",b(9,3695,13,0,"done")),b(23,3696,1,0,b(7,3696,1,0,b(3,3696,1,0,b(17,3696,1,0,"__defer"),".",b(9,3696,15,0,"fulfilled")),0,b(3,3696,25,0,b(17,3696,25,0,"item"),".",b(9,3696,30,0,"value")))),b(23,3698,1,0,b(7,3698,1,0,b(3,3698,1,0,b(3,3698,1,0,b(17,3698,1,0,"item"),".",b(9,3698,12,0,"value")),".",b(9,3698,18,0,"then")),0,b(17,3698,23,0,"callback"),b(17,3698,32,0,"errback"),b(17,3698,41,0,"allowSync")))))),b(16,3699,1,0,b(17,3699,6,0,"callback"),[b(17,3699,16,0,"value")],0,b(23,3699,25,0,b(7,3699,25,0,b(17,3699,25,0,"continuer"),0,b(9,3699,37,0,"send"),b(17,3699,42,0,"value")))),b(16,3700,1,0,b(17,3700,6,0,"errback"),[b(17,3700,15,0,"value")],0,b(23,3700,24,0,b(7,3700,24,0,b(17,3700,24,0,"continuer"),0,b(9,3700,36,0,"throw"),b(17,3700,42,0,"value")))),b(23,3701,1,0,b(7,3701,1,0,b(17,3701,1,0,"callback"),0,b(9,3701,12,0))))),type:a["function"],dependencies:["__defer","__typeof"]},__promise:{helper:b(16,3703,1,0,0,[b(17,3702,36,0,"value"),b(17,3702,43,0,"allowSync")],["factory"],b(4,3703,1,0,0,b(18,3702,43,0,b(3,3702,43,0,b(17,3702,43,0,"allowSync"),"==",b(9,0,0,0,null)),b(3,3702,43,0,b(17,3702,43,0,"allowSync"),"=",b(9,0,0,0,!1)),b(18,3702,43,0,b(3,3702,43,0,b(30,3702,43,0,"typeof",b(17,3702,43,0,"allowSync")),"!==",b(9,3702,43,0,"boolean")),b(26,3702,43,0,b(7,3702,43,0,b(17,3702,43,0,"TypeError"),0,b(3,3702,43,0,b(9,3702,43,0,"Expected allowSync to be a Boolean, got "),"+",b(7,3702,43,0,b(17,3702,43,0,"__typeof"),0,b(17,3702,43,0,"allowSync"))))))),b(18,3703,1,0,b(3,3703,5,0,b(30,3703,5,0,"typeof",b(17,3703,18,0,"value")),"===",b(9,3703,5,0,"function")),b(4,3704,1,0,0,b(3,3704,1,0,b(17,3704,8,0,"factory"),"=",b(16,3704,16,0,0,0,0,b(23,3704,21,0,b(7,3704,21,0,b(17,3704,21,0,"__generatorToPromise"),0,b(7,3704,45,0,b(3,3704,45,0,b(17,3704,45,0,"value"),".",b(9,3704,45,0,"apply")),0,b(25,3704,52,0),b(1,3704,61,0)))))),b(3,3705,1,0,b(3,3705,1,0,b(17,3705,1,0,"factory"),".",b(9,3705,13,0,"sync")),"=",b(16,3705,22,0,0,0,0,b(23,3705,24,0,b(7,3705,24,0,b(3,3705,24,0,b(7,3705,24,0,b(17,3705,24,0,"__generatorToPromise"),0,b(7,3705,48,0,b(3,3705,48,0,b(17,3705,48,0,"value"),".",b(9,3705,48,0,"apply")),0,b(25,3705,55,0),b(1,3705,64,0)),b(9,3705,75,0,!0)),".",b(9,3705,82,0,"sync")),0)))),b(3,3706,1,0,b(3,3706,1,0,b(17,3706,1,0,"factory"),".",b(9,3706,13,0,"maybeSync")),"=",b(16,3706,28,0,0,0,0,b(23,3706,30,0,b(7,3706,30,0,b(17,3706,30,0,"__generatorToPromise"),0,b(7,3706,54,0,b(3,3706,54,0,b(17,3706,54,0,"value"),".",b(9,3706,54,0,"apply")),0,b(25,3706,61,0),b(1,3706,70,0)),b(9,3706,81,0,!0))))),b(23,3707,1,0,b(17,3707,1,0,"factory"))),b(23,3709,1,0,b(7,3709,1,0,b(17,3709,1,0,"__generatorToPromise"),0,b(17,3709,28,0,"value"),b(17,3709,34,0,"allowSync")))))),type:a["function"],dependencies:["__generatorToPromise","__toArray","__typeof"]},__fromPromise:{helper:b(16,3747,65,0,0,[b(17,3747,34,0,"promise")],0,b(4,3747,65,0,0,b(18,3747,34,0,b(3,3747,34,0,b(3,3747,34,0,b(30,3747,34,0,"typeof",b(17,3747,34,0,"promise")),"!==",b(9,3747,34,0,"object")),"||",b(3,3747,34,0,b(17,3747,34,0,"promise"),"===",b(9,0,0,0,null))),b(26,3747,34,0,b(7,3747,34,0,b(17,3747,34,0,"TypeError"),0,b(3,3747,34,0,b(9,3747,34,0,"Expected promise to be an Object, got "),"+",b(7,3747,34,0,b(17,3747,34,0,"__typeof"),0,b(17,3747,34,0,"promise"))))),b(18,3747,34,0,b(3,3747,34,0,b(30,3747,34,0,"typeof",b(3,3747,34,0,b(17,3747,34,0,"promise"),".",b(9,3747,46,0,"then"))),"!==",b(9,3747,34,0,"function")),b(26,3747,34,0,b(7,3747,34,0,b(17,3747,34,0,"TypeError"),0,b(3,3747,34,0,b(9,3747,34,0,"Expected promise.then to be a Function, got "),"+",b(7,3747,34,0,b(17,3747,34,0,"__typeof"),0,b(3,3747,34,0,b(17,3747,34,0,"promise"),".",b(9,3747,46,0,"then")))))))),b(23,3747,65,0,b(16,3747,65,0,0,[b(17,3747,66,0,"callback")],0,b(7,3748,1,0,b(3,3748,1,0,b(17,3748,1,0,"promise"),".",b(9,3748,11,0,"then")),0,b(16,3749,6,0,0,[b(17,3749,7,0,"value")],0,b(23,3749,16,0,b(7,3749,16,0,b(17,3749,16,0,"setImmediate"),0,b(17,3749,31,0,"callback"),b(9,3749,40,0,null),b(17,3749,46,0,"value")))),b(16,3750,6,0,0,[b(17,3750,7,0,"reason")],0,b(23,3750,17,0,b(7,3750,17,0,b(17,3750,17,0,"setImmediate"),0,b(17,3750,32,0,"callback"),b(17,3750,41,0,"reason"))))))))),type:a.generic(a.functionBase,a.generic(a.functionBase,a.undefined)),dependencies:["__typeof","setImmediate"]},__toPromise:{helper:b(16,3758,1,0,0,[b(17,3757,32,0,"func"),b(17,3757,43,0,"context"),b(17,3757,52,0,"args")],["d"],b(4,3758,1,0,0,b(18,3757,32,0,b(3,3757,32,0,b(30,3757,32,0,"typeof",b(17,3757,32,0,"func")),"!==",b(9,3757,32,0,"function")),b(26,3757,32,0,b(7,3757,32,0,b(17,3757,32,0,"TypeError"),0,b(3,3757,32,0,b(9,3757,32,0,"Expected func to be a Function, got "),"+",b(7,3757,32,0,b(17,3757,32,0,"__typeof"),0,b(17,3757,32,0,"func")))))),b(3,3758,1,0,b(17,3758,6,0,"d"),"=",b(7,3758,10,0,b(17,3758,10,0,"__defer"),0)),b(7,3759,1,0,b(3,3759,1,0,b(17,3759,1,0,"func"),".",b(9,3759,1,0,"apply")),0,b(17,3759,9,0,"context"),b(7,3759,1,0,b(3,3759,1,0,b(7,3759,21,0,b(17,3759,21,0,"__toArray"),0,b(17,3759,21,0,"args")),".",b(9,3759,1,0,"concat")),0,b(2,3759,28,0,b(16,3759,28,0,0,[b(17,3759,29,0,"err"),b(17,3759,33,0,"value")],0,b(19,3760,1,0,b(3,3760,7,0,b(17,3760,7,0,"err"),"!=",b(9,0,0,0,null)),b(7,3761,1,0,b(3,3761,1,0,b(17,3761,1,0,"d"),".",b(9,3761,9,0,"reject")),0,b(17,3761,16,0,"err")),b(7,3763,1,0,b(3,3763,1,0,b(17,3763,1,0,"d"),".",b(9,3763,9,0,"fulfill")),0,b(17,3763,17,0,"value"))))))),b(23,3764,1,0,b(3,3764,1,0,b(17,3764,1,0,"d"),".",b(9,3764,5,0,"promise"))))),type:a.generic(a.functionBase,a.makeObject({sync:a.generic(a.functionBase,a.number),then:a["function"]})),dependencies:["__defer","__toArray","__typeof"]},__generator:{helper:b(16,3794,30,0,0,[b(17,3794,31,0,"func")],0,b(23,3794,41,0,b(16,3794,41,0,0,0,["_this","data"],b(4,3795,1,0,0,b(3,3795,1,0,b(17,3795,1,0,"_this"),"=",b(25,3795,1,0)),b(3,3795,1,0,b(17,3795,14,0,"data"),"=",b(2,3795,32,0,b(25,3795,34,0),b(7,3795,39,0,b(3,3795,39,0,b(17,3795,39,0,"__slice"),".",b(9,3795,48,0,"call")),0,b(1,3795,53,0)))),b(23,3796,1,0,b(21,3796,1,0,3797,5,void 0,"iterator",b(16,3797,13,0,0,0,0,b(23,3797,18,0,b(25,3797,18,0))),3798,5,void 0,"send",b(16,3798,9,0,0,0,["tmp"],b(23,3799,1,0,b(21,3799,1,0,3800,10,void 0,"done",b(9,3800,9,0,!0),3801,9,void 0,"value",b(19,3801,15,0,b(17,3801,18,0,"data"),b(5,3802,1,0,b(3,3802,1,0,b(17,3802,14,0,"tmp"),"=",b(17,3802,20,0,"data")),b(3,3803,1,0,b(17,3803,1,0,"data"),"=",b(9,3803,18,0,null)),b(7,3804,1,0,b(3,3804,1,0,b(17,3804,1,0,"func"),".",b(9,3804,16,0,"apply")),0,b(3,3804,22,0,b(17,3804,22,0,"tmp"),".",b(9,3804,26,0,0)),b(3,3804,29,0,b(17,3804,29,0,"tmp"),".",b(9,3804,34,0,1)))),b(9,3806,1,0))))),3808,5,void 0,"next",b(16,3808,9,0,0,0,0,b(23,3808,14,0,b(7,3808,14,0,b(3,3808,14,0,b(25,3808,14,0),".",b(9,3808,16,0,"send")),0))),3809,5,void 0,"throw",b(16,3809,10,0,0,[b(17,3809,11,0,"err")],0,b(4,3810,1,0,0,b(3,3810,1,0,b(17,3810,1,0,"data"),"=",b(9,3810,14,0,null)),b(26,3811,1,0,b(17,3811,12,0,"err")))))))))),type:a.generic(a.functionBase,a.generic(a.functionBase,a.makeObject({iterator:a["function"],next:a["function"],send:a.generic(a.functionBase,a.makeObject({done:a.boolean})),"throw":a.generic(a.functionBase,a.none)}))),dependencies:["__slice"]},__somePromise:{helper:b(16,3815,1,0,0,[b(17,3814,34,0,"promises")],["defer","i"],b(4,3815,1,0,0,b(18,3814,34,0,b(30,3814,34,0,"!",b(7,3814,34,0,b(17,3814,34,0,"__isArray"),0,b(17,3814,34,0,"promises"))),b(26,3814,34,0,b(7,3814,34,0,b(17,3814,34,0,"TypeError"),0,b(3,3814,34,0,b(9,3814,34,0,"Expected promises to be an Array, got "),"+",b(7,3814,34,0,b(17,3814,34,0,"__typeof"),0,b(17,3814,34,0,"promises")))))),b(3,3815,1,0,b(17,3815,6,0,"defer"),"=",b(7,3815,14,0,b(17,3815,14,0,"__defer"),0)),b(3,3816,1,0,b(17,3816,14,0,"i"),"=",b(3,3816,18,0,b(17,3816,18,0,"promises"),".",b(9,3816,28,0,"length"))),b(14,3817,1,0,b(20,3817,1,0),b(30,3817,8,0,"--post",b(17,3817,18,0,"i")),b(20,3817,1,0),b(7,3818,1,0,b(3,3818,1,0,b(3,3818,1,0,b(17,3818,1,0,"promises"),".",b(17,3818,14,0,"i")),".",b(9,3818,17,0,"then")),0,b(3,3818,22,0,b(17,3818,22,0,"defer"),".",b(9,3818,28,0,"fulfill")),b(3,3818,36,0,b(17,3818,36,0,"defer"),".",b(9,3818,43,0,"reject")))),b(23,3819,1,0,b(3,3819,1,0,b(17,3819,1,0,"defer"),".",b(9,3819,9,0,"promise"))))),type:a.generic(a.functionBase,a.makeObject({sync:a.generic(a.functionBase,a.number),then:a["function"]})),dependencies:["__defer","__isArray","__typeof"]},__everyPromise:{helper:b(16,3830,1,0,0,[b(17,3829,35,0,"promises")],["defer","i","isArray","k","remaining","result","v"],b(4,3830,1,0,0,b(18,3829,35,0,b(3,3829,35,0,b(3,3829,35,0,b(30,3829,35,0,"typeof",b(17,3829,35,0,"promises")),"!==",b(9,3829,35,0,"object")),"||",b(3,3829,35,0,b(17,3829,35,0,"promises"),"===",b(9,0,0,0,null))),b(26,3829,35,0,b(7,3829,35,0,b(17,3829,35,0,"TypeError"),0,b(3,3829,35,0,b(9,3829,35,0,"Expected promises to be an Object, got "),"+",b(7,3829,35,0,b(17,3829,35,0,"__typeof"),0,b(17,3829,35,0,"promises")))))),b(3,3830,1,0,b(17,3830,6,0,"isArray"),"=",b(7,3830,17,0,b(17,3830,17,0,"__isArray"),0,b(17,3830,27,0,"promises"))),b(3,3831,1,0,b(17,3831,6,0,"defer"),"=",b(7,3831,14,0,b(17,3831,14,0,"__defer"),0)),b(18,3832,15,0,b(17,3832,18,0,"isArray"),b(3,3832,1,0,b(17,3832,6,0,"result"),"=",b(2,3832,32,0)),b(3,3832,1,0,b(17,3832,6,0,"result"),"=",b(21,3832,40,0))),b(3,3833,1,0,b(17,3833,14,0,"remaining"),"=",b(9,3833,27,0,0)),b(16,3834,1,0,b(17,3834,6,0,"handle"),[b(17,3834,14,0,"key"),b(17,3834,18,0,"promise")],0,b(23,3835,1,0,b(7,3835,1,0,b(3,3835,1,0,b(17,3835,1,0,"promise"),".",b(9,3835,13,0,"then")),0,b(16,3836,8,0,0,[b(17,3836,9,0,"value")],0,b(5,3837,1,0,b(3,3837,1,0,b(3,3837,1,0,b(17,3837,1,0,"result"),".",b(17,3837,16,0,"key")),"=",b(17,3837,23,0,"value")),b(19,3838,1,0,b(3,3838,11,0,b(30,3838,13,0,"--",b(17,3838,13,0,"remaining")),"===",b(9,3838,32,0,0)),b(7,3839,1,0,b(3,3839,1,0,b(17,3839,1,0,"defer"),".",b(9,3839,17,0,"fulfill")),0,b(17,3839,25,0,"result"))))),b(3,3840,7,0,b(17,3840,7,0,"defer"),".",b(9,3840,13,0,"reject"))))),b(18,3841,1,0,b(17,3841,5,0,"isArray"),b(4,3842,1,0,0,b(3,3842,1,0,b(17,3842,16,0,"i"),"=",b(3,3842,20,0,b(17,3842,20,0,"promises"),".",b(9,3842,30,0,"length"))),b(3,3843,1,0,b(17,3843,1,0,"remaining"),"=",b(17,3843,17,0,"i")),b(14,3844,1,0,b(20,3844,1,0),b(30,3844,10,0,"--post",b(17,3844,20,0,"i")),b(20,3844,1,0),b(7,3845,1,0,b(17,3845,1,0,"handle"),0,b(17,3845,14,0,"i"),b(3,3845,16,0,b(17,3845,16,0,"promises"),".",b(17,3845,26,0,"i"))))),b(15,3847,1,0,b(17,3847,8,0,"k"),b(17,3847,16,0,"promises"),b(18,3848,1,0,b(7,3848,1,0,b(3,3848,1,0,b(17,3848,1,0,"__owns"),".",b(9,3848,1,0,"call")),0,b(17,3847,16,0,"promises"),b(17,3847,8,0,"k")),b(4,3848,1,0,0,b(3,3847,1,0,b(17,3847,11,0,"v"),"=",b(3,3847,1,0,b(17,3847,16,0,"promises"),".",b(17,3847,8,0,"k"))),b(30,3848,1,0,"++",b(17,3848,1,0,"remaining")),b(7,3849,1,0,b(17,3849,1,0,"handle"),0,b(17,3849,14,0,"k"),b(17,3849,16,0,"v")))))),b(23,3850,1,0,b(3,3850,1,0,b(17,3850,1,0,"defer"),".",b(9,3850,9,0,"promise"))))),type:a.generic(a.functionBase,a.makeObject({sync:a.generic(a.functionBase,a.number),then:a["function"]})),dependencies:["__defer","__isArray","__owns","__typeof"]},__delay:{helper:b(16,3861,1,0,0,[b(17,3860,27,0,"milliseconds"),b(17,3860,50,0,"value")],["defer"],b(4,3861,1,0,0,b(18,3860,27,0,b(3,3860,27,0,b(30,3860,27,0,"typeof",b(17,3860,27,0,"milliseconds")),"!==",b(9,3860,27,0,"number")),b(26,3860,27,0,b(7,3860,27,0,b(17,3860,27,0,"TypeError"),0,b(3,3860,27,0,b(9,3860,27,0,"Expected milliseconds to be a Number, got "),"+",b(7,3860,27,0,b(17,3860,27,0,"__typeof"),0,b(17,3860,27,0,"milliseconds")))))),b(18,3861,1,0,b(3,3861,5,0,b(17,3861,5,0,"milliseconds"),"<=",b(9,3861,22,0,0)),b(23,3862,1,0,b(7,3862,1,0,b(3,3862,1,0,b(17,3862,1,0,"__defer"),".",b(9,3862,13,0,"fulfilled")),0,b(17,3862,23,0,"value"))),b(4,3864,1,0,0,b(3,3864,1,0,b(17,3864,8,0,"defer"),"=",b(7,3864,16,0,b(17,3864,16,0,"__defer"),0)),b(7,3865,1,0,b(17,3865,1,0,"setTimeout"),0,b(16,3865,19,0,0,0,0,b(7,3865,22,0,b(3,3865,22,0,b(17,3865,22,0,"defer"),".",b(9,3865,29,0,"fulfill")),0,b(17,3865,37,0,"value"))),b(17,3865,45,0,"milliseconds")),b(23,3866,1,0,b(3,3866,1,0,b(17,3866,1,0,"defer"),".",b(9,3866,11,0,"promise"))))))),type:a["function"],dependencies:["__defer","__typeof"]},__promiseLoop:{helper:b(16,3885,1,0,0,[b(17,3884,41,0,"limit"),b(17,3884,58,0,"length"),b(17,3884,76,0,"body")],["defer","done","index","result","slotsUsed"],b(4,3885,1,0,0,b(18,3884,41,0,b(3,3884,41,0,b(30,3884,41,0,"typeof",b(17,3884,41,0,"limit")),"!==",b(9,3884,41,0,"number")),b(26,3884,41,0,b(7,3884,41,0,b(17,3884,41,0,"TypeError"),0,b(3,3884,41,0,b(9,3884,41,0,"Expected limit to be a Number, got "),"+",b(7,3884,41,0,b(17,3884,41,0,"__typeof"),0,b(17,3884,41,0,"limit")))))),b(18,3884,58,0,b(3,3884,58,0,b(30,3884,58,0,"typeof",b(17,3884,58,0,"length")),"!==",b(9,3884,58,0,"number")),b(26,3884,58,0,b(7,3884,58,0,b(17,3884,58,0,"TypeError"),0,b(3,3884,58,0,b(9,3884,58,0,"Expected length to be a Number, got "),"+",b(7,3884,58,0,b(17,3884,58,0,"__typeof"),0,b(17,3884,58,0,"length")))))),b(18,3884,76,0,b(3,3884,76,0,b(30,3884,76,0,"typeof",b(17,3884,76,0,"body")),"!==",b(9,3884,76,0,"function")),b(26,3884,76,0,b(7,3884,76,0,b(17,3884,76,0,"TypeError"),0,b(3,3884,76,0,b(9,3884,76,0,"Expected body to be a Function, got "),"+",b(7,3884,76,0,b(17,3884,76,0,"__typeof"),0,b(17,3884,76,0,"body")))))),b(18,3885,1,0,b(3,3885,5,0,b(3,3885,5,0,b(17,3885,5,0,"limit"),"<",b(9,3885,15,0,1)),"||",b(3,3885,19,0,b(17,3885,19,0,"limit"),"!==",b(17,3885,28,0,"limit"))),b(3,3886,1,0,b(17,3886,1,0,"limit"),"=",b(9,3886,13,0,1/0))),b(3,3888,1,0,b(17,3888,6,0,"result"),"=",b(2,3888,15,0)),b(3,3889,1,0,b(17,3889,14,0,"done"),"=",b(9,3889,21,0,!1)),b(3,3890,1,0,b(17,3890,14,0,"slotsUsed"),"=",b(9,3890,28,0,0)),b(3,3891,1,0,b(17,3891,6,0,"defer"),"=",b(7,3891,14,0,b(17,3891,14,0,"__defer"),0)),b(3,3892,1,0,b(17,3892,14,0,"index"),"=",b(9,3892,23,0,0)),b(16,3893,1,0,b(17,3893,6,0,"handle"),[b(17,3893,14,0,"index")],0,b(4,3894,1,0,0,b(30,3894,1,0,"++",b(17,3894,1,0,"slotsUsed")),b(23,3895,1,0,b(7,3895,1,0,b(3,3895,1,0,b(7,3895,1,0,b(17,3895,1,0,"body"),0,b(17,3895,10,0,"index")),".",b(9,3895,17,0,"then")),0,b(16,3896,8,0,0,[b(17,3896,9,0,"value")],0,b(4,3897,1,0,0,b(3,3897,1,0,b(3,3897,1,0,b(17,3897,1,0,"result"),".",b(17,3897,16,0,"index")),"=",b(17,3897,25,0,"value")),b(30,3898,1,0,"--",b(17,3898,1,0,"slotsUsed")),b(23,3899,1,0,b(7,3899,1,0,b(17,3899,1,0,"flush"),0)))),b(16,3900,8,0,0,[b(17,3900,9,0,"reason")],0,b(4,3901,1,0,0,b(3,3901,1,0,b(17,3901,1,0,"done"),"=",b(9,3901,16,0,!0)),b(23,3902,1,0,b(7,3902,1,0,b(3,3902,1,0,b(17,3902,1,0,"defer"),".",b(9,3902,15,0,"reject")),0,b(17,3902,22,0,"reason"))))))))),b(16,3903,1,0,b(17,3903,6,0,"flush"),0,0,b(4,3904,1,0,0,b(14,3904,1,0,b(20,3904,1,0),b(3,3904,10,0,b(3,3904,10,0,b(30,3904,10,0,"!",b(17,3904,14,0,"done")),"&&",b(3,3904,23,0,b(17,3904,23,0,"slotsUsed"),"<",b(17,3904,36,0,"limit"))),"&&",b(3,3904,46,0,b(17,3904,46,0,"index"),"<",b(17,3904,54,0,"length"))),b(30,3904,62,0,"++",b(17,3904,62,0,"index")),b(7,3905,1,0,b(17,3905,1,0,"handle"),0,b(17,3905,14,0,"index"))),b(18,3906,1,0,b(3,3906,7,0,b(3,3906,7,0,b(30,3906,7,0,"!",b(17,3906,11,0,"done")),"&&",b(3,3906,20,0,b(17,3906,20,0,"index"),">=",b(17,3906,29,0,"length"))),"&&",b(3,3906,40,0,b(17,3906,40,0,"slotsUsed"),"===",b(9,3906,55,0,0))),b(4,3907,1,0,0,b(3,3907,1,0,b(17,3907,1,0,"done"),"=",b(9,3907,14,0,!0)),b(23,3908,1,0,b(7,3908,1,0,b(3,3908,1,0,b(17,3908,1,0,"defer"),".",b(9,3908,13,0,"fulfill")),0,b(17,3908,21,0,"result"))))))),b(7,3909,1,0,b(17,3909,1,0,"setImmediate"),0,b(17,3909,17,0,"flush")),b(23,3910,1,0,b(3,3910,1,0,b(17,3910,1,0,"defer"),".",b(9,3910,9,0,"promise"))))),type:a.generic(a.functionBase,a.makeObject({sync:a.generic(a.functionBase,a.number),then:a["function"]})),dependencies:["__defer","__typeof","setImmediate"]},__promiseIter:{helper:b(16,3913,1,0,0,[b(17,3912,41,0,"limit"),b(17,3912,58,0,"iterator"),b(17,3912,88,0,"body")],["defer","done","index","iterStopped","result","slotsUsed"],b(4,3913,1,0,0,b(18,3912,41,0,b(3,3912,41,0,b(30,3912,41,0,"typeof",b(17,3912,41,0,"limit")),"!==",b(9,3912,41,0,"number")),b(26,3912,41,0,b(7,3912,41,0,b(17,3912,41,0,"TypeError"),0,b(3,3912,41,0,b(9,3912,41,0,"Expected limit to be a Number, got "),"+",b(7,3912,41,0,b(17,3912,41,0,"__typeof"),0,b(17,3912,41,0,"limit")))))),b(18,3912,58,0,b(3,3912,58,0,b(3,3912,58,0,b(30,3912,58,0,"typeof",b(17,3912,58,0,"iterator")),"!==",b(9,3912,58,0,"object")),"||",b(3,3912,58,0,b(17,3912,58,0,"iterator"),"===",b(9,0,0,0,null))),b(26,3912,58,0,b(7,3912,58,0,b(17,3912,58,0,"TypeError"),0,b(3,3912,58,0,b(9,3912,58,0,"Expected iterator to be an Object, got "),"+",b(7,3912,58,0,b(17,3912,58,0,"__typeof"),0,b(17,3912,58,0,"iterator"))))),b(18,3912,58,0,b(3,3912,58,0,b(30,3912,58,0,"typeof",b(3,3912,58,0,b(17,3912,58,0,"iterator"),".",b(9,3912,72,0,"next"))),"!==",b(9,3912,58,0,"function")),b(26,3912,58,0,b(7,3912,58,0,b(17,3912,58,0,"TypeError"),0,b(3,3912,58,0,b(9,3912,58,0,"Expected iterator.next to be a Function, got "),"+",b(7,3912,58,0,b(17,3912,58,0,"__typeof"),0,b(3,3912,58,0,b(17,3912,58,0,"iterator"),".",b(9,3912,72,0,"next")))))))),b(18,3912,88,0,b(3,3912,88,0,b(30,3912,88,0,"typeof",b(17,3912,88,0,"body")),"!==",b(9,3912,88,0,"function")),b(26,3912,88,0,b(7,3912,88,0,b(17,3912,88,0,"TypeError"),0,b(3,3912,88,0,b(9,3912,88,0,"Expected body to be a Function, got "),"+",b(7,3912,88,0,b(17,3912,88,0,"__typeof"),0,b(17,3912,88,0,"body")))))),b(18,3913,1,0,b(3,3913,5,0,b(3,3913,5,0,b(17,3913,5,0,"limit"),"<",b(9,3913,15,0,1)),"||",b(3,3913,19,0,b(17,3913,19,0,"limit"),"!==",b(17,3913,28,0,"limit"))),b(3,3914,1,0,b(17,3914,1,0,"limit"),"=",b(9,3914,13,0,1/0))),b(3,3916,1,0,b(17,3916,6,0,"result"),"=",b(2,3916,15,0)),b(3,3917,1,0,b(17,3917,14,0,"done"),"=",b(9,3917,21,0,!1)),b(3,3918,1,0,b(17,3918,14,0,"slotsUsed"),"=",b(9,3918,28,0,0)),b(3,3919,1,0,b(17,3919,6,0,"defer"),"=",b(7,3919,14,0,b(17,3919,14,0,"__defer"),0)),b(3,3920,1,0,b(17,3920,14,0,"index"),"=",b(9,3920,23,0,0)),b(3,3921,1,0,b(17,3921,14,0,"iterStopped"),"=",b(9,3921,29,0,!1)),b(16,3922,1,0,b(17,3922,6,0,"handle"),[b(17,3922,14,0,"item"),b(17,3922,19,0,"index")],0,b(4,3923,1,0,0,b(30,3923,1,0,"++",b(17,3923,1,0,"slotsUsed")),b(23,3924,1,0,b(7,3924,1,0,b(3,3924,1,0,b(7,3924,1,0,b(17,3924,1,0,"body"),0,b(17,3924,10,0,"item"),b(17,3924,15,0,"index")),".",b(9,3924,23,0,"then")),0,b(16,3925,8,0,0,[b(17,3925,9,0,"value")],0,b(4,3926,1,0,0,b(3,3926,1,0,b(3,3926,1,0,b(17,3926,1,0,"result"),".",b(17,3926,16,0,"index")),"=",b(17,3926,25,0,"value")),b(30,3927,1,0,"--",b(17,3927,1,0,"slotsUsed")),b(23,3928,1,0,b(7,3928,1,0,b(17,3928,1,0,"flush"),0)))),b(16,3929,8,0,0,[b(17,3929,9,0,"reason")],0,b(4,3930,1,0,0,b(3,3930,1,0,b(17,3930,1,0,"done"),"=",b(9,3930,16,0,!0)),b(23,3931,1,0,b(7,3931,1,0,b(3,3931,1,0,b(17,3931,1,0,"defer"),".",b(9,3931,15,0,"reject")),0,b(17,3931,22,0,"reason"))))))))),b(16,3932,1,0,b(17,3932,6,0,"flush"),0,["item"],b(4,3933,1,0,0,b(14,3933,1,0,b(20,3933,1,0),b(3,3933,10,0,b(3,3933,10,0,b(30,3933,10,0,"!",b(17,3933,14,0,"done")),"&&",b(30,3933,23,0,"!",b(17,3933,27,0,"iterStopped"))),"&&",b(3,3933,44,0,b(17,3933,44,0,"slotsUsed"),"<",b(17,3933,57,0,"limit"))),b(20,3933,1,0),b(4,3934,1,0,0,b(3,3934,1,0,b(17,3934,18,0,"item"),"=",b(9,3934,25,0)),b(28,3935,1,0,b(3,3936,1,0,b(17,3936,1,0,"item"),"=",b(7,3936,16,0,b(3,3936,16,0,b(17,3936,16,0,"iterator"),".",b(9,3936,26,0,"next")),0)),b(17,3937,12,0,"e"),b(4,3938,1,0,0,b(3,3938,1,0,b(17,3938,1,0,"done"),"=",b(9,3938,16,0,!0)),b(7,3939,1,0,b(3,3939,1,0,b(17,3939,1,0,"defer"),".",b(9,3939,15,0,"reject")),0,b(17,3939,22,0,"e")),b(23,3940,1,0))),b(18,3942,1,0,b(3,3942,9,0,b(17,3942,9,0,"item"),".",b(9,3942,15,0,"done")),b(4,3943,1,0,0,b(3,3943,1,0,b(17,3943,1,0,"iterStopped"),"=",b(9,3943,24,0,!0)),b(6,3944,1,0))),b(7,3946,1,0,b(17,3946,1,0,"handle"),0,b(3,3946,14,0,b(17,3946,14,0,"item"),".",b(9,3946,19,0,"value")),b(30,3946,25,0,"++post",b(17,3946,35,0,"index"))))),b(18,3948,1,0,b(3,3948,7,0,b(3,3948,7,0,b(30,3948,7,0,"!",b(17,3948,11,0,"done")),"&&",b(3,3948,20,0,b(17,3948,20,0,"slotsUsed"),"===",b(9,3948,35,0,0))),"&&",b(17,3948,40,0,"iterStopped")),b(4,3949,1,0,0,b(3,3949,1,0,b(17,3949,1,0,"done"),"=",b(9,3949,14,0,!0)),b(23,3950,1,0,b(7,3950,1,0,b(3,3950,1,0,b(17,3950,1,0,"defer"),".",b(9,3950,13,0,"fulfill")),0,b(17,3950,21,0,"result"))))))),b(7,3951,1,0,b(17,3951,1,0,"setImmediate"),0,b(17,3951,17,0,"flush")),b(23,3952,1,0,b(3,3952,1,0,b(17,3952,1,0,"defer"),".",b(9,3952,9,0,"promise"))))),type:a.generic(a.functionBase,a.makeObject({sync:a.generic(a.functionBase,a.number),then:a["function"]})),dependencies:["__defer","__typeof","setImmediate"]}},binaryOperator:[{code:function(a){var b,c,d;
return b=a.left,c=a.op,d=a.right,this.binary(b,"&&",d)},operators:"and",options:{precedence:1},id:1},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.binary(b,"||",d)},operators:"or",options:{precedence:1},id:2},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.binary(b,"===",d)},operators:"==",options:{precedence:2,maximum:1,type:"boolean"},id:5},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,c(23,void 0,3,43,{op:"not",node:c(23,void 0,5,43,{left:b(d),inverted:!1,op:"==",right:b(f)})})},operators:"!=",options:{precedence:2,maximum:1,type:"boolean"},id:6},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.binary(b,"==",d)},operators:"~=",options:{precedence:2,maximum:1,type:"boolean"},id:7},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,c(23,void 0,3,49,{op:"not",node:c(23,void 0,7,49,{left:b(d),inverted:!1,op:"~=",right:b(f)})})},operators:"!~=",options:{precedence:2,maximum:1,type:"boolean"},id:8},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.binary(b,"~<"===c&&"<"||"<=",d)},operators:["~<","~<="],options:{precedence:2,maximum:1,type:"boolean"},id:9},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,"~>"===e&&c(23,void 0,3,57,{op:"not",node:c(23,void 0,9,57,{left:b(d),inverted:!1,op:"~<=",right:b(f)})})||c(23,void 0,3,57,{op:"not",node:c(23,void 0,9,57,{left:b(d),inverted:!1,op:"~<",right:b(f)})})},operators:["~>","~>="],options:{precedence:2,maximum:1,type:"boolean"},id:10},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.hasType(b,"numeric")&&this.hasType(d,"numeric")?this.binary(this.binary(this["const"](""),"+",b),"+",d):this.isConst(b)&&""===this.value(b)&&this.isType(d,"string")?d:this.isConst(d)&&""===this.value(d)&&this.isType(b,"string")?b:this.binary(b,"+",d)},operators:"~&",options:{precedence:7,type:"string"},id:29},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,"~\\"===e?c(9,void 0,c(1,void 0,c(21,void 0,"Math"),c(12,void 0,"floor")),[b(this.binary(d,"/",f))]):"~*"===e?this.binary(d,"*",f):"~/"===e?this.binary(d,"/",f):this.binary(d,"%",f)},operators:["~*","~/","~%","~\\"],options:{precedence:11,type:"number"},id:45},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,"~+"===e?this.isType(f,"numeric")?(this.isType(d,"numeric")||(d=c(23,d,48,383,{op:"~+",node:b(d)})),this.binary(d,"+",f)):this.binary(d,"-",c(23,f,48,380,{op:"~-",node:b(f)})):this.binary(d,"-",f)},operators:["~+","~-"],options:{precedence:10,type:"number"},id:49},{code:function(a,b,c){var d,e,f,g;if(d=a.left,e=a.op,f=a.right,this.isConst(f)){if(g=Number(this.value(f)),0===g)return c(7,void 0,[b(d),c(12,void 0,1)]);if(.5===g)return c(9,void 0,c(1,void 0,c(21,void 0,"Math"),c(12,void 0,"sqrt")),[b(d)]);if(1===g)return c(23,void 0,48,398,{op:"~+",node:b(d)});if(2===g)return this.maybeCache(d,function(a,d){return c(23,void 0,45,401,{left:b(a),inverted:!1,op:"~*",right:b(d)})});if(3===g)return this.maybeCache(d,function(a,d){return c(23,void 0,45,404,{left:c(23,void 0,45,404,{left:b(a),inverted:!1,op:"~*",right:b(d)}),inverted:!1,op:"~*",right:b(d)})});if(g===-.5)return c(23,void 0,45,406,{left:c(12,void 0,1),inverted:!1,op:"~/",right:c(9,void 0,c(1,void 0,c(21,void 0,"Math"),c(12,void 0,"sqrt")),[b(d)])});if(-1===g)return c(23,void 0,45,408,{left:c(12,void 0,1),inverted:!1,op:"~/",right:b(d)});if(-2===g)return this.maybeCache(d,function(a,d){return c(23,void 0,45,411,{left:c(12,void 0,1),inverted:!1,op:"~/",right:c(23,void 0,45,411,{left:b(a),inverted:!1,op:"~*",right:b(d)})})});if(-3===g)return this.maybeCache(d,function(a,d){return c(23,void 0,45,414,{left:c(12,void 0,1),inverted:!1,op:"~/",right:c(23,void 0,45,414,{left:c(23,void 0,45,414,{left:b(a),inverted:!1,op:"~*",right:b(d)}),inverted:!1,op:"~*",right:b(d)})})})}return c(9,void 0,c(1,void 0,c(21,void 0,"Math"),c(12,void 0,"pow")),[b(d),b(f)])},operators:"~^",options:{precedence:12,rightToLeft:!0,type:"number"},id:50},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,"~bitlshift"===c?this.binary(b,"<<",d):"~bitrshift"===c?this.binary(b,">>",d):this.binary(b,">>>",d)},operators:["~bitlshift","~bitrshift","~biturshift"],options:{precedence:9,maximum:1,type:"number"},id:54},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,this.getConstValue("DISABLE_TYPE_CHECKING",!1)?c(23,void 0,50,580,{left:b(d),inverted:!1,op:"~^",right:b(f)}):c(23,void 0,50,582,{left:c(23,void 0,60,582,{op:"+",node:b(d)}),inverted:!1,op:"~^",right:c(23,void 0,60,582,{op:"+",node:b(f)})})},operators:"^",options:{precedence:12,rightToLeft:!0,type:"number"},id:62},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,"*"===e?c(23,void 0,45,590,{left:c(23,void 0,60,590,{op:"+",node:b(d)}),inverted:!1,op:"~*",right:c(23,void 0,60,590,{op:"+",node:b(f)})}):"/"===e?c(23,void 0,45,592,{left:c(23,void 0,60,592,{op:"+",node:b(d)}),inverted:!1,op:"~/",right:c(23,void 0,60,592,{op:"+",node:b(f)})}):"%"===e?c(23,void 0,45,594,{left:c(23,void 0,60,594,{op:"+",node:b(d)}),inverted:!1,op:"~%",right:c(23,void 0,60,594,{op:"+",node:b(f)})}):c(23,void 0,45,596,{left:c(23,void 0,60,596,{op:"+",node:b(d)}),inverted:!1,op:"~\\",right:c(23,void 0,60,596,{op:"+",node:b(f)})})},operators:["*","/","%","\\"],options:{precedence:11,type:"number"},id:64},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,"+"===e?c(23,void 0,49,603,{left:c(23,void 0,60,603,{op:"+",node:b(d)}),inverted:!1,op:"~+",right:c(23,void 0,60,603,{op:"+",node:b(f)})}):c(23,void 0,49,605,{left:c(23,void 0,60,605,{op:"+",node:b(d)}),inverted:!1,op:"~-",right:c(23,void 0,60,605,{op:"+",node:b(f)})})},operators:["+","-"],options:{precedence:10,type:"number"},id:66},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,"bitlshift"===e?c(23,void 0,54,609,{left:c(23,void 0,60,609,{op:"+",node:b(d)}),inverted:!1,op:"~bitlshift",right:c(23,void 0,60,609,{op:"+",node:b(f)})}):"bitrshift"===e?c(23,void 0,54,611,{left:c(23,void 0,60,611,{op:"+",node:b(d)}),inverted:!1,op:"~bitrshift",right:c(23,void 0,60,611,{op:"+",node:b(f)})}):c(23,void 0,54,613,{left:c(23,void 0,60,613,{op:"+",node:b(d)}),inverted:!1,op:"~biturshift",right:c(23,void 0,60,613,{op:"+",node:b(f)})})},operators:["bitlshift","bitrshift","biturshift"],options:{precedence:9,maximum:1,type:"number"},id:67},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,this.getConstValue("DISABLE_TYPE_CHECKING",!1)||(this.isType(d,"stringOrNumber")||(d=this.hasType(d,"number")?c(9,d,c(21,d,"__strnum"),[b(d)]):c(9,d,c(21,d,"__str"),[b(d)])),this.isType(f,"stringOrNumber")||(f=this.hasType(f,"number")?c(9,f,c(21,f,"__strnum"),[b(f)]):c(9,f,c(21,f,"__str"),[b(f)]))),c(23,void 0,29,631,{left:b(d),inverted:!1,op:"~&",right:b(f)})},operators:"&",options:{precedence:7,type:"string",label:"stringConcat"},id:69},{code:function(a,b,c,d){var e,f,g,h,i;return g=a.left,h=a.op,i=a.right,this.isArray(i)?(e=this.elements(i),0===e.length?this.isComplex(g)?c(7,void 0,[b(g),d("false")]):d("false"):1===e.length?c(23,void 0,5,653,{left:b(g),inverted:!1,op:"==",right:b(e[0])}):(f=function(a,d,g){return a<e.length?f(+a+1,c(23,void 0,2,657,{left:b(d),inverted:!1,op:"or",right:c(23,void 0,5,657,{left:b(g),inverted:!1,op:"==",right:b(e[a])})}),g):d},this.maybeCache(g,function(a,d){return f(1,c(23,void 0,5,661,{left:b(a),inverted:!1,op:"==",right:b(e[0])}),d)}))):c(9,void 0,c(21,void 0,"__in"),[b(g),b(i)])},operators:"in",options:{precedence:6,maximum:1,invertible:!0,type:"boolean"},id:71},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.binary(d,"in",b)},operators:"haskey",options:{precedence:6,maximum:1,invertible:!0,type:"boolean"},id:72},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,c(9,void 0,c(21,void 0,"__owns"),[b(d),b(f)],!1,!0)},operators:"ownskey",options:{precedence:6,maximum:1,invertible:!0,type:"boolean",label:"ownership"},id:73},{code:function(a,b,c){var d,e,f;if(d=a.left,e=a.op,f=a.right,this.isIdent(f)){if("String"===this.name(f))return c(23,void 0,23,676,{op:"isString!",node:b(d)});if("Number"===this.name(f))return c(23,void 0,24,678,{op:"isNumber!",node:b(d)});if("Boolean"===this.name(f))return c(23,void 0,25,680,{op:"isBoolean!",node:b(d)});if("Function"===this.name(f))return c(23,void 0,26,682,{op:"isFunction!",node:b(d)});if("Array"===this.name(f))return c(23,void 0,27,684,{op:"isArray!",node:b(d)});if("Object"===this.name(f))return c(23,void 0,28,686,{op:"isObject!",node:b(d)})}return this.binary(d,"instanceof",f)},operators:"instanceof",options:{precedence:6,maximum:1,invertible:!0,type:"boolean"},id:74},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,c(9,void 0,c(21,void 0,"__cmp"),[b(d),b(f)])},operators:"<=>",options:{precedence:5,maximum:1,type:"number"},id:75},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,c(23,void 0,5,707,{left:c(23,void 0,64,707,{left:b(d),inverted:!1,op:"%",right:b(f)}),inverted:!1,op:"==",right:c(12,void 0,0)})},operators:"%%",options:{precedence:2,maximum:1,invertible:!0,type:"boolean"},id:76},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,c(23,void 0,5,710,{left:c(23,void 0,45,710,{left:b(d),inverted:!1,op:"~%",right:b(f)}),inverted:!1,op:"==",right:c(12,void 0,0)})},operators:"~%%",options:{precedence:2,maximum:1,invertible:!0,type:"boolean"},id:77},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,this.getConstValue("DISABLE_TYPE_CHECKING",!1)?"<"===e?c(23,void 0,9,747,{left:b(d),inverted:!1,op:"~<",right:b(f)}):c(23,void 0,9,749,{left:b(d),inverted:!1,op:"~<=",right:b(f)}):this.isType(d,"number")?this.isType(f,"number")?"<"===e?c(23,void 0,9,753,{left:b(d),inverted:!1,op:"~<",right:b(f)}):c(23,void 0,9,755,{left:b(d),inverted:!1,op:"~<=",right:b(f)}):"<"===e?c(23,void 0,9,758,{left:b(d),inverted:!1,op:"~<",right:c(9,void 0,c(21,void 0,"__num"),[b(f)])}):c(23,void 0,9,760,{left:b(d),inverted:!1,op:"~<=",right:c(9,void 0,c(21,void 0,"__num"),[b(f)])}):this.isType(d,"string")?this.isType(f,"string")?"<"===e?c(23,void 0,9,764,{left:b(d),inverted:!1,op:"~<",right:b(f)}):c(23,void 0,9,766,{left:b(d),inverted:!1,op:"~<=",right:b(f)}):"<"===e?c(23,void 0,9,769,{left:b(d),inverted:!1,op:"~<",right:c(9,void 0,c(21,void 0,"__str"),[b(f)])}):c(23,void 0,9,771,{left:b(d),inverted:!1,op:"~<=",right:c(9,void 0,c(21,void 0,"__str"),[b(f)])}):this.isType(f,"number")?"<"===e?c(23,void 0,9,774,{left:c(9,void 0,c(21,void 0,"__num"),[b(d)]),inverted:!1,op:"~<",right:b(f)}):c(23,void 0,9,776,{left:c(9,void 0,c(21,void 0,"__num"),[b(d)]),inverted:!1,op:"~<=",right:b(f)}):this.isType(f,"string")?"<"===e?c(23,void 0,9,779,{left:c(9,void 0,c(21,void 0,"__str"),[b(d)]),inverted:!1,op:"~<",right:b(f)}):c(23,void 0,9,781,{left:c(9,void 0,c(21,void 0,"__str"),[b(d)]),inverted:!1,op:"~<=",right:b(f)}):"<"===e?c(9,void 0,c(21,void 0,"__lt"),[b(d),b(f)]):c(9,void 0,c(21,void 0,"__lte"),[b(d),b(f)])},operators:["<","<="],options:{precedence:2,maximum:1,type:"boolean"},id:78},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,">"===e?c(23,void 0,3,789,{op:"not",node:c(23,void 0,78,789,{left:b(d),inverted:!1,op:"<=",right:b(f)})}):c(23,void 0,3,791,{op:"not",node:c(23,void 0,78,791,{left:b(d),inverted:!1,op:"<",right:b(f)})})},operators:[">",">="],options:{precedence:2,maximum:1,type:"boolean"},id:79},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,this.maybeCache(d,function(a,d){return this.maybeCache(f,function(e,f){return c(23,void 0,16,796,{macroName:"if",macroData:{test:c(23,void 0,9,796,{left:b(a),inverted:!1,op:"~<",right:b(e)}),body:b(d),elseIfs:[],elseBody:b(f)}})})})},operators:"~min",options:{precedence:8},id:80},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,this.maybeCache(d,function(a,d){return this.maybeCache(f,function(e,f){return c(23,void 0,16,801,{macroName:"if",macroData:{test:c(23,void 0,10,801,{left:b(a),inverted:!1,op:"~>",right:b(e)}),body:b(d),elseIfs:[],elseBody:b(f)}})})})},operators:"~max",options:{precedence:8},id:81},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,this.maybeCache(d,function(a,d){return this.maybeCache(f,function(e,f){return c(23,void 0,16,806,{macroName:"if",macroData:{test:c(23,void 0,78,806,{left:b(a),inverted:!1,op:"<",right:b(e)}),body:b(d),elseIfs:[],elseBody:b(f)}})})})},operators:"min",options:{precedence:8},id:82},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,this.maybeCache(d,function(a,d){return this.maybeCache(f,function(e,f){return c(23,void 0,16,811,{macroName:"if",macroData:{test:c(23,void 0,79,811,{left:b(a),inverted:!1,op:">",right:b(e)}),body:b(d),elseIfs:[],elseBody:b(f)}})})})},operators:"max",options:{precedence:8},id:83},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,c(9,void 0,c(21,void 0,"__xor"),[b(d),b(f)])},operators:"xor",options:{precedence:1},id:84},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,this.maybeCache(d,function(a,d){return c(23,void 0,16,818,{macroName:"if",macroData:{test:c(23,void 0,20,818,{op:"?",node:b(a)}),body:b(d),elseIfs:[],elseBody:b(f)}})})},operators:"?",options:{precedence:1},id:85},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.binary(b,"&",d)},operators:"~bitand",options:{precedence:1,type:"number"},id:93},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.binary(b,"|",d)},operators:"~bitor",options:{precedence:1,type:"number"},id:94},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.binary(b,"^",d)},operators:"~bitxor",options:{precedence:1,type:"number"},id:95},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,c(23,void 0,93,901,{left:c(23,void 0,60,901,{op:"+",node:b(d)}),inverted:!1,op:"~bitand",right:c(23,void 0,60,901,{op:"+",node:b(f)})})},operators:"bitand",options:{precedence:1,type:"number"},id:97},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,c(23,void 0,94,904,{left:c(23,void 0,60,904,{op:"+",node:b(d)}),inverted:!1,op:"~bitor",right:c(23,void 0,60,904,{op:"+",node:b(f)})})},operators:"bitor",options:{precedence:1,type:"number"},id:98},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,c(23,void 0,95,907,{left:c(23,void 0,60,907,{op:"+",node:b(d)}),inverted:!1,op:"~bitxor",right:c(23,void 0,60,907,{op:"+",node:b(f)})})},operators:"bitxor",options:{precedence:1,type:"number"},id:99},{code:function(a,b,c,d){var e,f,g;return e=a.left,f=a.op,g=a.right,c(9,void 0,c(21,void 0,"__range"),[b(e),b(g),c(12,void 0,1),d("true")])},operators:"to",options:{maximum:1,precedence:4,type:"array"},id:111},{code:function(a,b,c,d){var e,f,g;return e=a.left,f=a.op,g=a.right,c(9,void 0,c(21,void 0,"__range"),[b(e),b(g),c(12,void 0,1),d("false")])},operators:"til",options:{maximum:1,precedence:4,type:"array"},id:112},{code:function(){var a,b;return a=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+b(a));return a},b=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d){var e,f,g,h;return f=b.left,g=b.op,h=b.right,this.hasType(h,"number")||this.error("Must provide a number to the 'by' operator",h),this.isConst(h)&&0===this.value(h)&&this.error("'by' step must be non-zero",h),this.isCall(f)&&this.isIdent(this.callFunc(f))&&"__range"===this.name(this.callFunc(f))&&!this.callIsApply(f)?(e=this.callArgs(f),d(9,void 0,d(21,void 0,"__range"),[c(e[0]),c(e[1]),c(h),c(e[3])])):(this.isConst(h)&&0!==a(this.value(h))%1&&this.error("'by' step must be an integer",h),d(9,void 0,d(21,void 0,"__step"),[c(f),c(h)]))}}.call(this),operators:"by",options:{maximum:1,precedence:3,type:"array"},id:113},{code:function(){var a,b,c;return a=function(a,b){var c;if(c=typeof a,"number"!==c&&"string"!==c)throw TypeError("Cannot compare a non-number/string: "+c);if(c!==typeof b)throw TypeError("Cannot compare elements of different types: "+c+" vs "+typeof b);return b>a},b=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+c(a));return a},c=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(c,d,e,f){var g,h,i,j,k,l;return j=c.left,k=c.op,l=c.right,this.isArray(l)?(h=this.elements(l),0===h.length?this.isComplex(j)?e(7,void 0,[d(j),f("false")]):f("false"):1===h.length?(g=h[0],e(23,void 0,74,2104,{left:d(j),inverted:!1,op:"instanceof",right:d(g)})):(i=function(c,f,g){var j;return a(c,h.length)?(j=h[c],i(b(c)+1,e(23,void 0,2,2109,{left:d(f),inverted:!1,op:"or",right:e(23,void 0,74,2109,{left:d(g),inverted:!1,op:"instanceof",right:d(j)})}),g)):f},this.maybeCache(j,function(a,b){var c;return c=h[0],i(1,e(23,void 0,74,2114,{left:d(a),inverted:!1,op:"instanceof",right:d(c)}),b)}))):e(9,void 0,e(21,void 0,"__instanceofsome"),[d(j),d(l)])}}.call(this),operators:"instanceofsome",options:{precedence:6,maximum:1,invertible:!0,type:"boolean"},id:119},{code:function(){var a,b,c;return a="function"==typeof Object.is?Object.is:function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b},b=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+c(a));return a},c=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(c,d,e){var f,g,h,i;return f=c.left,g=c.op,i=c.right,this.hasType(f,"number")&&this.hasType(i,"number")?this.isConst(f)?this.isConst(i)?(h=a(this.value(f),this.value(i)),d(h)):"number"==typeof this.value(f)&&isNaN(this.value(f))?this.maybeCache(i,function(a,b){return e(23,void 0,6,3207,{left:d(a),inverted:!1,op:"!=",right:d(b)})}):0===this.value(f)?this.maybeCache(i,function(a,c){return 1/b(this.value(f))<0?e(23,void 0,1,3211,{left:e(23,void 0,5,3211,{left:d(a),inverted:!1,op:"==",right:e(12,void 0,0)}),inverted:!1,op:"and",right:e(23,void 0,78,3211,{left:e(23,void 0,45,3211,{left:e(12,void 0,1),inverted:!1,op:"~/",right:d(c)}),inverted:!1,op:"<",right:e(12,void 0,0)})}):e(23,void 0,1,3213,{left:e(23,void 0,5,3213,{left:d(a),inverted:!1,op:"==",right:e(12,void 0,0)}),inverted:!1,op:"and",right:e(23,void 0,79,3213,{left:e(23,void 0,45,3213,{left:e(12,void 0,1),inverted:!1,op:"~/",right:d(c)}),inverted:!1,op:">",right:e(12,void 0,0)})})}):e(23,void 0,5,3215,{left:d(f),inverted:!1,op:"==",right:d(i)}):this.isConst(i)?"number"==typeof this.value(i)&&isNaN(this.value(i))?this.maybeCache(f,function(a,b){return e(23,void 0,6,3219,{left:d(a),inverted:!1,op:"!=",right:d(b)})}):0===this.value(i)?this.maybeCache(f,function(a,c){return 1/b(this.value(i))<0?e(23,void 0,1,3223,{left:e(23,void 0,5,3223,{left:d(a),inverted:!1,op:"==",right:e(12,void 0,0)}),inverted:!1,op:"and",right:e(23,void 0,78,3223,{left:e(23,void 0,45,3223,{left:e(12,void 0,1),inverted:!1,op:"~/",right:d(c)}),inverted:!1,op:"<",right:e(12,void 0,0)})}):e(23,void 0,1,3225,{left:e(23,void 0,5,3225,{left:d(a),inverted:!1,op:"==",right:e(12,void 0,0)}),inverted:!1,op:"and",right:e(23,void 0,79,3225,{left:e(23,void 0,45,3225,{left:e(12,void 0,1),inverted:!1,op:"~/",right:d(c)}),inverted:!1,op:">",right:e(12,void 0,0)})})}):e(23,void 0,5,3227,{left:d(f),inverted:!1,op:"==",right:d(i)}):e(9,void 0,e(21,void 0,"__is"),[d(f),d(i)]):e(23,void 0,5,3231,{left:d(f),inverted:!1,op:"==",right:d(i)})}}.call(this),operators:"is",options:{precedence:2,maximum:1,type:"boolean"},id:144},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,c(23,void 0,3,3234,{op:"not",node:c(23,void 0,144,3234,{left:b(d),inverted:!1,op:"is",right:b(f)})})},operators:"isnt",options:{precedence:2,maximum:1,type:"boolean"},id:145},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,c(9,void 0,c(21,void 0,"__compose"),[b(d),b(f)])},operators:"<<",options:{precedence:13,type:"function"},id:147},{code:function(a,b,c){var d,e,f,g;return d=a.left,e=a.op,f=a.right,this.isNoop(d)||this.isNoop(f)?c(9,void 0,c(21,void 0,"__compose"),[b(f),b(d)]):(g=this.tmp("ref"),c(7,void 0,[c(23,void 0,38,3299,{macroName:"let",macroData:{declarable:c(23,void 0,37,3299,c(23,void 0,31,3299,{ident:b(g)},!0),!0),value:b(d)}},!0),c(9,void 0,c(21,void 0,"__compose"),[b(f),b(g)])]))},operators:">>",options:{precedence:13,type:"function",rightToLeft:!0},id:148},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,c(9,void 0,b(d),[b(f)])},operators:"<|",options:{precedence:0,rightToLeft:!0},id:149},{code:function(a,b,c){var d,e,f,g;return d=a.left,e=a.op,f=a.right,this.isNoop(d)||this.isNoop(f)?c(9,void 0,b(f),[b(d)]):(g=this.tmp("ref"),c(7,void 0,[c(23,void 0,38,3327,{macroName:"let",macroData:{declarable:c(23,void 0,37,3327,c(23,void 0,31,3327,{ident:b(g)},!0),!0),value:b(d)}},!0),c(9,void 0,b(f),[b(g)])]))},operators:"|>",options:{precedence:0},id:150},{code:function(){var a,b,c,d,e;return a="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),b=Array.prototype.slice,c=function(a){var b;if(b=typeof a,"string"===b)return a;if("number"===b)return String(a);throw TypeError("Expected a string or number, got "+e(a))},d=function(c){if(null==c)throw TypeError("Expected an object, got "+e(c));if(a(c))return c;if("string"==typeof c)return c.split("");if("number"==typeof c.length)return b.call(c);throw TypeError("Expected an object with a length property, got "+e(c))},e=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(a,b,e,f){var g,h,i;return g=a.left,h=a.op,i=a.right,this.isObject(i)?this.maybeCache(g,function(a,g){var h,j,k,l,m,n,o,p,q,r;for(k=[a],p=this.pairs(i),h=d(p),m=0,o=h.length;o>m;++m)if(j=h[m],n=j.key,r=j.value,q=j.property,null!=q){if(("get"===q||"set"===q)&&o-1>m&&null!=p[m+1].property&&this.eq(n,p[m+1].key)&&p[m+1].property!==q&&("get"===(j=p[m+1].property)||"set"===j))continue;"property"===q?k.push(e(9,n,e(21,n,"__defProp"),[b(g),b(n),b(r)])):"get"===q||"set"===q?(l=m>0&&null!=p[m-1].property&&this.eq(n,p[m-1].key)&&p[m-1].property!==q&&("get"===(j=p[m-1].property)||"set"===j)?e(26,r,[{key:b(p[m-1].property),value:b(p[m-1].value)},{key:b(q),value:b(r)},{key:e(12,r,"enumerable"),value:f("true")},{key:e(12,r,"configurable"),value:f("true")}]):e(26,r,[{key:b(q),value:b(r)},{key:e(12,r,"enumerable"),value:f("true")},{key:e(12,r,"configurable"),value:f("true")}]),k.push(e(9,n,e(21,n,"__defProp"),[b(g),b(n),b(l)]))):this.error("Unknown property: "+c(q),n)}else k.push(e(23,n,30,3367,{left:e(1,n,b(g),b(n)),op:":=",right:b(r)},!0));return k.push(g),this.block(k)}):e(9,void 0,e(21,void 0,"__import"),[b(g),b(i)])}}.call(this),operators:"<<<",options:{precedence:6},id:151},{code:function(a,b,c){var d,e,f,g;return d=a.left,e=a.op,f=a.right,this.isNoop(d)||this.isNoop(f)?c(23,void 0,151,3380,{left:b(f),inverted:!1,op:"<<<",right:b(d)}):(g=this.tmp("ref"),c(7,void 0,[c(23,void 0,38,3377,{macroName:"let",macroData:{declarable:c(23,void 0,37,3377,c(23,void 0,31,3377,{ident:b(g)},!0),!0),value:b(d)}},!0),c(23,void 0,151,3378,{left:b(f),inverted:!1,op:"<<<",right:b(g)},!0)]))},operators:">>>",options:{precedence:6,rightToLeft:!0},id:152}],assignOperator:[{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,!this.isComplex(b)||this.isAccess(b)&&!this.isComplex(this.parent(b))&&!this.isComplex(this.child(b))?this.mutateLast(d||this.noop(),function(a){return this.assign(b,"=",a)},!0):this.assign(b,"=",d)},operators:":=",options:{type:"right"},id:30},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,this.maybeCacheAccess(d,function(a,d){return c(23,void 0,1,326,{left:b(a),inverted:!1,op:"and",right:c(23,void 0,30,326,{left:b(d),op:":=",right:b(f)})})})},operators:"and=",options:void 0,id:43},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,this.maybeCacheAccess(d,function(a,d){return c(23,void 0,2,330,{left:b(a),inverted:!1,op:"or",right:c(23,void 0,30,330,{left:b(d),op:":=",right:b(f)})})})},operators:"or=",options:void 0,id:44},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.isIdentOrTmp(b)?this.mutateLast(d||this.noop(),function(a){return"~*="===c?this.assign(b,"*=",a):"~/="===c?this.assign(b,"/=",a):this.assign(b,"%=",a)},!0):"~*="===c?this.assign(b,"*=",d):"~/="===c?this.assign(b,"/=",d):this.assign(b,"%=",d)},operators:["~*=","~/=","~%="],options:{type:"number"},id:46},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,this.maybeCacheAccess(d,function(a,d){return c(23,void 0,30,365,{left:b(a),op:":=",right:c(23,void 0,45,365,{left:b(d),inverted:!1,op:"~\\",right:b(f)})})})},operators:"~\\=",options:{type:"number"},id:47},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,this.maybeCacheAccess(d,function(a,d){return c(23,void 0,30,419,{left:b(a),op:":=",right:c(23,void 0,50,419,{left:b(d),inverted:!1,op:"~^",right:b(f)})})})},operators:"~^=",options:{type:"number"},id:51},{code:function(a,b,c){var d,e,f,g;if(d=a.left,e=a.op,f=a.right,this.isConst(f)){if(g=this.value(f),1===g)return this.unary("++",d);if(-1===g)return this.unary("--",d);if("number"==typeof g&&!this.isType(d,"numeric"))return this.assign(d,"-=",this["const"](-g))}return this.isType(d,"numeric")?this.isIdentOrTmp(d)?this.mutateLast(f||this.noop(),function(a){return this.isType(a,"numeric")||(a=c(23,a,48,435,{op:"~+",node:b(a)})),this.assign(d,"+=",a)},!0):(this.isType(f,"numeric")||(f=c(23,f,48,439,{op:"~+",node:b(f)})),this.assign(d,"+=",f)):this.isIdentOrTmp(d)?this.mutateLast(f||this.noop(),function(a){return this.assign(d,"-=",c(23,a,48,443,{op:"~-",node:b(a)}))},!0):this.assign(d,"-=",c(23,f,48,445,{op:"~-",node:b(f)}))},operators:"~+=",options:{type:"number"},id:52},{code:function(a){var b,c,d,e;if(b=a.left,c=a.op,d=a.right,this.isConst(d)){if(e=this.value(d),1===e)return this.unary("--",b);if(-1===e)return this.unary("++",b)}return this.isIdentOrTmp(b)?this.mutateLast(d||this.noop(),function(a){return this.assign(b,"-=",a)},!0):this.assign(b,"-=",d)},operators:"~-=",options:{type:"number"},id:53},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.isIdentOrTmp(b)?this.mutateLast(d||this.noop(),function(a){return"~bitlshift="===c?this.assign(b,"<<=",a):"~bitrshift="===c?this.assign(b,">>=",a):this.assign(b,">>>=",a)},!0):"~bitlshift="===c?this.assign(b,"<<=",d):"~bitrshift="===c?this.assign(b,">>=",d):this.assign(b,">>>=",d)},operators:["~bitlshift=","~bitrshift=","~biturshift="],options:{type:"number"},id:55},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,this.isIdentOrTmp(d)?this.mutateLast(f||this.noop(),function(a){return this.hasType(d,"numeric")&&this.hasType(a,"numeric")&&(a=c(23,a,29,488,{left:c(12,a,""),inverted:!1,op:"~&",right:b(a)})),this.assign(d,"+=",a)},!0):(this.hasType(d,"numeric")&&this.hasType(f,"numeric")&&(f=c(23,f,29,492,{left:c(12,f,""),inverted:!1,op:"~&",right:b(f)})),this.assign(d,"+=",f))},operators:"~&=",options:{type:"string"},id:56},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,this.maybeCacheAccess(d,function(a,d){return c(23,void 0,30,586,{left:b(a),op:":=",right:c(23,void 0,62,586,{left:b(d),inverted:!1,op:"^",right:b(f)})})})},operators:"^=",options:{type:"number"},id:63},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,this.maybeCacheAccess(d,function(a,d){return c(23,void 0,30,617,{left:b(a),op:":=",right:c(23,void 0,64,617,{left:b(d),inverted:!1,op:"\\",right:b(f)})})})},operators:"\\=",options:{type:"number"},id:68},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,this.getConstValue("DISABLE_TYPE_CHECKING",!1)?c(23,void 0,56,635,{left:b(d),op:"~&=",right:b(f)}):this.isType(d,"string")?c(23,void 0,56,637,{left:b(d),op:"~&=",right:c(23,void 0,69,637,{left:c(12,void 0,""),inverted:!1,op:"&",right:b(f)})}):this.maybeCacheAccess(d,function(a,d){return c(23,void 0,30,640,{left:b(a),op:":=",right:c(23,void 0,69,640,{left:b(d),inverted:!1,op:"&",right:b(f)})})})},operators:"&=",options:{type:"string"},id:70},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,this.maybeCacheAccess(d,function(a,d){return this.maybeCache(a,function(a,e){return this.maybeCache(f,function(f,g){return c(23,void 0,16,824,{macroName:"if",macroData:{test:c(23,void 0,10,824,{left:b(a),inverted:!1,op:"~>",right:b(f)}),body:c(23,void 0,30,824,{left:b(d),op:":=",right:b(g)}),elseIfs:[],elseBody:b(e)}})})})})},operators:"~min=",options:void 0,id:86},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,this.maybeCacheAccess(d,function(a,d){return this.maybeCache(a,function(a,e){return this.maybeCache(f,function(f,g){return c(23,void 0,16,830,{macroName:"if",macroData:{test:c(23,void 0,9,830,{left:b(a),inverted:!1,op:"~<",right:b(f)}),body:c(23,void 0,30,830,{left:b(d),op:":=",right:b(g)}),elseIfs:[],elseBody:b(e)}})})})})},operators:"~max=",options:void 0,id:87},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,this.maybeCacheAccess(d,function(a,d){return this.maybeCache(a,function(a,e){return this.maybeCache(f,function(f,g){return c(23,void 0,16,836,{macroName:"if",macroData:{test:c(23,void 0,79,836,{left:b(a),inverted:!1,op:">",right:b(f)}),body:c(23,void 0,30,836,{left:b(d),op:":=",right:b(g)}),elseIfs:[],elseBody:b(e)}})})})})},operators:"min=",options:void 0,id:88},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,this.maybeCacheAccess(d,function(a,d){return this.maybeCache(a,function(a,e){return this.maybeCache(f,function(f,g){return c(23,void 0,16,842,{macroName:"if",macroData:{test:c(23,void 0,78,842,{left:b(a),inverted:!1,op:"<",right:b(f)}),body:c(23,void 0,30,842,{left:b(d),op:":=",right:b(g)}),elseIfs:[],elseBody:b(e)}})})})})},operators:"max=",options:void 0,id:89},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,this.maybeCacheAccess(d,function(a,d){return c(23,void 0,30,846,{left:b(a),op:":=",right:c(23,void 0,84,846,{left:b(d),inverted:!1,op:"xor",right:b(f)})})})},operators:"xor=",options:void 0,id:90},{code:function(a,b,c){var d,e,f;return d=a.left,e=a.op,f=a.right,this.maybeCacheAccess(d,function(a,d){return this.maybeCache(a,function(a,e){return"expression"===this.position?c(23,void 0,16,852,{macroName:"if",macroData:{test:c(23,void 0,20,852,{op:"?",node:b(a)}),body:b(e),elseIfs:[],elseBody:c(23,void 0,30,852,{left:b(d),op:":=",right:b(f)})}}):c(23,void 0,17,854,{macroName:"if",macroData:{test:c(23,void 0,3,854,{op:"not",node:c(23,void 0,20,854,{op:"?",node:b(a)},!0)},!0),body:c(23,void 0,30,855,{left:b(d),op:":=",right:b(f)},!0),elseIfs:[],elseBody:b(e)}},!0)})})},operators:"?=",options:void 0,id:91},{code:function(a,b,c){var d,e,f,g,h;return e=a.left,f=a.op,h=a.right,this.isAccess(e)||this.error("Can only use ownsor= on an access"),g=this.parent(e),d=this.child(e),this.maybeCache(g,function(a,e){return this.maybeCache(d,function(d,f){return"expression"===this.position?c(23,void 0,16,867,{macroName:"if",macroData:{test:c(23,void 0,73,867,{left:b(a),inverted:!1,op:"ownskey",right:b(d)}),body:c(1,void 0,b(e),b(f)),elseIfs:[],elseBody:c(23,void 0,30,867,{left:c(1,void 0,b(e),b(f)),op:":=",right:b(h)})}}):c(23,void 0,17,869,{macroName:"if",macroData:{test:c(23,void 0,73,869,{left:b(a),inverted:!0,op:"ownskey",right:b(d)},!0),body:c(23,void 0,30,870,{left:c(1,void 0,b(e),b(f)),op:":=",right:b(h)},!0),elseIfs:[],elseBody:c(1,void 0,b(e),b(f))}},!0)})})},operators:"ownsor=",options:void 0,id:92},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.isIdentOrTmp(b)?this.mutateLast(d||this.noop(),function(a){return"~bitand="===c?this.assign(b,"&=",a):"~bitor="===c?this.assign(b,"|=",a):this.assign(b,"^=",a)},!0):"~bitand="===c?this.assign(b,"&=",d):"~bitor="===c?this.assign(b,"|=",d):this.assign(b,"^=",d)},operators:["~bitand=","~bitor=","~bitxor="],options:{type:"number"},id:96},{code:function(a,b,c){var d,e,f;
return d=a.left,e=a.op,f=a.right,this.getConstValue("DISABLE_TYPE_CHECKING",!1)||this.isType(d,"number")?"*="===e?c(23,void 0,46,936,{left:b(d),op:"~*=",right:c(23,void 0,60,936,{op:"+",node:b(f)})}):"/="===e?c(23,void 0,46,938,{left:b(d),op:"~/=",right:c(23,void 0,60,938,{op:"+",node:b(f)})}):"%="===e?c(23,void 0,46,940,{left:b(d),op:"~%=",right:c(23,void 0,60,940,{op:"+",node:b(f)})}):"+="===e?c(23,void 0,52,942,{left:b(d),op:"~+=",right:c(23,void 0,60,942,{op:"+",node:b(f)})}):"-="===e?c(23,void 0,53,944,{left:b(d),op:"~-=",right:c(23,void 0,60,944,{op:"+",node:b(f)})}):"bitlshift="===e?c(23,void 0,55,946,{left:b(d),op:"~bitlshift=",right:c(23,void 0,60,946,{op:"+",node:b(f)})}):"bitrshift="===e?c(23,void 0,55,948,{left:b(d),op:"~bitrshift=",right:c(23,void 0,60,948,{op:"+",node:b(f)})}):"biturshift="===e?c(23,void 0,55,950,{left:b(d),op:"~biturshift=",right:c(23,void 0,60,950,{op:"+",node:b(f)})}):"bitand="===e?c(23,void 0,96,952,{left:b(d),op:"~bitand=",right:c(23,void 0,60,952,{op:"+",node:b(f)})}):"bitor="===e?c(23,void 0,96,954,{left:b(d),op:"~bitor=",right:c(23,void 0,60,954,{op:"+",node:b(f)})}):"bitxor="===e?c(23,void 0,96,956,{left:b(d),op:"~bitxor=",right:c(23,void 0,60,956,{op:"+",node:b(f)})}):this.error("Unknown operator "+e):this.maybeCacheAccess(d,function(a,d){var g;return g="*="===e?c(23,void 0,64,962,{left:b(d),inverted:!1,op:"*",right:b(f)}):"/="===e?c(23,void 0,64,964,{left:b(d),inverted:!1,op:"/",right:b(f)}):"%="===e?c(23,void 0,64,966,{left:b(d),inverted:!1,op:"%",right:b(f)}):"+="===e?c(23,void 0,66,968,{left:b(d),inverted:!1,op:"+",right:b(f)}):"-="===e?c(23,void 0,66,970,{left:b(d),inverted:!1,op:"-",right:b(f)}):"bitlshift="===e?c(23,void 0,67,972,{left:b(d),inverted:!1,op:"bitlshift",right:b(f)}):"bitrshift="===e?c(23,void 0,67,974,{left:b(d),inverted:!1,op:"bitrshift",right:b(f)}):"biturshift="===e?c(23,void 0,67,976,{left:b(d),inverted:!1,op:"biturshift",right:b(f)}):"bitand="===e?c(23,void 0,97,978,{left:b(d),inverted:!1,op:"bitand",right:b(f)}):"bitor="===e?c(23,void 0,98,980,{left:b(d),inverted:!1,op:"bitor",right:b(f)}):"bitxor="===e?c(23,void 0,99,982,{left:b(d),inverted:!1,op:"bitxor",right:b(f)}):this.error("Unknown operator "+e),c(23,void 0,30,985,{left:b(a),op:":=",right:b(g)})})},operators:["*=","/=","%=","+=","-=","bitlshift=","bitrshift=","biturshift=","bitand=","bitor=","bitxor="],options:{type:"number"},id:104}],unaryOperator:[{code:function(a){var b,c;return c=a.op,b=a.node,this.mutateLast(b||this.noop(),function(a){return this.unary("!",a)},!0)},operators:"not",options:{type:"boolean"},id:3},{code:function(a){var b,c;return c=a.op,b=a.node,this.mutateLast(b||this.noop(),function(a){return this.unary("typeof",a)},!0)},operators:"typeof",options:{type:"string"},id:4},{code:function(a){var b,c;return c=a.op,b=a.node,this.mutateLast(b||this.noop(),function(a){return this["throw"](a)},!0)},operators:"throw",options:{type:"none"},id:11},{code:function(a){var b,c;return c=a.op,b=a.node,this.unary("++post",b)},operators:"postInc!",options:{type:"number"},id:12},{code:function(a){var b,c;return c=a.op,b=a.node,this.unary("--post",b)},operators:"postDec!",options:{type:"number"},id:13},{code:function(a,b,c,d){var e,f;return f=a.op,e=a.node,this.isIdentOrTmp(e)&&!this.hasVariable(e)?c(23,void 0,1,112,{left:c(23,void 0,6,112,{left:c(23,void 0,4,112,{op:"typeof",node:b(e)}),inverted:!1,op:"!=",right:c(12,void 0,"undefined")}),inverted:!1,op:"and",right:c(23,void 0,6,112,{left:b(e),inverted:!1,op:"!=",right:d("null")})}):c(23,void 0,8,114,{left:b(e),inverted:!1,op:"!~=",right:d("null")})},operators:"?",options:{postfix:!0,type:"boolean",label:"existential"},id:20},{code:function(a,b,c,d){var e,f;return f=a.op,e=a.node,this.isIdentOrTmp(e)&&!this.hasVariable(e)?c(23,void 0,5,118,{left:c(23,void 0,4,118,{op:"typeof",node:b(e)}),inverted:!1,op:"==",right:c(12,void 0,"undefined")}):c(23,void 0,5,120,{left:b(e),inverted:!1,op:"==",right:d("void")})},operators:["isVoid!","isUndefined!"],options:{type:"boolean"},id:21},{code:function(a,b,c,d){var e,f;return f=a.op,e=a.node,this.isIdentOrTmp(e)&&!this.hasVariable(e)?c(23,void 0,1,124,{left:c(23,void 0,6,124,{left:c(23,void 0,4,124,{op:"typeof",node:b(e)}),inverted:!1,op:"!=",right:c(12,void 0,"undefined")}),inverted:!1,op:"and",right:c(23,void 0,5,124,{left:b(e),inverted:!1,op:"==",right:d("null")})}):c(23,void 0,5,126,{left:b(e),inverted:!1,op:"==",right:d("null")})},operators:"isNull!",options:{type:"boolean"},id:22},{code:function(a,b,c){var d,e;return e=a.op,d=a.node,c(23,void 0,5,129,{left:c(23,void 0,4,129,{op:"typeof",node:b(d)}),inverted:!1,op:"==",right:c(12,void 0,"string")})},operators:"isString!",options:{type:"boolean"},id:23},{code:function(a,b,c){var d,e;return e=a.op,d=a.node,c(23,void 0,5,132,{left:c(23,void 0,4,132,{op:"typeof",node:b(d)}),inverted:!1,op:"==",right:c(12,void 0,"number")})},operators:"isNumber!",options:{type:"boolean"},id:24},{code:function(a,b,c){var d,e;return e=a.op,d=a.node,c(23,void 0,5,135,{left:c(23,void 0,4,135,{op:"typeof",node:b(d)}),inverted:!1,op:"==",right:c(12,void 0,"boolean")})},operators:"isBoolean!",options:{type:"boolean"},id:25},{code:function(a,b,c){var d,e;return e=a.op,d=a.node,c(23,void 0,5,138,{left:c(23,void 0,4,138,{op:"typeof",node:b(d)}),inverted:!1,op:"==",right:c(12,void 0,"function")})},operators:"isFunction!",options:{type:"boolean"},id:26},{code:function(a,b,c){var d,e;return e=a.op,d=a.node,this.mutateLast(d||this.noop(),function(a){return this.isIdentOrTmp(a)&&!this.hasVariable(a)&&c(23,void 0,1,141,{left:c(23,void 0,5,141,{left:c(23,void 0,4,141,{op:"typeof",node:b(a)}),inverted:!1,op:"==",right:c(12,void 0,"object")}),inverted:!1,op:"and",right:c(9,void 0,c(21,void 0,"__isArray"),[b(a)])})||c(9,void 0,c(21,void 0,"__isArray"),[b(a)])},!0)},operators:"isArray!",options:{type:"boolean"},id:27},{code:function(a,b,c,d){var e,f;return f=a.op,e=a.node,this.mutateLast(e||this.noop(),function(a){return c(23,void 0,1,144,{left:c(23,void 0,5,144,{left:c(23,void 0,4,144,{op:"typeof",node:b(a)}),inverted:!1,op:"==",right:c(12,void 0,"object")}),inverted:!1,op:"and",right:c(23,void 0,6,144,{left:b(a),inverted:!1,op:"!=",right:d("null")})})},!0)},operators:"isObject!",options:{type:"boolean"},id:28},{code:function(a){var b,c,d,e;return d=a.op,c=a.node,this.isConst(c)?(e=Number(this.value(c)),"~-"===d&&(b=function(a){return-a},e=b(e)),this["const"](e)):this.mutateLast(c||this.noop(),function(a){return this.unary("~+"===d?"+":"-",a)},!0)},operators:["~+","~-"],options:{type:"number"},id:48},{code:function(a,b,c){var d,e;return e=a.op,d=a.node,this.isIdentOrTmp(d)&&!this.hasVariable(d)?c(23,void 0,16,507,{macroName:"if",macroData:{test:c(23,void 0,5,507,{left:c(23,void 0,4,507,{op:"typeof",node:b(d)}),inverted:!1,op:"==",right:c(12,void 0,"undefined")}),body:c(12,void 0,"Undefined"),elseIfs:[],elseBody:c(9,void 0,c(21,void 0,"__typeof"),[b(d)])}}):this.mutateLast(d||this.noop(),function(a){return c(9,void 0,c(21,void 0,"__typeof"),[b(a)])},!0)},operators:"typeof!",options:{type:"string"},id:57},{code:function(a,b,c){var d,e;return e=a.op,d=a.node,this.mutateLast(d||this.noop(),function(a){return this.isType(a,"number")?a:this.getConstValue("DISABLE_TYPE_CHECKING",!1)?c(23,void 0,48,566,{op:"~+",node:b(a)}):c(9,void 0,c(21,void 0,"__num"),[b(a)])},!0)},operators:"+",options:{type:"number"},id:60},{code:function(a,b,c){var d,e;return e=a.op,d=a.node,this.isConst(d)&&"number"==typeof this.value(d)?this["const"](-this.value(d)):this.getConstValue("DISABLE_TYPE_CHECKING",!1)?c(23,void 0,48,574,{op:"~-",node:b(d)}):c(23,void 0,48,576,{op:"~-",node:c(23,void 0,60,576,{op:"+",node:b(d)})})},operators:"-",options:{type:"number"},id:61},{code:function(a,b,c){var d,e;return e=a.op,d=a.node,c(23,void 0,64,599,{left:b(d),inverted:!1,op:"/",right:c(12,void 0,100)})},operators:"%",options:{postfix:!0,type:"number"},id:65},{code:function(a){var b,c;return c=a.op,b=a.node,this.mutateLast(b||this.noop(),function(a){return this.unary("~",a)},!0)},operators:"~bitnot",options:{type:"number"},id:100},{code:function(a,b,c){var d,e;return e=a.op,d=a.node,c(23,void 0,100,913,{op:"~bitnot",node:c(23,void 0,60,913,{op:"+",node:b(d)})})},operators:"bitnot",options:{type:"number"},id:101},{code:function(a,b,c){var d,e;return e=a.op,d=a.node,this.isAccess(d)||this.error("Can only use delete on an access"),"expression"===this.position?this.maybeCacheAccess(d,function(a,d){var e,f;return f=this.tmp("ref"),e=this.unary("delete",d),c(7,void 0,[c(23,void 0,38,923,{macroName:"let",macroData:{declarable:c(23,void 0,37,923,c(23,void 0,31,923,{ident:b(f)},!0),!0),value:b(a)}},!0),b(e),b(f)])}):this.unary("delete",d)},operators:"delete",options:{standalone:!1},id:102},{code:function(a,b,c){var d,e;return e=a.op,d=a.node,this.maybeCache(d,function(a,d){return c(23,void 0,16,931,{macroName:"if",macroData:{test:c(23,void 0,20,931,{op:"?",node:b(a)}),body:c(23,void 0,11,931,{op:"throw",node:b(d)}),elseIfs:[]}})})},operators:"throw?",options:{type:"undefined"},id:103},{code:function(){var a,b,c,d,e,f,g,h;return a="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),b=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+g(a));return a},c=Object.prototype.hasOwnProperty,d=Array.prototype.slice,e=function(a){var b;if(b=typeof a,"string"===b)return a;if("number"===b)return String(a);throw TypeError("Expected a string or number, got "+g(a))},f=function(b){if(null==b)throw TypeError("Expected an object, got "+g(b));if(a(b))return b;if("string"==typeof b)return b.split("");if("number"==typeof b.length)return d.call(b);throw TypeError("Expected an object with a length property, got "+g(b))},g=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),h=function(a,b){return a?!b&&a:b||a},function(a,d,i,j){function k(a){return/^[aeiou]/i.test(a)?"an":"a"}function l(a){return k(a)+" "+e(a)}function m(a){var b,c,e;return t.isTypeGeneric(a)?(c=t.basetype(a),"Array"===(b=t.name(c))||"Function"===b||t.getConstValue("DISABLE_GENERICS",!1)?c:(e=t.array(function(){var b,c,d,e,g;for(b=[],c=f(t.typeArguments(a)),d=0,e=c.length;e>d;++d)g=c[d],b.push(m(g));return b}()),i(9,void 0,i(1,void 0,d(c),i(12,void 0,"generic")),[i(31,void 0,d(e))]))):a}function n(a,b,e,k){var o,p,q,r,s,u,v,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L;if(t.isIdent(e))return G=w?t.noop():c.call(T,t.name(e))?i(23,a,17,1761,{macroName:"if",macroData:{test:i(23,a,74,1761,{left:d(a),inverted:!0,op:"instanceof",right:d(e)},!0),body:i(23,a,11,1762,{op:"throw",node:i(9,a,i(21,a,"TypeError"),[i(23,a,69,1762,{left:i(23,a,69,1762,{left:i(23,a,69,1762,{left:i(23,a,69,1762,{left:i(23,a,69,1762,{left:i(12,a,"Expected "),op:"",right:d(b)}),op:"",right:i(12,a," to be ")}),op:"",right:d(l(t.name(e)))}),op:"",right:i(12,a,", got ")}),op:"",right:i(23,a,57,1762,{op:"typeof!",node:d(a)})})])},!0),elseIfs:[]}},!0):i(23,a,17,1765,{macroName:"if",macroData:{test:i(23,a,74,1765,{left:d(a),inverted:!0,op:"instanceof",right:d(e)},!0),body:i(23,a,11,1766,{op:"throw",node:i(9,a,i(21,a,"TypeError"),[i(23,a,69,1766,{left:i(23,a,69,1766,{left:i(23,a,69,1766,{left:i(23,a,69,1766,{left:i(23,a,69,1766,{left:i(12,a,"Expected "),op:"",right:d(b)}),op:"",right:i(12,a," to be a ")}),op:"",right:i(9,a,i(21,a,"__name"),[d(e)])}),op:"",right:i(12,a,", got ")}),op:"",right:i(23,a,57,1766,{op:"typeof!",node:d(a)})})])},!0),elseIfs:[]}},!0),k||"Boolean"!==t.name(e)?G:i(23,a,17,1768,{macroName:"if",macroData:{test:i(23,a,3,1768,{op:"not",node:i(23,a,20,1768,{op:"?",node:d(a)},!0,!1,!0)},!0,!1,!0),body:i(23,a,30,1769,{left:d(a),op:":=",right:j("false")},!0,!1,!0),elseIfs:[],elseBody:d(G)}},!0,!1,!0);if(t.isAccess(e))return w?t.noop():i(23,a,17,1779,{macroName:"if",macroData:{test:i(23,a,74,1779,{left:d(a),inverted:!0,op:"instanceof",right:d(e)},!0),body:i(23,a,11,1780,{op:"throw",node:i(9,a,i(21,a,"TypeError"),[i(23,a,69,1780,{left:i(23,a,69,1780,{left:i(23,a,69,1780,{left:i(23,a,69,1780,{left:i(23,a,69,1780,{left:i(12,a,"Expected "),op:"",right:d(b)}),op:"",right:i(12,a," to be ")}),op:"",right:d(l(t.value(t.child(e))))}),op:"",right:i(12,a,", got ")}),op:"",right:i(23,a,57,1780,{op:"typeof!",node:d(a)})})])},!0),elseIfs:[]}},!0);if(t.isTypeUnion(e)){for(y=!1,A=!1,z=!1,E=[],K=[],o=f(t.types(e)),q=0,r=o.length;r>q;++q)I=o[q],t.isConst(I)?null===t.value(I)?(z=!0,E.push(t["const"]("null"))):void 0===t.value(I)?(A=!0,E.push(t["const"]("undefined"))):t.error("Unknown const for type-checking: "+String(t.value(I)),I):t.isIdent(I)?("Boolean"===t.name(I)&&(y=!0),c.call(T,t.name(I))?E.push(t["const"](t.name(I))):E.push(i(9,I,i(21,I,"__name"),[d(I)])),K.push(i(23,a,74,1805,{left:d(a),inverted:!0,op:"instanceof",right:d(I)}))):t.error("Not implemented: typechecking for non-idents/consts within a type-union",I);for(J=K.length?t.binaryChain("&&",K):j("true"),v=E[0],q=1,r=E.length;r>q;++q)D=E[q],v=i(23,v,69,1814,{left:i(23,v,69,1814,{left:d(v),op:"",right:i(12,v," or ")}),op:"",right:d(D)});return L=v,G=w?t.noop():i(23,a,17,1818,{macroName:"if",macroData:{test:d(J),body:i(23,a,11,1819,{op:"throw",node:i(9,a,i(21,a,"TypeError"),[i(23,a,69,1819,{left:i(23,a,69,1819,{left:i(23,a,69,1819,{left:i(23,a,69,1819,{left:i(23,a,69,1819,{left:i(12,a,"Expected "),op:"",right:d(b)}),op:"",right:i(12,a," to be one of ")}),op:"",right:d(L)}),op:"",right:i(12,a,", got ")}),op:"",right:i(23,a,57,1819,{op:"typeof!",node:d(a)})})])},!0),elseIfs:[]}},!0),k||(z||A?G=h(z,A)?i(23,a,17,1824,{macroName:"if",macroData:{test:i(23,a,3,1824,{op:"not",node:i(23,a,20,1824,{op:"?",node:d(a)},!0,!1,!0)},!0,!1,!0),body:i(23,a,30,1825,{left:d(a),op:":=",right:i(23,a,16,1825,{macroName:"if",macroData:{test:d(z),body:j("null"),elseIfs:[],elseBody:j("void")}},!1,!1,!0)},!0,!1,!0),elseIfs:[],elseBody:d(G)}},!0,!1,!0):i(23,a,17,1829,{macroName:"if",macroData:{test:i(23,a,20,1829,{op:"?",node:d(a)},!0),body:d(G),elseIfs:[]}},!0):y&&(G=i(23,a,17,1832,{macroName:"if",macroData:{test:i(23,a,3,1832,{op:"not",node:i(23,a,20,1832,{op:"?",node:d(a)},!0,!1,!0)},!0,!1,!0),body:i(23,a,30,1833,{left:d(a),op:":=",right:j("false")},!0,!1,!0),elseIfs:[],elseBody:d(G)}},!0,!1,!0))),G}if(t.isTypeGeneric(e))return w?t.noop():"Array"===t.name(t.basetype(e))?(B=t.tmp("i",!1,"number"),H=n(i(1,a,d(a),d(B)),i(23,a,69,1842,{left:i(23,a,69,1842,{left:i(23,a,69,1842,{left:d(b),inverted:!1,op:"&",right:i(12,a,"[")}),inverted:!1,op:"&",right:d(B)}),inverted:!1,op:"&",right:i(12,a,"]")}),t.typeArguments(e)[0],!1),i(23,a,17,1843,{macroName:"if",macroData:{test:i(23,a,3,1843,{op:"not",node:i(23,a,27,1843,{op:"isArray!",node:d(a)},!0)},!0),body:i(23,a,11,1844,{op:"throw",node:i(9,a,i(21,a,"TypeError"),[i(23,a,69,1844,{left:i(23,a,69,1844,{left:i(23,a,69,1844,{left:i(12,a,"Expected "),op:"",right:d(b)}),op:"",right:i(12,a," to be an Array, got ")}),op:"",right:i(23,a,57,1844,{op:"typeof!",node:d(a)})})])},!0),elseIfs:[],elseBody:i(23,a,107,1846,{macroName:"for",macroData:{init:i(23,a,38,1846,{macroName:"let",macroData:{declarable:i(23,a,37,1846,i(23,a,31,1846,{isMutable:"mutable",ident:d(B)})),value:i(1,a,d(a),i(12,a,"length"))}}),test:i(23,a,13,1846,{op:"postDec!",node:d(B)},!0),body:d(H)}},!0)}},!0)):"Function"===t.name(t.basetype(e))?n(a,b,t.basetype(e),k):(x=m(e),i(23,a,17,1853,{macroName:"if",macroData:{test:i(23,a,74,1853,{left:d(a),inverted:!0,op:"instanceof",right:d(x)},!0),body:i(23,a,11,1854,{op:"throw",node:i(9,a,i(21,a,"TypeError"),[i(23,a,69,1854,{left:i(23,a,69,1854,{left:i(23,a,69,1854,{left:i(23,a,69,1854,{left:i(23,a,69,1854,{left:i(12,a,"Expected "),op:"",right:d(b)}),op:"",right:i(12,a," to be a ")}),op:"",right:i(9,a,i(21,a,"__name"),[d(x)])}),op:"",right:i(12,a,", got ")}),op:"",right:i(23,a,57,1854,{op:"typeof!",node:d(a)})})])},!0),elseIfs:[]}},!0));if(t.isTypeObject(e)){if(w)return t.noop();for(o=[],p=f(t.pairs(e)),q=0,r=p.length;r>q;++q)s=p[q],C=s.key,F=s.value,o.push(n(i(1,a,d(a),d(C)),i(23,a,69,1860,{left:i(23,a,69,1860,{left:d(b),inverted:!1,op:"&",right:i(12,a,".")}),inverted:!1,op:"&",right:d(C)}),F,!1));return u=o,i(23,a,17,1861,{macroName:"if",macroData:{test:i(23,a,3,1861,{op:"not",node:i(23,a,28,1861,{op:"isObject!",node:d(a)},!0)},!0),body:i(23,a,11,1862,{op:"throw",node:i(9,a,i(21,a,"TypeError"),[i(23,a,69,1862,{left:i(23,a,69,1862,{left:i(23,a,69,1862,{left:i(12,a,"Expected "),op:"",right:d(b)}),op:"",right:i(12,a," to be an Object, got ")}),op:"",right:i(23,a,57,1862,{op:"typeof!",node:d(a)})})])},!0),elseIfs:[],elseBody:d(u)}},!0)}return t.error("Unknown type to translate: "+g(e),e)}function o(a,b){var c,h,j,k,l,m,p,q,r,s,u,w,x,y,z,A,B,C,D,F,G,H,I;if(t.isArray(a)){for(v=!0,k=t.tmp("p",!1,"array"),u=-1,c=f(t.elements(a)),w=0,A=c.length;A>w;++w)q=c[w],y=E.length,s=o(q,!0),null!=s&&(r=t.paramIdent(s),t.paramIsSpread(s)?(-1!==u&&t.error("Cannot have multiple spread parameters in an array destructure",q),u=w,w===A-1?E.splice(y,0,i(23,q,38,1890,{macroName:"let",macroData:{declarable:i(23,q,37,1890,i(23,q,31,1890,{ident:d(r)},!0),!0),value:i(9,q,i(21,q,"__slice"),[d(k),i(31,q,i(23,q,16,1890,{macroName:"if",macroData:{test:i(23,q,5,1890,{left:d(w),inverted:!1,op:"==",right:i(12,q,0)}),body:i(4,q),elseIfs:[],elseBody:i(4,q,[d(w)])}}))],!1,!0)}},!0)):(F=t.tmp("i",!1,"number"),E.splice(y,0,i(7,q,[i(23,q,38,1894,{macroName:"let",macroData:{declarable:i(23,q,37,1894,i(23,q,31,1894,{isMutable:"mutable",ident:d(F)},!0),!0),value:i(23,q,66,1894,{left:i(1,q,d(k),i(12,q,"length")),inverted:!1,op:"-",right:i(23,q,66,1894,{left:i(23,q,66,1894,{left:d(A),inverted:!1,op:"-",right:d(w)}),inverted:!1,op:"-",right:i(12,q,1)})})}},!0),i(23,q,38,1895,{macroName:"let",macroData:{declarable:i(23,q,37,1895,i(23,q,31,1895,{ident:d(r)},!0),!0),value:i(23,q,17,1895,{macroName:"if",macroData:{test:i(23,q,79,1895,{left:d(F),inverted:!1,op:">",right:d(w)}),body:i(9,q,i(21,q,"__slice"),[d(k),d(w),d(F)],!1,!0),elseIfs:[],elseBody:i(7,q,[i(23,q,30,1898,{left:d(F),op:":=",right:d(w)},!0),i(4,q)])}})}},!0)])))):-1===u?E.splice(y,0,i(23,q,38,1882,{macroName:"let",macroData:{declarable:i(23,q,37,1882,i(23,q,31,1882,{ident:d(r)},!0),!0),value:i(1,q,d(k),d(w))}},!0)):E.splice(y,0,i(23,q,38,1884,{macroName:"let",macroData:{declarable:i(23,q,37,1884,i(23,q,31,1884,{ident:d(r)},!0),!0),value:i(1,q,d(k),i(23,q,66,1884,{left:d(F),inverted:!1,op:"+",right:i(23,q,66,1884,{left:i(23,q,66,1884,{left:d(w),inverted:!1,op:"-",right:d(u)}),inverted:!1,op:"-",right:i(12,q,1)})}))}},!0)));return t.rewrap(t.param(k,null,!1,!1,null),a)}if(t.isObject(a)){for(v=!0,B=t.tmp("p",!1,"object"),c=f(t.pairs(a)),h=0,j=c.length;j>h;++h)C=c[h],y=E.length,H=o(C.value,!0),null!=H&&(I=t.paramIdent(H),z=C.key,E.splice(y,0,i(23,C.value,38,1911,{macroName:"let",macroData:{declarable:i(23,C.value,37,1911,i(23,C.value,31,1911,{ident:d(I)},!0),!0),value:i(1,C.value,d(B),d(z))}},!0)));return t.rewrap(t.param(B,null,!1,!1,null),a)}return t.isParam(a)?(p=t.paramDefaultValue(a),l=t.paramType(a),D=t.paramIdent(a),null==p&&null==l&&t.isIdentOrTmp(D)?a:(v=!0,x=t.isIdentOrTmp(D)?D:t.isAccess(D)?t.ident(t.value(t.child(D))):t.error("Not an ident or this-access: "+g(D)+" "+e(D.inspect()),D),G=null!=l?n(x,t.name(x),l,null!=p):t.noop(),E.push(null!=p?i(23,a,17,1932,{macroName:"if",macroData:{test:i(23,a,3,1932,{op:"not",node:i(23,a,20,1932,{op:"?",node:d(x)},!0,!1,!0)},!0,!1,!0),body:i(23,a,30,1933,{left:d(x),op:":=",right:d(p)},!0,!1,!0),elseIfs:[],elseBody:d(G)}},!0,!1,!0):G),D!==x&&E.push(i(23,a,30,1939,{left:d(D),op:":=",right:d(x)},!0)),t.rewrap(t.param(x,null,t.paramIsSpread(a),t.paramIsMutable(a),null),a))):t.isNothing(a)?(v=!0,b?null:(m=t.tmp("p",!1,"object"),t.rewrap(t.param(m,null,!1,!1,null),a))):t.error("Unknown param type: "+g(a),a)}var p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V;for(t=this,P=a.op,O=a.node,w=this.getConstValue("DISABLE_TYPE_CHECKING",!1),T={Number:!0,String:!0,Boolean:!0,Function:!0,Array:!0,Object:!0},E=[],v=!1,x=-1,S=[],p=f(this.funcParams(O)),C=0,K=p.length;K>C;++C)R=p[C],F=E.length,Q=o(R,!1),D=this.paramIdent(Q),this.paramIsSpread(Q)?(-1!==x&&this.error("Cannot have two spread parameters",Q),v=!0,x=C,C===K-1?E.splice(F,0,i(23,R,38,1967,{macroName:"let",macroData:{declarable:i(23,R,37,1967,i(23,R,31,1967,{ident:d(D)},!0),!0),value:i(9,R,i(21,R,"__slice"),[i(3,R),i(31,R,i(23,R,16,1967,{macroName:"if",macroData:{test:i(23,R,5,1967,{left:d(C),inverted:!1,op:"==",right:i(12,R,0)}),body:i(4,R),elseIfs:[],elseBody:i(4,R,[d(C)])}}))],!1,!0)}},!0)):(V=this.tmp("i",!1,"number"),E.splice(F,0,i(7,R,[i(23,R,38,1971,{macroName:"let",macroData:{declarable:i(23,R,37,1971,i(23,R,31,1971,{isMutable:"mutable",ident:d(V)},!0),!0),value:i(23,R,66,1971,{left:i(1,R,i(3,R),i(12,R,"length")),inverted:!1,op:"-",right:i(23,R,66,1971,{left:i(23,R,66,1971,{left:d(K),inverted:!1,op:"-",right:d(C)}),inverted:!1,op:"-",right:i(12,R,1)})})}},!0),i(23,R,38,1972,{macroName:"let",macroData:{declarable:i(23,R,37,1972,i(23,R,31,1972,{ident:d(D)},!0),!0),value:i(23,R,17,1972,{macroName:"if",macroData:{test:i(23,R,79,1972,{left:d(V),inverted:!1,op:">",right:d(C)}),body:i(9,R,i(21,R,"__slice"),[i(3,R),d(C),d(V)],!1,!0),elseIfs:[],elseBody:i(7,R,[i(23,R,30,1975,{left:d(V),op:":=",right:d(C)},!0),i(4,R)])}})}},!0)])))):-1===x?S.push(Q):E.splice(F,0,i(23,R,38,1982,{macroName:"let",macroData:{declarable:i(23,R,37,1982,i(23,R,31,1982,{ident:d(D)},!0),!0),value:i(1,R,i(3,R),i(23,R,66,1982,{left:d(V),inverted:!1,op:"+",right:i(23,R,66,1982,{left:i(23,R,66,1982,{left:d(C),inverted:!1,op:"-",right:d(x)}),inverted:!1,op:"-",right:i(12,R,1)})}))}},!0));if(E.length||v||this.funcIsCurried(O)?(u=this.funcBody(O),U=this.rewrap(this.func(S,i(7,u,[d(E),d(u)]),this.funcIsAutoReturn(O)&&!this.isNothing(u),this.funcIsBound(O),!1,this.funcAsType(O),this.funcIsGenerator(O),this.funcGeneric(O)),O)):U=O,this.funcIsCurried(O)&&(U=i(9,void 0,i(21,void 0,"__curry"),[d(S.length),d(U)])),z=this.funcGeneric(O),b(z.length)>0&&!this.getConstValue("DISABLE_GENERICS",!1)){for(A=this.tmp("cache",!1,"object"),p=[],q=f(z),r=0,s=q.length;s>r;++r)y=q[r],p.push(this.param(y));for(B=p,M=this.tmp("make",!1,"function"),H={},p=f(z),r=0,s=p.length;s>r;++r)y=p[r],N=this.name(y),J=this.tmp("instanceof_"+e(N),!1,"function"),H[N]={key:J,let:i(23,y,38,2013,{macroName:"let",macroData:{declarable:i(23,y,37,2013,i(23,y,31,2013,{ident:d(J)},!0),!0),value:i(9,y,i(21,y,"__getInstanceof"),[d(y)])}},!0),used:!1};U=this.walk(this.macroExpandAll(U),function(a){var b,e,f,g;return this.isBinary(a)&&"instanceof"===this.op(a)&&(g=this.right(a),this.isIdent(g)&&(f=this.name(g),c.call(H,f)))?(b=H[f].key,H[f].used=!0,e=this.left(a),i(9,a,d(b),[d(e)])):void 0}),p=[];for(N in H)c.call(H,N)&&(I=H[N],I.used&&p.push(I.let));G=p,G.length&&(U=i(7,void 0,[d(G),d(U)])),L=this.func(B,U,!0,!1),U=i(9,void 0,i(21,void 0,"__genericFunc"),[d(z.length),d(L)])}return U}}.call(this),operators:"mutateFunction!",options:{type:"node",label:"mutateFunction"},id:118},{code:function(a,b,c){var d,e;return e=a.op,d=a.node,c(9,void 0,c(21,void 0,"__keys"),[b(d)])},operators:"keys!",options:void 0,id:125},{code:function(a,b,c){var d,e;return e=a.op,d=a.node,c(9,void 0,c(21,void 0,"__allkeys"),[b(d)])},operators:"allkeys!",options:void 0,id:126},{code:function(){var a,b,c,d;return a="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),b=Array.prototype.slice,c=function(c){if(null==c)throw TypeError("Expected an object, got "+d(c));if(a(c))return c;if("string"==typeof c)return c.split("");if("number"==typeof c.length)return b.call(c);throw TypeError("Expected an object with a length property, got "+d(c))},d=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(a,b,d){var e,f,g,h,i,j,k,l,m;if(k=a.op,j=a.node,m=this.tmp("s",!1,"object"),this.isArray(j)&&!this.arrayHasSpread(j)){if(0===this.elements(j).length)return d(9,void 0,d(21,void 0,"Set"));for(l=[],e=c(this.elements(j)),f=0,g=e.length;g>f;++f)h=e[f],l.push(d(9,h,d(1,h,b(m),d(12,h,"add")),[b(h)]));return d(7,void 0,[d(23,void 0,38,3564,{macroName:"let",macroData:{declarable:d(23,void 0,37,3564,d(23,void 0,31,3564,{ident:b(m)},!0),!0),value:d(9,void 0,d(21,void 0,"Set"))}},!0),b(l),b(m)])}return i=this.tmp("x",!1,"any"),d(7,void 0,[d(23,void 0,38,3570,{macroName:"let",macroData:{declarable:d(23,void 0,37,3570,d(23,void 0,31,3570,{ident:b(m)},!0),!0),value:d(9,void 0,d(21,void 0,"Set"))}},!0),d(23,void 0,114,3571,{macroName:"for",macroData:{value:d(23,void 0,37,3571,d(23,void 0,31,3571,{ident:b(i)},!0),!0),array:b(j),body:d(9,void 0,d(1,void 0,b(m),d(12,void 0,"add")),[b(i)])}},!0),b(m)])}}.call(this),operators:"set!",options:{type:"object",label:"constructSet"},id:153},{code:function(){var a,b,c,d;return a="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),b=Array.prototype.slice,c=function(c){if(null==c)throw TypeError("Expected an object, got "+d(c));if(a(c))return c;if("string"==typeof c)return c.split("");if("number"==typeof c.length)return b.call(c);throw TypeError("Expected an object with a length property, got "+d(c))},d=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(a,b,d){var e,f,g,h,i,j,k,l,m,n,o,p;if(l=a.op,k=a.node,this.isObject(k)||this.error("map! can only be used on literal objects",k),m=this.pairs(k),0===m.length)return d(9,void 0,d(21,void 0,"Map"));for(j=this.tmp("m",!1,"object"),n=[],e=c(m),f=0,g=e.length;g>f;++f)h=e[f],i=h.key,p=h.value,o=h.property,null!=o&&this.error("Cannot use map! on an object with custom properties",i),n.push(d(9,i,d(1,i,b(j),d(12,i,"set")),[b(i),b(p)]));return d(7,void 0,[d(23,void 0,38,3590,{macroName:"let",macroData:{declarable:d(23,void 0,37,3590,d(23,void 0,31,3590,{ident:b(j)},!0),!0),value:d(9,void 0,d(21,void 0,"Map"))}},!0),b(n),b(j)])}}.call(this),operators:"map!",options:{type:"object",label:"constructMap"},id:154},{code:function(){var a,b,c,d;return a="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),b=Array.prototype.slice,c=function(c){if(null==c)throw TypeError("Expected an object, got "+d(c));if(a(c))return c;if("string"==typeof c)return c.split("");if("number"==typeof c.length)return b.call(c);throw TypeError("Expected an object with a length property, got "+d(c))},d=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(a,b,e){var f,g,h;return g=a.op,f=a.node,f.cascades&&f.cascades.length||this.error("cascade! can only be used on a CascadeNode, got "+d(f),f),h=f.node,this.maybeCache(h,function(a,d){var g,h,i,j,k,l;for(g=[],h=c(f.cascades),k=0,i=h.length;i>k;++k)j=h[k],g.push(j(d));return l=g,e(7,void 0,[b(a),b(l),b(d)])})}}.call(this),operators:"cascade!",options:{label:"cascade"},id:172}],defineSyntax:[{code:function(a){var b,c,d;return d=a.isMutable,c=a.ident,b=a.asType,this.isIdentOrTmp(c)?{type:"ident",isMutable:"mutable"===d,ident:c,asType:b}:c},options:{name:"DeclarableIdent"},params:[["ident","isMutable","many","?","const","mutable"],["ident","ident","ident","Identifier"],["ident","asType","many","?","sequence",["const","as"],["this","ident","Type"]]],id:31},{code:function(a){var b,c;return b=a.head,c=a.tail,{type:"array",elements:[b].concat(c)}},options:{name:"DeclarableArray"},params:[["const","["],["ident","head","choice",["ident","Declarable"],["const",""]],["ident","tail","many","*","sequence",["const",","],["this","choice",["ident","Declarable"],["const",""]]],["const","]"]],id:32},{code:function(a){var b;return b=a.value,b=this.macroExpand1(b),{key:this.name(b.ident),value:b}},options:{name:"DeclarableObjectSingularPair"},params:[["ident","value","ident","DeclarableIdent"]],id:33},{code:void 0,options:{name:"DeclarableObjectDualPair"},params:[["this","sequence",["ident","key","ident","ObjectKey"],["const",":"],["ident","value","ident","Declarable"]]],id:34},{code:void 0,options:{name:"DeclarableObjectPair"},params:[["this","choice",["ident","DeclarableObjectDualPair"],["ident","DeclarableObjectSingularPair"]]],id:35},{code:function(a){var b,c;return b=a.head,c=a.tail,{type:"object",pairs:[b].concat(c)}},options:{name:"DeclarableObject"},params:[["const","{"],["ident","head","ident","DeclarableObjectPair"],["ident","tail","many","*","sequence",["const",","],["this","ident","DeclarableObjectPair"]],["const","}"]],id:36},{code:void 0,options:{name:"Declarable"},params:[["this","choice",["ident","DeclarableArray"],["ident","DeclarableObject"],["ident","DeclarableIdent"]]],id:37}],syntax:[{code:function(a,b,c){var d,e,f;return f=a.macroName,e=a.macroData,d=e.body,c(9,void 0,c(20,void 0,[],b(d),!0,!0))},options:void 0,params:[["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:"do",id:0},{code:function(a){var b,c;return c=a.macroName,b=a.macroData,this["debugger"]()},options:void 0,params:[["const",""]],names:"debugger",id:14},{code:function(a){var b,c,d,e;return e=a.macroName,d=a.macroData,c=d.ident,b=d.func,this.isPrimordial(c)&&this.error(["Cannot declare primordial '",this.name(c),"'"].join(""),c),this.let(c,!1,this.type(b)),this.block([this["var"](c,!1),this.assign(c,"=",b)])},options:void 0,params:[["ident","ident","ident","Identifier"],["ident","func","ident","FunctionDeclaration"]],names:"let",id:15},{code:function(a,b,c){function d(a){return a-1}function e(a,b){return a>=0&&e(d(a),this["if"](h[a].test,h[a].body,b))||b}var f,g,h,i,j,k;return j=a.macroName,i=a.macroData,k=i.test,f=i.body,h=i.elseIfs,g=i.elseBody,this["if"]("unless"===j&&c(23,k,3,90,{op:"not",node:b(k)})||k,f,e.call(this,d(h.length),g))},options:void 0,params:[["ident","test","ident","Logic"],["const","then"],["ident","body"],["ident","elseIfs","many","*","sequence",["const","else"],["const","if"],["ident","test","ident","Logic"],["const","then"],["ident","body"]],["ident","elseBody","many","?","sequence",["const","else"],["this"]]],names:["if","unless"],id:16},{code:function(a,b,c){function d(a){return a-1}function e(a,f){return a>=0?e.call(this,d(a),this["if"]("unless"===h[a].type?c(23,h[a].test,3,95,{op:"not",node:b(h[a].test)}):h[a].test,h[a].body,f)):f}var f,g,h,i,j,k;return j=a.macroName,i=a.macroData,k=i.test,f=i.body,h=i.elseIfs,g=i.elseBody,this["if"]("unless"===j?c(23,k,3,96,{op:"not",node:b(k)}):k,f,e.call(this,d(h.length),g))},options:void 0,params:[["ident","test","ident","Logic"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","elseIfs","many","*","sequence",["const","\n"],["const","else"],["ident","type","choice",["const","if"],["const","unless"]],["ident","test","ident","Logic"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:["if","unless"],id:17},{code:function(a){var b,c,d;return d=a.macroName,c=a.macroData,b=c.label,"expression"===this.position&&this.error("continue can only be used in a statement position"),this["continue"](b)},options:void 0,params:[["ident","label","choice",["ident","Identifier"],["const",""]]],names:"continue",id:18},{code:function(a){var b,c,d;return d=a.macroName,c=a.macroData,b=c.label,"expression"===this.position&&this.error("break can only be used in a statement position"),this["break"](b)},options:void 0,params:[["ident","label","choice",["ident","Identifier"],["const",""]]],names:"break",id:19},{code:function(a,b,c){function d(a){return a+1
}var e,f,g,h,i,j,k,l;return j=a.macroName,i=a.macroData,f=i.declarable,l=i.value,f=this.macroExpand1(f),f||this.error("Unknown declarable: "+String(f)),"ident"===f.type?(this.isPrimordial(f.ident)&&this.error("Cannot declare primordial '"+this.name(f.ident)+"'",f.ident),this.let(f.ident,f.isMutable,f.asType?this.toType(f.asType):this.type(l)),this.block([this["var"](f.ident,f.isMutable),this.mutateLast(l||this.noop(),function(a){return this.assign(f.ident,"=",a)},!0)])):"array"===f.type?(k=function(a,b){return a<f.elements.length?k(d(a),f.elements[a]?d(b):b):b},this.isArray(l)?(h=function(a,e,f,h){return h.push(this.macroExpand1(c(23,void 0,38,219,{macroName:"let",macroData:{declarable:c(23,void 0,37,219,c(23,void 0,31,219,{ident:b(e)},!0),!0),value:b(f)}},!0))),g.call(this,d(a),h)},g=function(a,b){return a<f.elements.length&&a<this.elements(l).length?f.elements[a]?h.call(this,a,f.elements[a],this.elements(l)[a],b):(b.push(this.elements(l)[a]),g.call(this,d(a),b)):(b.push(l),this.block(b))},g.call(this,0,[])):k(0,0)<=1?(h=function(a,d){return this.macroExpand1(c(23,void 0,38,234,{macroName:"let",macroData:{declarable:c(23,void 0,37,234,c(23,void 0,31,234,{ident:b(a)},!0),!0),value:c(1,void 0,b(l),b(d))}},!0))},g=function(a){return a<f.elements.length?f.elements[a]?h.call(this,f.elements[a],this["const"](a)):g.call(this,d(a)):l},g.call(this,0)):this.maybeCache(l,function(a,e){function g(a,f,g,i){return i.push(this.macroExpand1(c(23,void 0,38,247,{macroName:"let",macroData:{declarable:c(23,void 0,37,247,c(23,void 0,31,247,{ident:b(f)},!0),!0),value:c(1,void 0,b(e),b(g))}},!0))),h.call(this,d(a),i)}function h(a,b){return a<f.elements.length?f.elements[a]?g.call(this,a,f.elements[a],this["const"](a),b):h.call(this,d(a),b):(b.push(e),this.block(b))}return h.call(this,0,[a])})):"object"===f.type?1===f.pairs.length?(h=function(a,d){return this.macroExpand1(c(23,void 0,38,262,{macroName:"let",macroData:{declarable:c(23,void 0,37,262,c(23,void 0,31,262,{ident:b(a)},!0),!0),value:c(1,void 0,b(l),b(d))}},!0))},g=function(a){return h.call(this,a.value,a.key)},g.call(this,this.macroExpand1(f.pairs[0]))):this.maybeCache(l,function(a,e){function g(a,f,g,h){return h.push(this.macroExpand1(c(23,void 0,38,269,{macroName:"let",macroData:{declarable:c(23,void 0,37,269,c(23,void 0,31,269,{ident:b(f)},!0),!0),value:c(1,void 0,b(e),b(g))}},!0))),i.call(this,d(a),h)}function h(a,b,c){return g.call(this,a,b.value,b.key,c)}function i(a,b){return a<f.pairs.length?h.call(this,a,this.macroExpand1(f.pairs[a]),b):(b.push(e),this.block(b))}return i.call(this,0,[a])}):this.error("Unknown declarable: "+String(f+" "+String(null!=f&&null!=(e=f.constructor)?e.name:void 0)))},options:void 0,params:[["ident","declarable","ident","Declarable"],["const","="],["ident","value","ident","ExpressionOrAssignmentOrBody"]],names:"let",id:38},{code:function(a){var b,c,d;return c=a.macroName,b=a.macroData,d=b.node,d?this.mutateLast(d||this.noop(),function(a){return this["return"](a)},!0):this["return"]()},options:void 0,params:[["ident","node","many","?","ident","Expression"]],names:"return",id:39},{code:function(a,b,c){var d,e,f;return e=a.macroName,d=a.macroData,f=d.node,this.mutateLast(f||this.noop(),function(a){return this.maybeCache(a,function(a,d){return c(23,void 0,17,295,{macroName:"if",macroData:{test:c(23,void 0,20,295,{op:"?",node:b(a)},!0),body:c(23,void 0,39,296,{macroName:"return",macroData:{node:b(d)}},!0),elseIfs:[]}},!0)})},!0)},options:void 0,params:[["ident","node","ident","Expression"]],names:"return?",id:40},{code:function(a,b,c,d){var e,f,g;return f=a.macroName,e=a.macroData,g=e.node,this.mutateLast(g||this.noop(),function(a){return this.isType(a,"boolean")?c(23,void 0,17,303,{macroName:"if",macroData:{test:b(a),body:c(23,void 0,39,304,{macroName:"return",macroData:{node:d("true")}},!0),elseIfs:[]}},!0):this.maybeCache(a,function(a,d){return c(23,void 0,17,308,{macroName:"if",macroData:{test:b(a),body:c(23,void 0,39,309,{macroName:"return",macroData:{node:b(d)}},!0),elseIfs:[]}},!0)})},!0)},options:void 0,params:[["ident","node","ident","Expression"]],names:"returnif",id:41},{code:function(a,b,c,d){var e,f,g;return f=a.macroName,e=a.macroData,g=e.node,this.mutateLast(g||this.noop(),function(a){return this.isType(a,"boolean")?c(23,void 0,17,316,{macroName:"unless",macroData:{test:b(a),body:c(23,void 0,39,317,{macroName:"return",macroData:{node:d("false")}},!0),elseIfs:[]}},!0):this.maybeCache(a,function(a,d){return c(23,void 0,17,321,{macroName:"unless",macroData:{test:b(a),body:c(23,void 0,39,322,{macroName:"return",macroData:{node:b(d)}},!0),elseIfs:[]}},!0)})},!0)},options:void 0,params:[["ident","node","ident","Expression"]],names:"returnunless",id:42},{code:function(){var a,b,c;return a=function(a,b){var c;if(c=typeof a,"number"!==c&&"string"!==c)throw TypeError("Cannot compare a non-number/string: "+c);if(c!==typeof b)throw TypeError("Cannot compare elements of different types: "+c+" vs "+typeof b);return b>a},b=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+c(a));return a},c=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(c){var d,e,f,g,h,i,j,k;return d=this,i=c.macroName,h=c.macroData,g=h.locals,e=h.body,j=[],k=[],g&&(g.ident&&(j.push(this.param(g.ident)),k.push(g.value)),f=function(c){return a(c,g.rest.length)?(g.rest[c].ident&&(j.push(d.param(g.rest[c].ident)),k.push(g.rest[c].value)),f(b(c)+1)):void 0},f(0)),this.call(this.func(j,e,!0,!0),k)}}.call(this),options:void 0,params:[["ident","locals","many","?","sequence",["ident","ident","ident","Identifier"],["const","="],["ident","value"],["ident","rest","many","*","sequence",["const",","],["ident","ident","ident","Identifier"],["const","="],["ident","value"]]],["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:"do",id:105},{code:function(a,b,c){var d,e,f,g,h;return g=a.macroName,f=a.macroData,h=f.node,d=f.body,e=c(20,void 0,[],b(d),!0),c(9,void 0,b(e),[b(h)],!1,!0)},options:void 0,params:[["ident","node","ident","Expression"],["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:"with",id:106},{code:function(){var a,b;return a=function(a){var c;if(c=typeof a,"string"===c)return a;if("number"===c)return String(a);throw TypeError("Expected a string or number, got "+b(a))},b=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s;return m=b.macroName,l=b.macroData,n=l.reducer,j=l.init,s=l.test,r=l.step,g=l.body,h=l.elseBody,null==j&&(j=this.noop()),null==s&&(s=e("true")),null==r&&(r=this.noop()),n?"first"===n?(g=this.mutateLast(g||this.noop(),function(a){return d(23,a,39,1062,{macroName:"return",macroData:{node:c(a)}},!0)}),k=this["for"](j,s,r,g),d(23,k,0,1064,{macroName:"do",macroData:{body:d(7,k,[c(k),c(h)])}})):(h&&this.error("Cannot use a for loop with an else with "+a(n),h),"some"===n?(q=this.tmp("some",!1,"boolean"),o=[],o.push(d(23,void 0,38,1073,{macroName:"let",macroData:{declarable:d(23,void 0,37,1073,d(23,void 0,31,1073,{ident:c(q)},!0),!0),value:e("false")}},!0)),o.push(this["for"](j,s,r,this.mutateLast(g||this.noop(),function(a){return d(23,a,17,1075,{macroName:"if",macroData:{test:c(a),body:d(7,a,[d(23,a,30,1076,{left:c(q),op:":=",right:e("true")},!0),d(23,a,19,1077,{macroName:"break",macroData:{}},!0)]),elseIfs:[]}},!0)}))),o.push(q),"expression"===this.position?c(o):c(o)):"every"===n?(i=this.tmp("every",!1,"boolean"),o=[],o.push(d(23,void 0,38,1086,{macroName:"let",macroData:{declarable:d(23,void 0,37,1086,d(23,void 0,31,1086,{ident:c(i)},!0),!0),value:e("true")}},!0)),o.push(this["for"](j,s,r,this.mutateLast(g||this.noop(),function(a){return d(23,a,17,1088,{macroName:"if",macroData:{test:d(23,a,3,1088,{op:"not",node:c(a)},!0),body:d(7,a,[d(23,a,30,1089,{left:c(i),op:":=",right:e("false")},!0),d(23,a,19,1090,{macroName:"break",macroData:{}},!0)]),elseIfs:[]}},!0)}))),o.push(i),"expression"===this.position?c(o):c(o)):this.error("Unknown reducer: "+a(n))):h?("expression"===this.position&&this.error("Cannot use a for loop with an else with as an expression",h),p=this.tmp("else",!1,"boolean"),g=d(7,g,[d(23,g,30,1103,{left:c(p),op:":=",right:e("false")},!0),c(g)]),j=d(7,j,[d(23,j,30,1106,{left:c(p),op:":=",right:e("true")},!0),c(j)]),k=this["for"](j,s,r,g),d(7,void 0,[c(k),d(23,void 0,17,1111,{macroName:"if",macroData:{test:c(p),body:c(h),elseIfs:[]}},!0)])):"expression"===this.position?(f=this.tmp("arr",!1,this.type(g).array()),g=this.mutateLast(g||this.noop(),function(a){return d(9,a,d(1,a,c(f),d(12,a,"push")),[c(a)])}),j=d(7,j,[d(23,j,30,1117,{left:c(f),op:":=",right:d(4,j)},!0),c(j)]),k=this["for"](j,s,r,g),d(7,void 0,[c(k),c(f)])):this["for"](j,s,r,g)}}.call(this),options:void 0,params:[["ident","reducer","many","?","choice",["const","every"],["const","some"],["const","first"]],["ident","init","choice",["ident","ExpressionOrAssignment"],["const",""]],["const",";"],["ident","test","choice",["ident","Logic"],["const",""]],["const",";"],["ident","step","choice",["ident","ExpressionOrAssignment"],["const",""]],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:"for",id:107},{code:function(a,b,c,d){var e,f,g,h,i,j,k,l;return j=a.macroName,i=a.macroData,h=i.init,l=i.test,k=i.step,f=i.current,g=i.currentStart,e=i.body,null==h&&(h=this.noop()),null==l&&(l=d("true")),null==k&&(k=this.noop()),e=this.mutateLast(e||this.noop(),function(a){return c(23,a,30,1131,{left:b(f),op:":=",right:b(a)})}),c(7,void 0,[c(23,void 0,38,1133,{macroName:"let",macroData:{declarable:c(23,void 0,37,1133,c(23,void 0,31,1133,{isMutable:"mutable",ident:b(f)},!0),!0),value:b(g)}},!0),c(23,void 0,107,1134,{macroName:"for",macroData:{init:b(h),test:b(l),step:b(k),body:b(e)}},!0),b(f)])},options:void 0,params:[["const","reduce"],["ident","init","choice",["ident","Expression"],["const",""]],["const",";"],["ident","test","choice",["ident","Logic"],["const",""]],["const",";"],["ident","step","choice",["ident","Statement"],["const",""]],["const",","],["ident","current","ident","Identifier"],["const","="],["ident","currentStart"],["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:"for",id:108},{code:function(a,b,c){var d,e,f,g,h,i,j;return g=a.macroName,f=a.macroData,h=f.reducer,j=f.test,i=f.step,d=f.body,e=f.elseBody,"until"===g&&(j=c(23,j,3,1141,{op:"not",node:b(j)})),"every"===h?c(23,void 0,107,1144,{macroName:"for",macroData:{reducer:"every",test:b(j),step:b(i),body:b(d),elseBody:b(e)}}):"some"===h?c(23,void 0,107,1149,{macroName:"for",macroData:{reducer:"some",test:b(j),step:b(i),body:b(d),elseBody:b(e)}}):"first"===h?c(23,void 0,107,1154,{macroName:"for",macroData:{reducer:"first",test:b(j),step:b(i),body:b(d),elseBody:b(e)}}):"expression"===this.position?c(23,void 0,107,1159,{macroName:"for",macroData:{test:b(j),step:b(i),body:b(d),elseBody:b(e)}}):c(23,void 0,107,1165,{macroName:"for",macroData:{test:b(j),step:b(i),body:b(d),elseBody:b(e)}},!0)},options:void 0,params:[["ident","reducer","many","?","choice",["const","every"],["const","some"],["const","first"]],["ident","test","ident","Logic"],["ident","step","many","?","sequence",["const",","],["this","ident","ExpressionOrAssignment"]],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:["while","until"],id:109},{code:function(a,b,c){var d,e,f,g,h,i,j;return h=a.macroName,g=a.macroData,j=g.test,i=g.step,e=g.current,f=g.currentStart,d=g.body,"until"===h&&(j=c(23,j,3,1172,{op:"not",node:b(j)})),c(23,void 0,108,1175,{macroName:"for",macroData:{test:b(j),step:b(i),current:b(e),currentStart:b(f),body:b(d)}},!0)},options:void 0,params:[["const","reduce"],["ident","test","ident","Logic"],["ident","step","many","?","sequence",["const",","],["this","ident","ExpressionOrAssignment"]],["const",","],["ident","current","ident","Identifier"],["const","="],["ident","currentStart"],["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:["while","until"],id:110},{code:function(){var a,b,c;return a=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+c(a));return a},b=function(a){var b;if(b=typeof a,"string"===b)return a;if("number"===b)return String(a);throw TypeError("Expected a string or number, got "+c(a))},c=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J;return B=d.macroName,A=d.macroData,C=A.reducer,H=A.value,t=A.index,k=A.array,l=A.body,m=A.elseBody,H=this.macroExpand1(H),w=null,t&&(w=t.length,t=t.value),this.isCall(k)&&this.isIdent(this.callFunc(k))&&"__toArray"===this.name(this.callFunc(k))&&!this.callIsApply(k)&&(k=this.callArgs(k)[0]),this.isCall(k)&&this.isIdent(this.callFunc(k))&&"__range"===this.name(this.callFunc(k))&&!this.callIsApply(k)?((this.isArray(H)||this.isObject(H))&&this.error("Cannot assign a number to a complex declarable",H),H=H.ident,h=this.callArgs(k),D=h[0],n=h[1],E=h[2],r=h[3],u=[],this.isConst(D)?"number"!=typeof this.value(D)&&this.error("Cannot start with a non-number: "+b(this.value(D)),D):D=f(23,D,60,1234,{op:"+",node:e(D)}),u.push(this.macroExpandAll(f(23,D,38,1235,{macroName:"let",macroData:{declarable:f(23,D,37,1235,f(23,D,31,1235,{isMutable:"mutable",ident:e(H)},!0),!0),value:e(D)}},!0))),this.isConst(n)?"number"!=typeof this.value(n)&&this.error("Cannot end with a non-number: "+b(this.value(n)),n):this.isComplex(n)?n=this.cache(f(23,n,60,1241,{op:"+",node:e(n)}),u,"end",!1):u.push(f(23,n,60,1243,{op:"+",node:e(n)})),this.isConst(E)?"number"!=typeof this.value(E)&&this.error("Cannot step with a non-number: "+b(this.value(E)),E):this.isComplex(E)?E=this.cache(f(23,E,60,1249,{op:"+",node:e(E)}),u,"step",!1):u.push(f(23,E,60,1251,{op:"+",node:e(E)})),this.isComplex(r)&&(r=this.cache(e(r),u,"incl",!1)),F=this.isConst(E)?a(this.value(E))>0?this.isConst(n)&&this.value(n)===1/0?g("true"):f(23,k,16,1261,{macroName:"if",macroData:{test:e(r),body:f(23,k,9,1261,{left:e(H),inverted:!1,op:"~<=",right:e(n)}),elseIfs:[],elseBody:f(23,k,9,1261,{left:e(H),inverted:!1,op:"~<",right:e(n)})}}):this.isConst(n)&&this.value(n)===-1/0?g("true"):f(23,k,16,1266,{macroName:"if",macroData:{test:e(r),body:f(23,k,10,1266,{left:e(H),inverted:!1,op:"~>=",right:e(n)}),elseIfs:[],elseBody:f(23,k,10,1266,{left:e(H),inverted:!1,op:"~>",right:e(n)})}}):f(23,k,17,1268,{macroName:"if",macroData:{test:f(23,k,10,1268,{left:e(E),inverted:!1,op:"~>",right:f(12,k,0)}),body:f(23,k,16,1269,{macroName:"if",macroData:{test:e(r),body:f(23,k,9,1269,{left:e(H),inverted:!1,op:"~<=",right:e(n)}),elseIfs:[],elseBody:f(23,k,9,1269,{left:e(H),inverted:!1,op:"~<",right:e(n)})}},!0),elseIfs:[],elseBody:f(23,k,16,1271,{macroName:"if",macroData:{test:e(r),body:f(23,k,10,1271,{left:e(H),inverted:!1,op:"~>=",right:e(n)}),elseIfs:[],elseBody:f(23,k,10,1271,{left:e(H),inverted:!1,op:"~>",right:e(n)})}},!0)}}),s=f(23,E,52,1273,{left:e(H),op:"~+=",right:e(E)}),w&&u.push(this.macroExpandAll(f(23,k,38,1276,{macroName:"let",macroData:{declarable:f(23,k,37,1276,f(23,k,31,1276,{ident:e(w)},!0),!0),value:f(23,k,17,1276,{macroName:"if",macroData:{test:e(r),body:f(23,k,45,1277,{left:f(23,k,49,1277,{left:f(23,k,49,1277,{left:e(n),inverted:!1,op:"~-",right:e(D)}),inverted:!1,op:"~+",right:e(E)}),inverted:!1,op:"~\\",right:e(E)},!0),elseIfs:[],elseBody:f(23,k,45,1279,{left:f(23,k,49,1279,{left:e(n),inverted:!1,op:"~-",right:e(D)}),inverted:!1,op:"~\\",right:e(E)},!0)}})}},!0))),t?(u.push(this.macroExpandAll(f(23,t,38,1282,{macroName:"let",macroData:{declarable:f(23,t,37,1282,f(23,t,31,1282,{isMutable:"mutable",ident:e(t)},!0),!0),value:f(12,t,0)}},!0))),s=f(7,s,[e(s),f(23,s,104,1285,{left:e(t),op:"+=",right:f(12,s,1)},!0)]),this.hasFunc(l)&&(o=this.tmp("f",!1,"function"),u.push(f(23,l,38,1288,{macroName:"let",macroData:{declarable:f(23,l,37,1288,f(23,l,31,1288,{ident:e(o)},!0),!0),value:f(20,l,[f(27,l,e(H)),f(27,l,e(t))],e(l),!0)}},!0)),l=f(9,l,e(o),[f(38,l),e(H),e(t)],!1,!0))):this.hasFunc(l)&&(o=this.tmp("f",!1,"function"),u.push(f(23,l,38,1292,{macroName:"let",macroData:{declarable:f(23,l,37,1292,f(23,l,31,1292,{ident:e(o)},!0),!0),value:f(20,l,[f(27,l,e(H))],e(l),!0)}},!0)),l=f(9,l,e(o),[f(38,l),e(H)],!1,!0)),"every"===C?f(23,void 0,107,1296,{macroName:"for",macroData:{reducer:"every",init:e(u),test:e(F),step:e(s),body:e(l),elseBody:e(m)}}):"some"===C?f(23,void 0,107,1301,{macroName:"for",macroData:{reducer:"some",init:e(u),test:e(F),step:e(s),body:e(l),elseBody:e(m)}}):"first"===C?f(23,void 0,107,1306,{macroName:"for",macroData:{reducer:"first",init:e(u),test:e(F),step:e(s),body:e(l),elseBody:e(m)}}):"filter"===C?(l=this.mutateLast(l,function(a){return f(23,a,17,1312,{macroName:"if",macroData:{test:e(a),body:e(H),elseIfs:[]}},!0)}),f(23,void 0,107,1314,{macroName:"for",macroData:{init:e(u),test:e(F),step:e(s),body:e(l),elseBody:e(m)}})):"expression"===this.position?f(23,void 0,107,1319,{macroName:"for",macroData:{init:e(u),test:e(F),step:e(s),body:e(l),elseBody:e(m)}}):m&&t?f(7,void 0,[f(23,void 0,107,1325,{macroName:"for",macroData:{init:e(u),test:e(F),step:e(s),body:e(l)}},!0),f(23,void 0,17,1327,{macroName:"if",macroData:{test:f(23,void 0,5,1327,{left:e(H),inverted:!1,op:"==",right:f(12,void 0,0)},!0),body:e(m),elseIfs:[]}},!0)]):m&&this.isConst(D)?f(7,void 0,[f(23,void 0,107,1331,{macroName:"for",macroData:{init:e(u),test:e(F),step:e(s),body:e(l)}},!0),f(23,void 0,17,1333,{macroName:"if",macroData:{test:f(23,void 0,5,1333,{left:e(H),inverted:!1,op:"==",right:e(D)},!0),body:e(m),elseIfs:[]}},!0)]):f(23,void 0,107,1337,{macroName:"for",macroData:{init:e(u),test:e(F),step:e(s),body:e(l),elseBody:e(m)}},!0)):(u=[],v=this.isType(k,"string"),p=null!=t,null==t&&(t=this.tmp("i",!1,"number")),q=null!=w,null==w&&(w=this.tmp("len",!1,"number")),this.macroExpandAll(f(23,w,38,1350,{macroName:"let",macroData:{declarable:f(23,w,37,1350,f(23,w,31,1350,{ident:e(w)},!0),!0),value:f(12,w,0)}},!0)),k=this.macroExpandAll(k),E=f(12,k,1),D=f(12,k,0),n=g("Infinity"),r=g("false"),this.isCall(k)&&this.isIdent(this.callFunc(k))&&("__step"!==this.name(this.callFunc(k))||this.callIsApply(k)?"__slice"===this.name(this.callFunc(k))&&this.callIsApply(k)?(j=this.callArgs(k),k=j[0],D=j[1],n=j[2],this.isConst(n)&&void 0===this.value(n)&&(n=g("Infinity"))):"__sliceStep"!==this.name(this.callFunc(k))||this.callIsApply(k)||(j=this.callArgs(k),k=j[0],D=j[1],n=j[2],E=j[3],r=j[4]):(j=this.callArgs(k),k=j[0],E=j[1],this.isConst(E)?a(this.value(E))>=0?(D=f(12,k,0),n=g("Infinity")):(D=g("Infinity"),n=f(12,k,0)):(D=void 0,n=void 0),r=g("true"))),this.isConst(E)&&("number"!=typeof this.value(E)?this.error("Expected step to be a number, got "+c(this.value(E)),E):0!==a(this.value(E))%1?this.error("Expected step to be an integer, got "+b(this.value(E)),E):0===this.value(E)&&this.error("Expected step to non-zero",E)),D&&this.isConst(D)&&this.value(D)!==1/0&&("number"!=typeof this.value(D)||0!==a(this.value(D))%1)&&this.error("Expected start to be an integer, got "+c(this.value(D))+" ("+String(this.value(D))+")",D),n&&this.isConst(n)&&this.value(n)!==1/0&&("number"!=typeof this.value(n)||0!==a(this.value(n))%1)&&this.error("Expected end to be an integer, got "+c(this.value(n))+" ("+String(this.value(n))+")",n),v||this.isType(k,"arrayLike")||(k=f(9,k,f(21,k,"__toArray"),[e(k)])),k=this.cache(k,u,v?"str":"arr",!1),I=f(23,H,16,1404,{macroName:"if",macroData:{test:e(v),body:f(9,H,f(1,H,e(k),f(12,H,"charAt")),[e(t)]),elseIfs:[],elseBody:f(1,H,e(k),e(t))}}),x=this.macroExpandAll(f(23,t,38,1405,{macroName:"let",macroData:{declarable:f(23,t,37,1405,f(23,t,31,1405,{isMutable:"mutable",ident:e(t)},!0),!0),value:f(12,t,0)}},!0)),J=H&&"ident"===H.type&&!H.isMutable?H.ident:this.tmp("v",!1),z=this.macroExpandAll(f(23,H,38,1407,{macroName:"let",macroData:{declarable:f(23,H,37,1407,f(23,H,31,1407,{ident:e(H)},!0),!0),value:e(I)}},!0)),y=this.macroExpandAll(f(23,w,38,1408,{macroName:"let",macroData:{declarable:f(23,w,37,1408,f(23,w,31,1408,{ident:e(w)},!0),!0),value:f(23,w,60,1408,{op:"+",node:f(1,w,e(k),f(12,w,"length"))})}},!0)),h=this.isConst(E)?a(this.value(E))>0?(this.isConst(D)?a(this.value(D))>=0?(u.push(f(23,t,38,1414,{macroName:"let",macroData:{declarable:f(23,t,37,1414,f(23,t,31,1414,{isMutable:"mutable",ident:e(t)},!0),!0),value:e(D)}},!0)),u.push(y)):(u.push(y),u.push(f(23,t,38,1418,{macroName:"let",macroData:{declarable:f(23,t,37,1418,f(23,t,31,1418,{isMutable:"mutable",ident:e(t)},!0),!0),value:f(23,t,66,1418,{left:e(w),inverted:!1,op:"+",right:e(D)})}},!0))):(u.push(y),u.push(this.getConstValue("DISABLE_TYPE_CHECKING",!1)?f(23,t,38,1422,{macroName:"let",macroData:{declarable:f(23,t,37,1422,f(23,t,31,1422,{isMutable:"mutable",ident:e(t)},!0),!0),value:f(23,t,60,1422,{op:"+",node:e(D)})}},!0):f(23,t,38,1424,{macroName:"let",macroData:{declarable:f(23,t,37,1424,f(23,t,31,1424,{isMutable:"mutable",ident:e(t)},!0),!0),value:f(9,t,f(21,t,"__int"),[e(D)])}},!0)),u.push(f(23,t,16,1425,{macroName:"if",macroData:{test:f(23,t,9,1425,{left:e(t),inverted:!1,op:"~<",right:f(12,t,0)}),body:f(23,t,104,1425,{left:e(t),op:"+=",right:e(w)}),elseIfs:[]}}))),this.isConst(n)&&(this.value(n)===1/0||this.isConst(r)&&this.value(r)&&-1===this.value(n))?[f(23,k,9,1427,{left:e(t),inverted:!1,op:"~<",right:e(w)}),f(23,k,52,1427,{left:e(t),op:"~+=",right:e(E)})]:(G=this.tmp("end",!1,"number"),u.push(f(23,n,38,1430,{macroName:"let",macroData:{declarable:f(23,n,37,1430,f(23,n,31,1430,{isMutable:"mutable",ident:e(G)},!0),!0),value:f(23,n,60,1430,{op:"+",node:e(n)})}},!0)),this.isConst(n)?a(this.value(n))<0?u.push(f(23,n,52,1434,{left:e(G),op:"~+=",right:e(w)})):void 0:u.push(f(23,n,16,1432,{macroName:"if",macroData:{test:f(23,n,9,1432,{left:e(G),inverted:!1,op:"~<",right:f(12,n,0)}),body:f(23,n,52,1432,{left:e(G),op:"~+=",right:e(w)}),elseIfs:[]}})),u.push(f(23,r,16,1435,{macroName:"if",macroData:{test:e(r),body:f(23,r,30,1435,{left:e(G),op:":=",right:f(23,r,2,1435,{left:f(23,r,66,1435,{left:e(G),inverted:!1,op:"+",right:f(12,r,1)}),inverted:!1,op:"or",right:g("Infinity")})}),elseIfs:[]}})),u.push(f(23,n,86,1436,{left:e(G),op:"~min=",right:e(w)})),[f(23,n,9,1437,{left:e(t),inverted:!1,op:"~<",right:e(G)}),f(23,E,52,1437,{left:e(t),op:"~+=",right:e(E)})])):-1===this.value(E)&&(!D||this.isConst(D)&&(-1===(i=this.value(D))||i===1/0)&&this.isConst(n)&&0===this.value(n)&&this.isConst(r)&&this.value(r))?(q?(u.push(y),u.push(f(23,t,38,1441,{macroName:"let",macroData:{declarable:f(23,t,37,1441,f(23,t,31,1441,{isMutable:"mutable",ident:e(t)},!0),!0),value:e(w)}},!0))):u.push(f(23,t,38,1443,{macroName:"let",macroData:{declarable:f(23,t,37,1443,f(23,t,31,1443,{isMutable:"mutable",ident:e(t)},!0),!0),value:f(23,t,60,1443,{op:"+",node:f(1,t,e(k),f(12,t,"length"))})}},!0)),[f(23,t,13,1444,{op:"postDec!",node:e(t)}),this.noop()]):(!this.isConst(n)||a(this.value(n))<0?q=!0:void 0,this.isConst(D)?-1===(i=this.value(D))||i===1/0?q?(u.push(y),u.push(f(23,t,38,1452,{macroName:"let",macroData:{declarable:f(23,t,37,1452,f(23,t,31,1452,{isMutable:"mutable",ident:e(t)},!0),!0),value:f(23,t,49,1452,{left:e(w),inverted:!1,op:"~-",right:f(12,t,1)})}},!0))):u.push(f(23,t,38,1454,{macroName:"let",macroData:{declarable:f(23,t,37,1454,f(23,t,31,1454,{isMutable:"mutable",ident:e(t)},!0),!0),value:f(23,t,49,1454,{left:f(23,t,60,1454,{op:"+",node:f(1,t,e(k),f(12,t,"length"))}),inverted:!1,op:"~-",right:f(12,t,1)})}},!0)):(u.push(y),a(this.value(D))>=0?u.push(f(23,t,38,1458,{macroName:"let",macroData:{declarable:f(23,t,37,1458,f(23,t,31,1458,{isMutable:"mutable",ident:e(t)},!0),!0),value:f(23,t,16,1458,{macroName:"if",macroData:{test:f(23,t,9,1458,{left:e(D),inverted:!1,op:"~<",right:e(w)}),body:e(D),elseIfs:[],elseBody:f(23,t,49,1458,{left:e(w),inverted:!1,op:"~-",right:f(12,t,1)})}})}},!0)):u.push(f(23,t,38,1460,{macroName:"let",macroData:{declarable:f(23,t,37,1460,f(23,t,31,1460,{isMutable:"mutable",ident:e(t)},!0),!0),value:f(23,t,49,1460,{left:e(w),inverted:!1,op:"~+",right:f(23,t,60,1460,{op:"+",node:e(D)})})}},!0))):(u.push(y),u.push(f(23,t,38,1463,{macroName:"let",macroData:{declarable:f(23,t,37,1463,f(23,t,31,1463,{isMutable:"mutable",ident:e(t)},!0),!0),value:f(23,t,60,1463,{op:"+",node:e(D)})}},!0)),u.push(f(23,t,16,1464,{macroName:"if",macroData:{test:f(23,t,9,1464,{left:e(t),inverted:!1,op:"~<",right:f(12,t,0)},!0),body:f(23,t,52,1464,{left:e(t),op:"~+=",right:e(w)}),elseIfs:[],elseBody:f(23,t,86,1464,{left:e(t),op:"~min=",right:e(w)})}},!0)),u.push(f(23,t,53,1465,{left:e(t),op:"~-=",right:f(12,t,1)},!0))),this.isConst(n)?a(this.value(n))>=0?[f(23,k,16,1468,{macroName:"if",macroData:{test:e(r),body:f(23,k,10,1468,{left:e(t),inverted:!1,op:"~>=",right:e(n)}),elseIfs:[],elseBody:f(23,k,10,1468,{left:e(t),inverted:!1,op:"~>",right:e(n)})}}),f(23,E,52,1468,{left:e(t),op:"~+=",right:e(E)})]:[f(23,k,16,1470,{macroName:"if",macroData:{test:e(r),body:f(23,k,10,1470,{left:e(t),inverted:!1,op:"~>=",right:f(23,k,66,1470,{left:e(n),inverted:!1,op:"+",right:e(w)})}),elseIfs:[],elseBody:f(23,k,10,1470,{left:e(t),inverted:!1,op:"~>",right:f(23,k,66,1470,{left:e(n),inverted:!1,op:"+",right:e(w)})})}}),f(23,E,52,1470,{left:e(t),op:"~+=",right:e(E)})]:(G=this.tmp("end",!1,"number"),u.push(f(23,n,38,1473,{macroName:"let",macroData:{declarable:f(23,n,37,1473,f(23,n,31,1473,{isMutable:"mutable",ident:e(G)},!0),!0),value:f(23,n,60,1473,{op:"+",node:e(n)})}},!0)),u.push(f(23,n,16,1474,{macroName:"if",macroData:{test:f(23,n,9,1474,{left:e(G),inverted:!1,op:"~<",right:f(12,n,0)},!0),body:f(23,n,52,1474,{left:e(G),op:"~+=",right:e(w)}),elseIfs:[]}},!0)),[f(23,k,16,1475,{macroName:"if",macroData:{test:e(r),body:f(23,k,10,1475,{left:e(t),inverted:!1,op:"~>=",right:e(G)}),elseIfs:[],elseBody:f(23,k,10,1475,{left:e(t),inverted:!1,op:"~>",right:e(G)})}}),f(23,E,52,1475,{left:e(t),op:"~+=",right:e(E)})])):(this.isComplex(E)?E=this.getConstValue("DISABLE_TYPE_CHECKING",!1)?this.cache(f(23,E,60,1479,{op:"+",node:e(E)}),u,"step",!1):this.cache(f(9,E,f(21,E,"__int"),[f(9,E,f(21,E,"__nonzero"),[e(E)])]),u,"step",!1):this.getConstValue("DISABLE_TYPE_CHECKING",!1)?void 0:u.unshift(f(9,E,f(21,E,"__int"),[f(9,E,f(21,E,"__nonzero"),[e(E)])])),u.push(y),D?(this.isConst(D)?this.value(D)===1/0?u.push(f(23,t,38,1495,{macroName:"let",macroData:{declarable:f(23,t,37,1495,f(23,t,31,1495,{isMutable:"mutable",ident:e(t)},!0),!0),value:f(23,t,49,1495,{left:e(w),inverted:!1,op:"~-",right:f(12,t,1)})}},!0)):u.push(f(23,t,38,1497,{macroName:"let",macroData:{declarable:f(23,t,37,1497,f(23,t,31,1497,{isMutable:"mutable",ident:e(t)},!0),!0),value:f(23,t,16,1497,{macroName:"if",macroData:{test:f(23,t,10,1497,{left:e(D),inverted:!1,op:"~>=",right:f(12,t,0)}),body:e(D),elseIfs:[],elseBody:f(23,t,66,1497,{left:e(D),inverted:!1,op:"+",right:e(w)})}})}},!0)):(u.push(f(23,t,38,1499,{macroName:"let",macroData:{declarable:f(23,t,37,1499,f(23,t,31,1499,{isMutable:"mutable",ident:e(t)},!0),!0),value:e(D)}},!0)),u.push(f(23,k,16,1500,{macroName:"if",macroData:{test:f(23,k,9,1500,{left:e(t),inverted:!1,op:"~<",right:f(12,k,0)},!0),body:f(23,k,104,1500,{left:e(t),op:"+=",right:e(w)}),elseIfs:[{test:f(23,k,9,1500,{left:e(E),inverted:!1,op:"~<",right:f(12,k,0)},!0),body:f(23,k,86,1500,{left:e(t),op:"~min=",right:e(w)})}]}},!0))),G=this.tmp("end",!1,"number"),this.isConst(n)?u.push(f(23,n,38,1503,{macroName:"let",macroData:{declarable:f(23,n,37,1503,f(23,n,31,1503,{isMutable:"mutable",ident:e(G)},!0),!0),value:f(23,n,16,1503,{macroName:"if",macroData:{test:f(23,n,9,1503,{left:e(n),inverted:!1,op:"~<",right:f(12,n,0)}),body:f(23,n,49,1503,{left:e(n),inverted:!1,op:"~+",right:e(w)}),elseIfs:[],elseBody:f(23,n,83,1503,{left:e(n),inverted:!1,op:"max",right:f(23,n,16,1503,{macroName:"if",macroData:{test:e(r),body:f(23,n,49,1503,{left:e(w),inverted:!1,op:"~-",right:f(12,n,1)}),elseIfs:[],elseBody:e(w)}})})}})}},!0)):(u.push(f(23,n,38,1505,{macroName:"let",macroData:{declarable:f(23,n,37,1505,f(23,n,31,1505,{isMutable:"mutable",ident:e(G)},!0),!0),value:f(23,n,60,1505,{op:"+",node:e(n)})}},!0)),u.push(f(23,n,16,1506,{macroName:"if",macroData:{test:f(23,n,9,1506,{left:e(G),inverted:!1,op:"~<",right:f(12,n,0)},!0),body:f(23,n,104,1506,{left:e(G),op:"+=",right:e(w)}),elseIfs:[{test:f(23,n,10,1506,{left:e(E),inverted:!1,op:"~>",right:f(12,n,0)},!0),body:f(23,n,86,1506,{left:e(G),op:"~min=",right:f(23,n,16,1506,{macroName:"if",macroData:{test:e(r),body:f(23,n,49,1506,{left:e(w),inverted:!1,op:"~-",right:f(12,n,1)}),elseIfs:[],elseBody:e(w)}})})}],elseBody:f(23,n,87,1506,{left:e(G),op:"~max=",right:f(23,n,16,1506,{macroName:"if",macroData:{test:e(r),body:f(12,n,0),elseIfs:[],elseBody:f(23,n,61,1506,{op:"-",node:f(12,n,1)})}})})}},!0))),n=G,[f(23,k,17,1509,{macroName:"if",macroData:{test:f(23,k,10,1509,{left:e(E),inverted:!1,op:"~>",right:f(12,k,0)}),body:f(23,k,16,1510,{macroName:"if",macroData:{test:e(r),body:f(23,k,9,1510,{left:e(t),inverted:!1,op:"~<=",right:e(n)}),elseIfs:[],elseBody:f(23,k,9,1510,{left:e(t),inverted:!1,op:"~<",right:e(n)})}},!0),elseIfs:[],elseBody:f(23,k,16,1512,{macroName:"if",macroData:{test:e(r),body:f(23,k,10,1512,{left:e(t),inverted:!1,op:"~>=",right:e(n)}),elseIfs:[],elseBody:f(23,k,9,1512,{left:e(t),inverted:!1,op:"~<",right:e(n)})}},!0)}}),f(23,E,52,1513,{left:e(t),op:"~+=",right:e(E)})]):(u.push(f(23,k,38,1487,{macroName:"let",macroData:{declarable:f(23,k,37,1487,f(23,k,31,1487,{isMutable:"mutable",ident:e(t)},!0),!0),value:f(23,k,16,1487,{macroName:"if",macroData:{test:f(23,k,10,1487,{left:e(E),inverted:!1,op:"~>",right:f(12,k,0)}),body:f(12,k,0),elseIfs:[],elseBody:f(23,k,49,1487,{left:e(w),inverted:!1,op:"~-",right:f(12,k,1)})}})}},!0)),[f(23,k,16,1489,{macroName:"if",macroData:{test:f(23,k,10,1489,{left:e(E),inverted:!1,op:"~>",right:f(12,k,0)}),body:f(23,k,9,1489,{left:e(t),inverted:!1,op:"~<",right:e(w)}),elseIfs:[],elseBody:f(23,k,10,1489,{left:e(t),inverted:!1,op:"~>=",right:f(12,k,0)})}}),f(23,E,52,1490,{left:e(t),op:"~+=",right:e(E)})])),F=h[0],s=h[1],this.hasFunc(l)?(o=this.tmp("f",!1,"function"),H&&J!==H.ident&&(l=f(7,l,[f(23,l,38,1520,{macroName:"let",macroData:{declarable:f(23,l,37,1520,f(23,l,31,1520,{ident:e(H)},!0),!0),value:e(J)}},!0),e(l)])),p?(u.push(f(23,l,38,1523,{macroName:"let",macroData:{declarable:f(23,l,37,1523,f(23,l,31,1523,{ident:e(o)},!0),!0),value:f(20,l,[f(27,l,e(J)),f(27,l,e(t))],e(l),!0)}},!0)),l=f(9,l,e(o),[f(38,l),e(I),e(t)],!1,!0)):(u.push(f(23,l,38,1526,{macroName:"let",macroData:{declarable:f(23,l,37,1526,f(23,l,31,1526,{ident:e(o)},!0),!0),value:f(20,l,[f(27,l,e(J))],e(l),!0)}},!0)),l=f(9,l,e(o),[f(38,l),e(I)],!1,!0))):l=J===H.ident||"filter"!==C?f(7,l,[f(23,l,38,1530,{macroName:"let",macroData:{declarable:f(23,l,37,1530,f(23,l,31,1530,{ident:e(H)},!0),!0),value:e(I)}},!0),e(l)]):f(7,l,[f(23,l,38,1534,{macroName:"let",macroData:{declarable:f(23,l,37,1534,f(23,l,31,1534,{ident:e(J)},!0),!0),value:e(I)}},!0),f(23,l,38,1535,{macroName:"let",macroData:{declarable:f(23,l,37,1535,f(23,l,31,1535,{ident:e(H)},!0),!0),value:e(J)}},!0),e(l)]),"every"===C?f(23,void 0,107,1539,{macroName:"for",macroData:{reducer:"every",init:e(u),test:e(F),step:e(s),body:e(l),elseBody:e(m)}}):"some"===C?f(23,void 0,107,1544,{macroName:"for",macroData:{reducer:"some",init:e(u),test:e(F),step:e(s),body:e(l),elseBody:e(m)}}):"first"===C?f(23,void 0,107,1549,{macroName:"for",macroData:{reducer:"first",init:e(u),test:e(F),step:e(s),body:e(l),elseBody:e(m)}}):"filter"===C?(l=this.mutateLast(l,function(a){return f(23,a,17,1555,{macroName:"if",macroData:{test:e(a),body:e(J),elseIfs:[]}},!0)
}),f(23,void 0,107,1557,{macroName:"for",macroData:{init:e(u),test:e(F),step:e(s),body:e(l),elseBody:e(m)}})):"expression"===this.position?f(23,void 0,107,1562,{macroName:"for",macroData:{init:e(u),test:e(F),step:e(s),body:e(l),elseBody:e(m)}}):m&&this.isConst(D)?f(7,void 0,[f(23,void 0,107,1568,{macroName:"for",macroData:{init:e(u),test:e(F),step:e(s),body:e(l)}},!0),f(23,void 0,17,1570,{macroName:"if",macroData:{test:f(23,void 0,5,1570,{left:e(t),inverted:!1,op:"==",right:e(D)},!0),body:e(m),elseIfs:[]}},!0)]):f(23,void 0,107,1574,{macroName:"for",macroData:{init:e(u),test:e(F),step:e(s),body:e(l),elseBody:e(m)}},!0))}}.call(this),options:void 0,params:[["ident","reducer","many","?","choice",["const","every"],["const","some"],["const","first"],["const","filter"]],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["ident","value","ident","Identifier"],["ident","length","many","?","sequence",["const",","],["this","ident","Identifier"]]],["const","in"],["ident","array","ident","Logic"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:"for",id:114},{code:function(a,b,c){var d,e,f,g,h,i,j,k,l;return k=a.macroName,j=a.macroData,l=j.value,h=j.index,d=j.array,f=j.current,g=j.currentStart,e=j.body,l=this.macroExpand1(l),e=this.mutateLast(e||this.noop(),function(a){return c(23,a,30,1581,{left:b(f),op:":=",right:b(a)})}),null!=h&&(i=h.length),h=null!=h?h.value:void 0,c(7,void 0,[c(23,void 0,38,1585,{macroName:"let",macroData:{declarable:c(23,void 0,37,1585,c(23,void 0,31,1585,{isMutable:"mutable",ident:b(f)},!0),!0),value:b(g)}},!0),c(23,void 0,114,1586,{macroName:"for",macroData:{value:c(23,void 0,37,1586,c(23,void 0,31,1586,{ident:b(l)},!0),!0),index:{value:b(h),length:b(i)},array:b(d),body:b(e)}},!0),b(f)])},options:void 0,params:[["const","reduce"],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["ident","value","ident","Identifier"],["ident","length","many","?","sequence",["const",","],["this","ident","Identifier"]]],["const","in"],["ident","array","ident","Logic"],["const",","],["ident","current","ident","Identifier"],["const","="],["ident","currentStart"],["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:"for",id:115},{code:function(){var a,b;return a=function(a){var c;if(c=typeof a,"string"===c)return a;if("number"===c)return String(a);throw TypeError("Expected a string or number, got "+b(a))},b=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;return q=b.macroName,p=b.macroData,u=p.reducer,l=p.key,x=p.value,w=p.type,r=p.object,g=p.body,h=p.elseBody,j=null,x&&(j=x.index,x=this.macroExpand1(x.value)),s="of"===w,k=[],(s||x)&&(r=this.cache(r,k,"obj",!1)),this.let(l,!1,this.type("string")),n=x&&this.macroExpandAll(d(23,x,38,1602,{macroName:"let",macroData:{declarable:d(23,x,37,1602,d(23,x,31,1602,{ident:c(x)},!0),!0),value:d(1,x,c(r),c(l))}},!0)),m=j&&this.macroExpandAll(d(23,j,38,1603,{macroName:"let",macroData:{declarable:d(23,j,37,1603,d(23,j,31,1603,{isMutable:"mutable",ident:c(j)},!0),!0),value:d(23,j,61,1603,{op:"-",node:d(12,j,1)})}},!0)),this.hasFunc(g)?(i=this.tmp("f",!1,"function"),x&&(y="ident"===x.type?x.ident:this.tmp("v",!1)),x&&y!==x.ident&&(g=d(7,g,[d(23,g,38,1609,{macroName:"let",macroData:{declarable:d(23,g,37,1609,d(23,g,31,1609,{ident:c(x)},!0),!0),value:c(y)}},!0),c(g)])),j?(k.push(d(23,g,38,1612,{macroName:"let",macroData:{declarable:d(23,g,37,1612,d(23,g,31,1612,{ident:c(i)},!0),!0),value:d(20,g,[d(27,g,c(l)),d(27,g,c(y)),d(27,g,c(j))],c(g),!0)}},!0)),g=d(9,g,c(i),[d(38,g),c(l),d(1,g,c(r),c(l)),c(j)],!1,!0)):x?(k.push(d(23,g,38,1615,{macroName:"let",macroData:{declarable:d(23,g,37,1615,d(23,g,31,1615,{ident:c(i)},!0),!0),value:d(20,g,[d(27,g,c(l)),d(27,g,c(y))],c(g),!0)}},!0)),g=d(9,g,c(i),[d(38,g),c(l),d(1,g,c(r),c(l))],!1,!0)):(k.push(d(23,g,38,1618,{macroName:"let",macroData:{declarable:d(23,g,37,1618,d(23,g,31,1618,{ident:c(i)},!0),!0),value:d(20,g,[d(27,g,c(l))],c(g),!0)}},!0)),g=d(9,g,c(i),[d(38,g),c(l)],!1,!0))):x&&(g=d(7,g,[c(n),c(g)])),t=[],h&&(v=this.tmp("else",!1,"boolean"),k.push(d(23,void 0,38,1628,{macroName:"let",macroData:{declarable:d(23,void 0,37,1628,d(23,void 0,31,1628,{ident:c(v)},!0),!0),value:e("true")}},!0)),g=d(7,g,[d(23,g,30,1630,{left:c(v),op:":=",right:e("false")},!0),c(g)]),t.push(d(23,h,17,1633,{macroName:"if",macroData:{test:c(v),body:c(h),elseIfs:[]}},!0))),j&&(k.push(m),g=d(7,g,[d(23,g,52,1639,{left:c(j),op:"~+=",right:d(12,g,1)},!0),c(g)])),s&&(g=d(23,g,17,1644,{macroName:"if",macroData:{test:d(23,g,73,1644,{left:c(r),inverted:!1,op:"ownskey",right:c(l)},!0),body:c(g),elseIfs:[]}},!0)),u?"first"===u?(g=this.mutateLast(g||this.noop(),function(a){return d(23,a,39,1649,{macroName:"return",macroData:{node:c(a)}},!0)}),o=this.forIn(l,r,g),d(23,void 0,0,1651,{macroName:"do",macroData:{body:d(7,void 0,[c(k),c(o),c(h)])}},!0)):(h&&this.error("Cannot use a for loop with an else with "+a(u),h),"some"===u?(g=this.mutateLast(g||this.noop(),function(a){return d(23,a,17,1660,{macroName:"if",macroData:{test:c(a),body:d(23,a,39,1661,{macroName:"return",macroData:{node:e("true")}},!0),elseIfs:[]}},!0)}),o=this.forIn(l,r,g),d(23,void 0,0,1663,{macroName:"do",macroData:{body:d(7,void 0,[c(k),c(o),e("false")])}},!0)):"every"===u?(g=this.mutateLast(g||this.noop(),function(a){return d(23,a,17,1669,{macroName:"if",macroData:{test:d(23,a,3,1669,{op:"not",node:c(a)},!0),body:d(23,a,39,1670,{macroName:"return",macroData:{node:e("false")}},!0),elseIfs:[]}},!0)}),o=this.forIn(l,r,g),d(23,void 0,0,1672,{macroName:"do",macroData:{body:d(7,void 0,[c(k),c(o),e("true")])}},!0)):this.error("Unknown reducer: "+a(u))):"expression"===this.position?(h&&this.error("Cannot use a for loop with an else as an expression",h),f=this.tmp("arr",!1,this.type(g).array()),g=this.mutateLast(g||this.noop(),function(a){return d(9,a,d(1,a,c(f),d(12,a,"push")),[c(a)])}),k.unshift(d(23,void 0,38,1683,{macroName:"let",macroData:{declarable:d(23,void 0,37,1683,d(23,void 0,31,1683,{ident:c(f)},!0),!0),value:d(4,void 0)}},!0)),o=this.forIn(l,r,g),d(7,void 0,[c(k),c(o),c(f)])):(o=this.forIn(l,r,g),d(7,void 0,[c(k),c(o),c(t)]))}}.call(this),options:void 0,params:[["ident","reducer","many","?","choice",["const","every"],["const","some"],["const","first"]],["ident","key","ident","Identifier"],["ident","value","many","?","sequence",["const",","],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]]],["ident","type","choice",["const","of"],["const","ofall"]],["ident","object","ident","Logic"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:"for",id:116},{code:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n;return k=a.macroName,j=a.macroData,h=j.key,n=j.value,m=j.type,l=j.object,e=j.current,f=j.currentStart,d=j.body,d=this.mutateLast(d||this.noop(),function(a){return c(23,a,30,1697,{left:b(e),op:":=",right:b(a)})}),null!=n&&(g=n.index),n=null!=n?n.value:void 0,i="of"===m?c(23,void 0,116,1701,{macroName:"for",macroData:{key:b(h),value:{value:c(23,void 0,37,1701,c(23,void 0,31,1701,{ident:b(n)},!0),!0),index:b(g)},type:"of",object:b(l),body:b(d)}},!0):c(23,void 0,116,1704,{macroName:"for",macroData:{key:b(h),value:{value:c(23,void 0,37,1704,c(23,void 0,31,1704,{ident:b(n)},!0),!0),index:b(g)},type:"ofall",object:b(l),body:b(d)}},!0),c(7,void 0,[c(23,void 0,38,1707,{macroName:"let",macroData:{declarable:c(23,void 0,37,1707,c(23,void 0,31,1707,{isMutable:"mutable",ident:b(e)},!0),!0),value:b(f)}},!0),b(i),b(e)])},options:void 0,params:[["const","reduce"],["ident","key","ident","Identifier"],["ident","value","many","?","sequence",["const",","],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]]],["ident","type","choice",["const","of"],["const","ofall"]],["ident","object","ident","Logic"],["const",","],["ident","current","ident","Identifier"],["const","="],["ident","currentStart"],["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:"for",id:117},{code:function(){var a,b,c,d;return a="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),b=Array.prototype.slice,c=function(c){if(null==c)throw TypeError("Expected an object, got "+d(c));if(a(c))return c;if("string"==typeof c)return c.split("");if("number"==typeof c.length)return b.call(c);throw TypeError("Expected an object with a length property, got "+d(c))},d=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(a,b,d,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;if(r=a.macroName,q=a.macroData,t=q.tryBody,u=q.typedCatches,k=q.catchPart,m=q.elseBody,n=q.finallyBody,o=!!m,0!==u.length||k||o||n||this.error("Must provide at least a catch, else, or finally to a try block"),null!=k&&(j=k.ident),null!=k&&(i=k.body),0!==u.length){for(j||(j=u[0].ident),l=i||d(23,j,11,2129,{op:"throw",node:b(j)},!0),f=c(u),h=f.length,g=function(a){var e,f,g,h,i;return e=this,g=a.ident,f=this.name(g)!==this.name(j)?d(23,g,38,2132,{macroName:"let",macroData:{declarable:d(23,g,37,2132,d(23,g,31,2132,{ident:b(g)},!0),!0),value:b(j)}},!0):this.noop(),"as"===a.check.type?(h=this.array(function(){var b,d,f,g,h;for(b=[],d=c(e.isTypeUnion(a.check.value)?e.types(a.check.value):[a.check.value]),f=0,g=d.length;g>f;++f)h=d[f],e.isTypeArray(h)?e.error("Expected a normal type, cannot use an array type",h):e.isTypeGeneric(h)?e.error("Expected a normal type, cannot use a generic type",h):e.isTypeFunction(h)?e.error("Expected a normal type, cannot use a function type",h):e.isTypeObject(h)&&e.error("Expected a normal type, cannot use an object type",h),b.push(h);return b}()),l=d(23,g,17,2147,{macroName:"if",macroData:{test:d(23,g,119,2147,{left:b(j),inverted:!1,op:"instanceofsome",right:b(h)},!0),body:d(7,g,[b(f),b(a.body)]),elseIfs:[],elseBody:b(l)}},!0)):(i=a.check.value,l=d(23,g,17,2155,{macroName:"if",macroData:{test:d(23,g,5,2155,{left:b(j),inverted:!1,op:"==",right:b(i)},!0),body:d(7,g,[b(f),b(a.body)]),elseIfs:[],elseBody:b(l)}},!0))};h--;)g.call(this,f[h]);i=l}return p=[],s=void 0,o&&(s=this.tmp("else",!1,"boolean"),p.push(d(23,void 0,38,2164,{macroName:"let",macroData:{declarable:d(23,void 0,37,2164,d(23,void 0,31,2164,{ident:b(s)},!0),!0),value:e("true")}},!0)),i?i=d(7,i,[d(23,i,30,2167,{left:b(s),op:":=",right:e("false")},!0),b(i)]):(j=this.tmp("err"),i=d(7,void 0,[d(23,void 0,30,2172,{left:b(s),op:":=",right:e("false")},!0),d(23,void 0,11,2173,{op:"throw",node:b(j)},!0)]))),l=t,i&&(l=this.tryCatch(l,j||this.tmp("err"),i)),o&&(l=this.tryFinally(l,d(23,m,17,2180,{macroName:"if",macroData:{test:b(s),body:b(m),elseIfs:[]}},!0))),n&&(l=this.tryFinally(l,n)),d(7,void 0,[b(p),b(l)])}}.call(this),options:void 0,params:[["ident","tryBody","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","typedCatches","many","*","sequence",["const","\n"],["const","catch"],["ident","ident","ident","Identifier"],["ident","check","choice",["sequence",["ident","type","const","as"],["ident","value","ident","Type"]],["sequence",["ident","type","const","=="],["ident","value","ident","Expression"]]],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["ident","catchPart","many","?","sequence",["const","\n"],["const","catch"],["ident","ident","many","?","ident","Identifier"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["ident","finallyBody","many","?","sequence",["const","\n"],["const","finally"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:"try",id:120},{code:function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;return p=a.macroName,o=a.macroData,s=o.reducer,v=o.value,j=o.index,m=o.iterable,e=o.body,g=o.elseBody,k=[],n=this.cache(c(9,void 0,c(21,void 0,"__iter"),[b(m)]),k,"iter",!1),l=this.tmp("item",!1),h=this.tmp("e",!0),u=[],j&&(k.push(c(23,j,38,2228,{macroName:"let",macroData:{declarable:c(23,j,37,2228,c(23,j,31,2228,{isMutable:"mutable",ident:b(j)},!0),!0),value:c(12,j,0)}},!0)),u.push(c(23,j,52,2229,{left:b(j),op:"~+=",right:c(12,j,1)}))),f=c(7,m,[c(23,m,38,2232,{macroName:"let",macroData:{declarable:c(23,m,37,2232,c(23,m,31,2232,{ident:b(l)},!0),!0),value:c(9,m,c(1,m,b(n),c(12,m,"next")))}},!0),c(23,m,17,2233,{macroName:"if",macroData:{test:c(1,m,b(l),c(12,m,"done")),body:c(23,m,19,2234,{macroName:"break",macroData:{}},!0),elseIfs:[]}},!0),c(23,m,38,2235,{macroName:"let",macroData:{declarable:c(23,m,37,2235,c(23,m,31,2235,{ident:b(v)},!0),!0),value:c(1,m,b(l),c(12,m,"value"))}},!0)]),r=[],g&&!s&&"expression"!==this.position&&(t=this.tmp("else",!1,"boolean"),k.push(c(23,void 0,38,2240,{macroName:"let",macroData:{declarable:c(23,void 0,37,2240,c(23,void 0,31,2240,{ident:b(t)},!0),!0),value:d("true")}},!0)),e=c(7,e,[c(23,e,30,2242,{left:b(t),op:":=",right:d("false")},!0),b(e)]),r.push(c(23,g,17,2245,{macroName:"if",macroData:{test:b(t),body:b(g),elseIfs:[]}},!0))),this.hasFunc(e)?(i=this.tmp("f",!1,"function"),j?(k.push(c(23,e,38,2256,{macroName:"let",macroData:{declarable:c(23,e,37,2256,c(23,e,31,2256,{ident:b(i)},!0),!0),value:c(23,e,118,2256,{op:"",node:c(20,e,[c(27,e,b(v)),c(27,e,b(j))],b(e),!0)})}},!0)),e=c(7,f,[b(f),c(9,f,b(i),[c(38,f),b(v),b(j)],!1,!0)])):(k.push(c(23,e,38,2251,{macroName:"let",macroData:{declarable:c(23,e,37,2251,c(23,e,31,2251,{ident:b(i)},!0),!0),value:c(23,e,118,2251,{op:"",node:c(20,e,[c(27,e,b(v))],b(e),!0)})}},!0)),e=c(7,f,[b(f),c(9,f,b(i),[c(38,f),b(v)],!1,!0)]))):e=c(7,f,[b(f),b(e)]),"every"===s?q=c(23,void 0,107,2266,{macroName:"for",macroData:{reducer:"every",init:b(k),test:d("true"),step:b(u),body:b(e),elseBody:b(g)}}):"some"===s?q=c(23,void 0,107,2271,{macroName:"for",macroData:{reducer:"some",init:b(k),test:d("true"),step:b(u),body:b(e),elseBody:b(g)}}):"first"===s?q=c(23,void 0,107,2276,{macroName:"for",macroData:{reducer:"first",init:b(k),test:d("true"),step:b(u),body:b(e),elseBody:b(g)}}):"filter"===s?(e=this.mutateLast(e,function(a){return c(23,a,17,2282,{macroName:"if",macroData:{test:b(a),body:b(v),elseIfs:[]}},!0)}),q=c(23,void 0,107,2284,{macroName:"for",macroData:{init:b(k),test:d("true"),step:b(u),body:b(e),elseBody:b(g)}})):q="expression"===this.position?c(23,void 0,107,2289,{macroName:"for",macroData:{init:b(k),test:d("true"),step:b(u),body:b(e),elseBody:b(g)}}):c(7,void 0,[c(23,void 0,107,2295,{macroName:"for",macroData:{init:b(k),test:d("true"),step:b(u),body:b(e)}},!0),b(r)]),c(23,void 0,120,2299,{macroName:"try",macroData:{tryBody:b(q),typedCatches:[],finallyBody:c(23,void 0,120,2302,{macroName:"try",macroData:{tryBody:c(9,void 0,c(1,void 0,b(n),c(12,void 0,"close"))),typedCatches:[],catchPart:{ident:b(h),body:d("void")}}},!0)}},!0)},options:void 0,params:[["ident","reducer","many","?","choice",["const","every"],["const","some"],["const","first"],["const","filter"]],["ident","value","ident","Identifier"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","from"],["ident","iterable","ident","Logic"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:"for",id:121},{code:function(a,b,c){var d,e,f,g,h,i,j,k;return j=a.macroName,i=a.macroData,k=i.value,g=i.index,h=i.iterator,e=i.current,f=i.currentStart,d=i.body,d=this.mutateLast(d||this.noop(),function(a){return c(23,a,30,2308,{left:b(e),op:":=",right:b(a)})}),c(7,void 0,[c(23,void 0,38,2310,{macroName:"let",macroData:{declarable:c(23,void 0,37,2310,c(23,void 0,31,2310,{isMutable:"mutable",ident:b(e)},!0),!0),value:b(f)}},!0),c(23,void 0,121,2311,{macroName:"for",macroData:{value:b(k),index:b(g),iterable:b(h),body:b(d)}},!0),b(e)])},options:void 0,params:[["const","reduce"],["ident","value","ident","Identifier"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","from"],["ident","iterator","ident","Logic"],["const",","],["ident","current","ident","Identifier"],["const","="],["ident","currentStart"],["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:"for",id:122},{code:function(){var a,b,c,d,e;return a="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),b=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+e(a));return a},c=Array.prototype.slice,d=function(b){if(null==b)throw TypeError("Expected an object, got "+e(b));if(a(b))return b;if("string"==typeof b)return b.split("");if("number"==typeof b.length)return c.call(b);throw TypeError("Expected an object with a length property, got "+e(b))},e=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(a,c,e){var f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;for(u=a.macroName,t=a.macroData,v=t.node,p=t.cases,q=t.defaultCase,x=[],f=d(p),h=0,j=f.length;j>h;++h){for(m=f[h],o=[m.nodeHead].concat(m.nodeTail),l=m.body,r=!1,this.isBlock(l)?(w=this.nodes(l),s=w[b(w.length)-1],this.isIdent(s)&&"fallthrough"===this.name(s)&&(l=this.block(w.slice(0,-1)),r=!0)):this.isIdent(l)&&"fallthrough"===this.name(l)&&(l=this.noop(),r=!0),g=d(o.slice(0,-1)),i=0,k=g.length;k>i;++i)n=g[i],x.push({node:n,body:this.noop(),fallthrough:!0});x.push({node:o[b(o.length)-1],body:l,fallthrough:r})}return this["switch"](v,x,q||e(23,void 0,11,2341,{op:"throw",node:e(9,void 0,e(21,void 0,"Error"),[e(12,void 0,"Unhandled value in switch")])},!0))}}.call(this),options:void 0,params:[["ident","node","ident","Logic"],["ident","cases","many","*","sequence",["const","\n"],["const","case"],["ident","nodeHead","ident","Logic"],["ident","nodeTail","many","*","sequence",["const",","],["this","ident","Logic"]],["ident","body","many","?","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["ident","defaultCase","many","?","sequence",["const","\n"],["const","default"],["this","many","?","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:"switch",id:123},{code:function(){var a,b,c,d,e;return a="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),b=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+e(a));return a},c=Array.prototype.slice,d=function(b){if(null==b)throw TypeError("Expected an object, got "+e(b));if(a(b))return b;if("string"==typeof b)return b.split("");if("number"==typeof b.length)return c.call(b);throw TypeError("Expected an object with a length property, got "+e(b))},e=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(a,c,e,f){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;for(r=a.macroName,q=a.macroData,k=q.cases,m=q.defaultCase,l=m||e(23,void 0,11,2344,{op:"throw",node:e(9,void 0,e(21,void 0,"Error"),[e(12,void 0,"Unhandled value in switch")])},!0),g=d(k),h=g.length;h--;)j=g[h],u=j.test,i=j.body,o=!1,t=void 0,this.isBlock(i)?(s=this.nodes(i),p=s[b(s.length)-1],this.isIdent(p)&&"fallthrough"===this.name(p)&&(i=this.block(s.slice(0,-1)),this.isIf(l)?(n=this.tmp("fall",!1,"boolean"),t=e(7,u,[e(23,u,38,2357,{macroName:"let",macroData:{declarable:e(23,u,37,2357,e(23,u,31,2357,{isMutable:"mutable",ident:c(n)},!0),!0),value:f("false")}},!0),e(23,u,17,2358,{macroName:"if",macroData:{test:c(u),body:e(7,u,[e(23,u,30,2359,{left:c(n),op:":=",right:f("true")},!0),c(i)]),elseIfs:[]}},!0),e(23,u,17,2361,{macroName:"if",macroData:{test:e(23,u,2,2361,{left:c(n),inverted:!1,op:"or",right:c(this.test(l))},!0),body:c(this.whenTrue(l)),elseIfs:[],elseBody:c(this.whenFalse(l))}},!0)])):t=e(7,u,[e(23,u,17,2367,{macroName:"if",macroData:{test:c(u),body:c(i),elseIfs:[]}},!0),c(l)]))):this.isIdent(i)&&"fallthrough"===this.name(i)&&(t=this.isIf(l)?e(23,u,17,2372,{macroName:"if",macroData:{test:e(23,u,2,2372,{left:c(u),inverted:!1,op:"or",right:c(this.test(l))},!0),body:c(this.whenTrue(l)),elseIfs:[],elseBody:c(this.whenFalse(l))}},!0):e(7,u,[c(u),c(l)])),l=t||e(23,j.test,17,2381,{macroName:"if",macroData:{test:c(j.test),body:c(i),elseIfs:[],elseBody:c(l)}},!0);return l}}.call(this),options:void 0,params:[["ident","cases","many","*","sequence",["const","\n"],["const","case"],["ident","test","ident","Logic"],["ident","body","many","?","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["ident","defaultCase","many","?","sequence",["const","\n"],["const","default"],["this","many","?","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:"switch",id:124},{code:function(a,b,c){var d,e,f,g,h,i;return h=a.macroName,g=a.macroData,i=g.params,e=g.call,d=g.body,this.isCall(e)||this.error("async call expression must be a call",e),null==d&&(d=this.noop()),i=i?[i.head].concat(i.tail):[],f=this.func(i,d,!0,!0),this.call(this.callFunc(e),this.callArgs(e).concat([c(23,f,127,2497,{macroName:"once!",macroData:[c(23,f,118,2497,{op:"mutateFunction!",node:b(f)})]})]),this.callIsNew(e),this.callIsApply(e))},options:void 0,params:[["ident","params","many","?","sequence",["ident","head","ident","Parameter"],["ident","tail","many","*","sequence",["const",","],["this","ident","Parameter"]]],["const","<-"],["ident","call","ident","Expression"],["ident","body","ident","DedentedBody"]],names:"async",id:128},{code:function(a,b,c){var d,e,f,g,h,i,j,k;return j=a.macroName,i=a.macroData,f=i.callback,k=i.params,e=i.call,d=i.body,this.isCall(e)||this.error("async! call expression must be a call",e),null==d&&(d=this.noop()),g=this.tmp("e",!1),k=[this.param(g)].concat(k),h=this.func(k,"throw"===f?c(7,d,[c(23,d,103,2511,{op:"throw?",node:b(g)},!0),b(d)]):c(7,d,[c(23,d,17,2515,{macroName:"if",macroData:{test:c(23,d,20,2515,{op:"?",node:b(g)},!0),body:c(23,d,39,2516,{macroName:"return",macroData:{node:c(9,d,b(f),[b(g)])}},!0),elseIfs:[]}},!0),b(d)]),!0,!0),this.call(this.callFunc(e),this.callArgs(e).concat([c(23,h,127,2520,{macroName:"once!",macroData:[c(23,h,118,2520,{op:"mutateFunction!",node:b(h)})]})]),this.callIsNew(e),this.callIsApply(e))},options:void 0,params:[["ident","callback","choice",["const","throw"],["ident","Expression"]],["ident","params","many","*","sequence",["const",","],["this","ident","Parameter"]],["const","<-"],["ident","call","ident","Expression"],["ident","body","ident","DedentedBody"]],names:"async!",id:129},{code:function(){var a,b,c,d,e;return a="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),b=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+e(a));return a},c=Array.prototype.slice,d=function(b){if(null==b)throw TypeError("Expected an object, got "+e(b));if(a(b))return b;if("string"==typeof b)return b.split("");if("number"==typeof b.length)return c.call(b);throw TypeError("Expected an object with a length property, got "+e(b))},e=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(a,c,f){var g,h,i,j,k,l,m,n,o,p,q,r,s;if(n=a.macroName,m=a.macroData,o=m.name,this.isConst(o)&&"string"!=typeof this.value(o)&&this.error("Expected a constant string, got "+e(this.value(o)),o),this.isConst(o))return k=this.value(o),-1!==k.indexOf("/")&&(k=k.substring(b(k.lastIndexOf("/"))+1)),j=this.ident(k),f(23,o,38,2533,{macroName:"let",macroData:{declarable:f(23,o,37,2533,f(23,o,31,2533,{ident:c(j)},!0),!0),value:f(9,o,f(21,o,"require"),[c(o)])}},!0);if(this.isIdent(o))return q=this.name(o),f(23,o,38,2536,{macroName:"let",macroData:{declarable:f(23,o,37,2536,f(23,o,31,2536,{ident:c(o)},!0),!0),value:f(9,o,f(21,o,"require"),[c(q)])}},!0);if(this.isObject(o)){for(r=[],g=d(this.pairs(o)),h=0,i=g.length;i>h;++h)p=g[h],l=p.key,s=p.value,this.isConst(l)||this.error("If providing an object to require!, all keys must be constant strings",l),k=this.value(l),-1!==k.indexOf("/")&&(k=k.substring(b(k.lastIndexOf("/"))+1)),j=this.ident(k),this.isConst(s)?r.push(f(23,l,38,2548,{macroName:"let",macroData:{declarable:f(23,l,37,2548,f(23,l,31,2548,{ident:c(j)},!0),!0),value:f(9,l,f(21,l,"require"),[c(s)])}},!0)):this.isIdent(s)?(q=this.name(s),r.push(f(23,l,38,2551,{macroName:"let",macroData:{declarable:f(23,l,37,2551,f(23,l,31,2551,{ident:c(j)},!0),!0),value:f(9,l,f(21,l,"require"),[c(q)])}},!0))):this.error("If providing an object to require!, all values must be constant strings or idents",s);return this.block(r)}return this.error("Expected either a constant string or ident or object",o)}}.call(this),options:void 0,params:[["ident","name","ident","Expression"]],names:"require!",id:130},{code:function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;return m=a.macroName,l=a.macroData,q=l.results,n=l.next,k=l.init,s=l.test,r=l.step,g=l.body,o=l.rest,e=null!=q?q:{},i=e.err,p=e.result,null==i&&(i=this.tmp("err",!0)),null==k&&(k=this.noop()),null==s&&(s=d("true")),null==r&&(r=this.noop()),null==o&&(o=this.noop()),h=this.tmp("done",!0,"function"),p?(j=this.tmp("first",!0,"boolean"),t=this.tmp("value",!0),f=this.tmp("arr",!0),c(7,void 0,[b(k),c(23,void 0,38,2695,{macroName:"let",macroData:{declarable:c(23,void 0,37,2695,c(23,void 0,31,2695,{ident:b(j)},!0),!0),value:d("true")}},!0),c(23,void 0,38,2696,{macroName:"let",macroData:{declarable:c(23,void 0,37,2696,c(23,void 0,31,2696,{ident:b(f)},!0),!0),value:c(4,void 0)}},!0),c(23,void 0,15,2697,{macroName:"let",macroData:{ident:b(n),func:c(23,void 0,118,2697,{op:"",node:c(20,void 0,[c(27,void 0,b(i)),c(27,void 0,b(t))],c(7,void 0,[c(23,void 0,17,2698,{macroName:"if",macroData:{test:c(23,void 0,20,2698,{op:"?",node:b(i)},!0),body:c(23,void 0,39,2699,{macroName:"return",macroData:{node:c(9,void 0,b(h),[b(i)])}},!0),elseIfs:[]}},!0),c(23,void 0,17,2700,{macroName:"if",macroData:{test:b(j),body:c(23,void 0,30,2701,{left:b(j),op:":=",right:d("false")},!0),elseIfs:[],elseBody:c(7,void 0,[b(r),c(23,void 0,17,2704,{macroName:"if",macroData:{test:c(23,void 0,10,2704,{left:c(1,void 0,c(3,void 0),c(12,void 0,"length")),inverted:!1,op:"~>",right:c(12,void 0,1)},!0),body:c(9,void 0,c(1,void 0,b(f),c(12,void 0,"push")),[b(t)]),elseIfs:[]}},!0)])}},!0),c(23,void 0,17,2706,{macroName:"unless",macroData:{test:b(s),body:c(23,void 0,39,2707,{macroName:"return",macroData:{node:c(9,void 0,b(h),[d("null"),b(f)])}},!0),elseIfs:[]}},!0),b(g)]),!0,!0)},!0)}},!0),c(23,void 0,15,2709,{macroName:"let",macroData:{ident:b(h),func:c(23,void 0,118,2709,{op:"",node:c(20,void 0,[c(27,void 0,b(i)),c(27,void 0,b(p))],b(o),!0,!0)},!0)}},!0),c(9,void 0,b(n))])):r?(j=this.tmp("first",!0,"boolean"),c(7,void 0,[b(k),c(23,void 0,38,2675,{macroName:"let",macroData:{declarable:c(23,void 0,37,2675,c(23,void 0,31,2675,{ident:b(j)},!0),!0),value:d("true")}},!0),c(23,void 0,15,2676,{macroName:"let",macroData:{ident:b(n),func:c(23,void 0,118,2676,{op:"",node:c(20,void 0,[c(27,void 0,b(i))],c(7,void 0,[c(23,void 0,17,2677,{macroName:"if",macroData:{test:c(23,void 0,20,2677,{op:"?",node:b(i)},!0),body:c(23,void 0,39,2678,{macroName:"return",macroData:{node:c(9,void 0,b(h),[b(i)])}},!0),elseIfs:[]}},!0),c(23,void 0,17,2679,{macroName:"if",macroData:{test:b(j),body:c(23,void 0,30,2680,{left:b(j),op:":=",right:d("false")},!0),elseIfs:[],elseBody:b(r)}},!0),c(23,void 0,17,2683,{macroName:"unless",macroData:{test:b(s),body:c(23,void 0,39,2684,{macroName:"return",macroData:{node:c(9,void 0,b(h),[d("null")])}},!0),elseIfs:[]}},!0),b(g)]),!0,!0)},!0)}},!0),c(23,void 0,15,2686,{macroName:"let",macroData:{ident:b(h),func:c(23,void 0,118,2686,{op:"",node:c(20,void 0,[c(27,void 0,b(i))],b(o),!0,!0)},!0)}},!0),c(9,void 0,b(n))])):c(7,void 0,[b(k),c(23,void 0,15,2662,{macroName:"let",macroData:{ident:b(n),func:c(23,void 0,118,2662,{op:"",node:c(20,void 0,[c(27,void 0,b(i))],c(7,void 0,[c(23,void 0,17,2663,{macroName:"if",macroData:{test:c(23,void 0,20,2663,{op:"?",node:b(i)},!0),body:c(23,void 0,39,2664,{macroName:"return",macroData:{node:c(9,void 0,b(h),[b(i)])}},!0),elseIfs:[]}},!0),c(23,void 0,17,2665,{macroName:"unless",macroData:{test:b(s),body:c(23,void 0,39,2666,{macroName:"return",macroData:{node:c(9,void 0,b(h),[d("null")])}},!0),elseIfs:[]}},!0),b(g)]),!0,!0)},!0)}},!0),c(23,void 0,15,2668,{macroName:"let",macroData:{ident:b(h),func:c(23,void 0,118,2668,{op:"",node:c(20,void 0,[c(27,void 0,b(i))],b(o),!0,!0)},!0)}},!0),c(9,void 0,b(n))])},options:void 0,params:[["ident","results","many","?","sequence",["ident","err","ident","Identifier"],["ident","result","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","<-"]],["ident","next","ident","Identifier"],["const",","],["ident","init","choice",["ident","Statement"],["const",""]],["const",";"],["ident","test","choice",["ident","Logic"],["const",""]],["const",";"],["ident","step","choice",["ident","Statement"],["const",""]],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["const","end"],["ident","rest","ident","DedentedBody"]],names:"asyncfor",id:131},{code:function(){var a,b;return a=function(a){var c;if(c=typeof a,"string"===c)return a;if("number"===c)return String(a);throw TypeError("Expected a string or number, got "+b(a))},b=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;return q=b.macroName,p=b.macroData,s=p.parallelism,v=p.results,r=p.next,y=p.value,l=p.index,f=p.array,g=p.body,t=p.rest,e=null!=v?v:{},i=e.err,u=e.result,j=!!u,null==i&&(i=this.tmp("err",!0)),m=[],null==t&&(t=this.noop()),y=this.macroExpand1(y),n=null,l&&(n=l.length,l=l.value),null==s&&(s=d(12,void 0,1)),null==l&&(l=this.tmp("i",!0,"number")),this.isCall(f)&&this.isIdent(this.callFunc(f))&&"__range"===this.name(this.callFunc(f))&&!this.callIsApply(f)?((this.isArray(y)||this.isObject(y))&&this.error("Cannot assign a number to a complex declarable",y),y=y.ident,e=this.callArgs(f),w=e[0],h=e[1],x=e[2],k=e[3],this.isConst(w)?"number"!=typeof this.value(w)&&this.error("Cannot start with a non-number: "+a(this.value(w)),w):w=d(23,w,60,2740,{op:"+",node:c(w)}),this.isConst(h)?"number"!=typeof this.value(h)&&this.error("Cannot end with a non-number: "+a(this.value(h)),h):this.isComplex(h)?h=this.cache(d(23,h,60,2746,{op:"+",node:c(h)}),m,"end",!1):m.push(d(23,h,60,2748,{op:"+",node:c(h)})),this.isConst(x)?"number"!=typeof this.value(x)&&this.error("Cannot step with a non-number: "+a(this.value(x)),x):this.isComplex(x)?x=this.cache(d(23,x,60,2754,{op:"+",node:c(x)}),m,"step",!1):m.push(d(23,x,60,2756,{op:"+",node:c(x)})),g=d(7,g,[d(23,g,38,2759,{macroName:"let",macroData:{declarable:d(23,g,37,2759,d(23,g,31,2759,{ident:c(y)},!0),!0),value:d(23,g,49,2759,{left:d(23,g,45,2759,{left:c(l),inverted:!1,op:"~*",right:c(x)}),inverted:!1,op:"~+",right:c(w)})}},!0),c(g)]),o=d(23,f,17,2762,{macroName:"if",macroData:{test:c(k),body:d(23,f,45,2763,{left:d(23,f,49,2763,{left:d(23,f,49,2763,{left:c(h),inverted:!1,op:"~-",right:c(w)}),inverted:!1,op:"~+",right:c(x)}),inverted:!1,op:"~\\",right:c(x)},!0),elseIfs:[],elseBody:d(23,f,45,2765,{left:d(23,f,49,2765,{left:c(h),inverted:!1,op:"~-",right:c(w)}),inverted:!1,op:"~\\",right:c(x)},!0)}}),n?m.push(d(23,f,38,2769,{macroName:"let",macroData:{declarable:d(23,f,37,2769,d(23,f,31,2769,{ident:c(n)},!0),!0),value:c(o)}},!0)):n=o):(f=this.cache(f,m,"arr",!0),g=d(7,g,[d(23,g,38,2774,{macroName:"let",macroData:{declarable:d(23,g,37,2774,d(23,g,31,2774,{ident:c(y)},!0),!0),value:d(1,g,c(f),c(l))}},!0),c(g)]),n?m.push(d(23,f,38,2780,{macroName:"let",macroData:{declarable:d(23,f,37,2780,d(23,f,31,2780,{ident:c(n)},!0),!0),value:d(23,f,60,2780,{op:"+",node:d(1,f,c(f),d(12,f,"length"))})}},!0)):n=d(23,f,60,2778,{op:"+",node:d(1,f,c(f),d(12,f,"length"))})),d(7,void 0,[c(m),d(9,void 0,d(21,void 0,"__async"),[d(23,void 0,60,2784,{op:"+",node:c(s)}),c(n),c(j),d(23,void 0,118,2785,{op:"",node:d(20,void 0,[d(27,void 0,c(l)),d(27,void 0,c(r))],c(g),!0,!0)}),d(23,void 0,17,2786,{macroName:"if",macroData:{test:c(j),body:d(23,void 0,118,2787,{op:"",node:d(20,void 0,[d(27,void 0,c(i)),d(27,void 0,c(u))],c(t),!0,!0)},!0),elseIfs:[],elseBody:d(23,void 0,118,2789,{op:"",node:d(20,void 0,[d(27,void 0,c(i))],c(t),!0,!0)},!0)}})])])
}}.call(this),options:void 0,params:[["ident","parallelism","many","?","sequence",["const","("],["this","ident","Expression"],["const",")"]],["ident","results","many","?","sequence",["ident","err","ident","Identifier"],["ident","result","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","<-"]],["ident","next","ident","Identifier"],["const",","],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["ident","value","ident","Identifier"],["ident","length","many","?","sequence",["const",","],["this","ident","Identifier"]]],["const","in"],["ident","array"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["const","end"],["ident","rest","ident","DedentedBody"]],names:"asyncfor",id:132},{code:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;return l=a.macroName,k=a.macroData,p=k.parallelism,s=k.results,m=k.next,i=k.key,u=k.value,t=k.type,n=k.object,e=k.body,q=k.rest,d=null!=s?s:{},f=d.err,r=d.result,o="of"===t,h=[],n=this.cache(n,h,"obj",!0),null==q&&(q=this.noop()),g=null,u&&(g=u.index,u=this.macroExpand1(u.value)),u&&(e=c(7,e,[c(23,e,38,2805,{macroName:"let",macroData:{declarable:c(23,e,37,2805,c(23,e,31,2805,{ident:b(u)},!0),!0),value:c(1,e,b(n),b(i))}},!0),b(e)])),j=this.tmp("keys",!0,"stringArray"),c(7,void 0,[b(h),c(23,void 0,38,2811,{macroName:"let",macroData:{declarable:c(23,void 0,37,2811,c(23,void 0,31,2811,{ident:b(j)},!0),!0),value:c(23,void 0,17,2811,{macroName:"if",macroData:{test:b(o),body:c(9,void 0,c(21,void 0,"__keys"),[b(n)]),elseIfs:[],elseBody:c(9,void 0,c(21,void 0,"__allkeys"),[b(n)])}})}},!0),c(23,void 0,132,2815,{macroName:"asyncfor",macroData:{parallelism:b(p),results:{err:b(f),result:b(r)},next:b(m),value:c(23,void 0,37,2815,c(23,void 0,31,2815,{ident:b(i)},!0),!0),index:{value:b(g)},array:b(j),body:b(e),rest:b(q)}},!0)])},options:void 0,params:[["ident","parallelism","many","?","sequence",["const","("],["this","ident","Expression"],["const",")"]],["ident","results","many","?","sequence",["ident","err","ident","Identifier"],["ident","result","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","<-"]],["ident","next","ident","Identifier"],["const",","],["ident","key","ident","Identifier"],["ident","value","many","?","sequence",["const",","],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]]],["ident","type","choice",["const","of"],["const","ofall"]],["ident","object"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["const","end"],["ident","rest","ident","DedentedBody"]],names:"asyncfor",id:133},{code:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q;return k=a.macroName,j=a.macroData,m=j.parallelism,p=j.results,l=j.next,q=j.value,h=j.index,i=j.iterator,e=j.body,n=j.rest,d=null!=p?p:{},f=d.err,o=d.result,g=!!o,null==n&&(n=this.noop()),null==h&&(h=this.tmp("i",!0)),null==f&&(f=this.tmp("err",!0)),null==m&&(m=c(12,void 0,1)),c(9,void 0,c(21,void 0,"__asyncIter"),[c(23,void 0,60,2829,{op:"+",node:b(m)}),c(9,void 0,c(21,void 0,"__iter"),[b(i)]),b(g),c(23,void 0,118,2830,{op:"",node:c(20,void 0,[c(27,void 0,b(q)),c(27,void 0,b(h)),c(27,void 0,b(l))],b(e),!0,!0)}),c(23,void 0,17,2831,{macroName:"if",macroData:{test:b(g),body:c(23,void 0,118,2832,{op:"",node:c(20,void 0,[c(27,void 0,b(f)),c(27,void 0,b(o))],b(n),!0,!0)},!0),elseIfs:[],elseBody:c(23,void 0,118,2834,{op:"",node:c(20,void 0,[c(27,void 0,b(f))],b(n),!0,!0)},!0)}})])},options:void 0,params:[["ident","parallelism","many","?","sequence",["const","("],["this","ident","Expression"],["const",")"]],["ident","results","many","?","sequence",["ident","err","ident","Identifier"],["ident","result","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","<-"]],["ident","next","ident","Identifier"],["const",","],["ident","value","ident","Identifier"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","from"],["ident","iterator"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["const","end"],["ident","rest","ident","DedentedBody"]],names:"asyncfor",id:134},{code:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n;return h=a.macroName,g=a.macroData,l=g.results,i=g.next,n=g.test,m=g.step,e=g.body,j=g.rest,"asyncuntil"===h&&(n=c(23,n,3,2839,{op:"not",node:b(n)})),null==j&&(j=this.noop()),d=null!=l?l:{},f=d.err,k=d.result,c(23,void 0,131,2845,{macroName:"asyncfor",macroData:{results:{err:b(f),result:b(k)},next:b(i),test:b(n),step:b(m),body:b(e),rest:b(j)}},!0)},options:void 0,params:[["ident","results","many","?","sequence",["ident","err","ident","Identifier"],["ident","result","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","<-"]],["ident","next","ident","Identifier"],["const",","],["ident","test","ident","Logic"],["ident","step","many","?","sequence",["const",","],["this","ident","Statement"]],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["const","end"],["ident","rest","ident","DedentedBody"]],names:["asyncwhile","asyncuntil"],id:135},{code:function(){var a,b;return a=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+b(a));return a},b=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t;for(p=b.macroName,o=b.macroData,s=o.results,h=o.done,t=o.test,f=o.body,k=o.elseIfs,i=o.elseBody,q=o.rest,"asyncunless"===p&&(t=d(23,t,3,2852,{op:"not",node:c(t)})),e=null!=s?s:{},l=e.err,r=e.result,null==q&&(q=this.noop()),g=i?d(23,i,118,2858,{op:"",node:d(20,i,[d(27,i,c(h))],c(i),!0,!0)}):d(23,void 0,118,2860,{op:"",node:d(20,void 0,[d(27,void 0,c(h))],d(9,void 0,c(h)),!0,!0)}),m=a(k.length)-1;m>=0;--m)j=k[m],n=j.test,"unless"===j.type&&(n=d(23,n,3,2867,{op:"not",node:c(n)})),g=d(23,n,17,2868,{macroName:"if",macroData:{test:c(n),body:d(23,n,118,2869,{op:"",node:d(20,n,[d(27,n,c(h))],c(j.body),!0,!0)},!0),elseIfs:[],elseBody:c(g)}},!0);return g=d(23,t,17,2873,{macroName:"if",macroData:{test:c(t),body:d(23,t,118,2874,{op:"",node:d(20,t,[d(27,t,c(h))],c(f),!0,!0)},!0),elseIfs:[],elseBody:c(g)}},!0),l||r?r?(null==l&&(l=this.tmp("err",!0)),d(9,void 0,c(g),[d(23,void 0,118,2887,{op:"",node:d(20,void 0,[d(27,void 0,c(l)),d(27,void 0,c(r))],c(q),!0,!0)})])):d(9,void 0,c(g),[d(23,void 0,118,2883,{op:"",node:d(20,void 0,[d(27,void 0,c(l))],c(q),!0,!0)})]):d(9,void 0,c(g),[d(23,void 0,118,2880,{op:"",node:d(20,void 0,[],c(q),!0,!0)})])}}.call(this),options:void 0,params:[["ident","results","many","?","sequence",["ident","err","ident","Identifier"],["ident","result","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","<-"]],["ident","done","ident","Identifier"],["const",","],["ident","test","ident","Logic"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","elseIfs","many","*","sequence",["const","\n"],["const","else"],["ident","type","choice",["const","if"],["const","unless"]],["ident","test","ident","Logic"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"],["ident","rest","ident","DedentedBody"]],names:["asyncif","asyncunless"],id:136},{code:function(a){var b,c,d,e;return e=a.macroName,d=a.macroData,c=d.key,b=d.func,this.def(c,b)},options:void 0,params:[["ident","key","ident","ObjectKey"],["ident","func","ident","FunctionDeclaration"]],names:"def",id:137},{code:function(a){var b,c,d,e;return d=a.macroName,c=a.macroData,b=c.key,e=c.value,this.def(b,e)},options:void 0,params:[["ident","key","ident","ObjectKey"],["const","="],["ident","value","ident","ExpressionOrAssignment"]],names:"def",id:138},{code:function(a){var b,c,d;return d=a.macroName,c=a.macroData,b=c.key,this.def(b,void 0)},options:void 0,params:[["ident","key","ident","ObjectKey"]],names:"def",id:139},{code:function(){var a,b,c,d,e,f;return a="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),b=Object.prototype.hasOwnProperty,c=Array.prototype.slice,d=function(a){var b;if(b=typeof a,"string"===b)return a;if("number"===b)return String(a);throw TypeError("Expected a string or number, got "+f(a))},e=function(b){if(null==b)throw TypeError("Expected an object, got "+f(b));if(a(b))return b;if("string"==typeof b)return b.split("");if("number"==typeof b.length)return c.call(b);throw TypeError("Expected an object with a length property, got "+f(b))},f=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(a,c,f,g){function h(a){return n.walk(a,function(a){var b,d,g,i,j,k,l;if(this.isSuper(a)){for(k=this.superChild(a),null!=k&&(k=h(k)),b=[],d=e(this.superArgs(a)),g=0,i=d.length;i>g;++g)l=d[g],b.push(h(l));return j=b,this.call(null!=k?f(1,a,c(T),c(k)):S?R:f(21,a,"Object"),[f(38,a)].concat(j),!1,!0)}})}function i(a){return n.walk(a,function(a){var b,d,e;return this.isDef(a)?(d=this.left(a),e=null!=(b=this.right(a))?b:f(23,a,118,3065,{op:"",node:f(20,a,[],f(23,a,11,3065,{op:"throw",node:f(9,a,f(21,a,"Error"),[f(23,a,69,3065,{left:f(23,a,69,3065,{left:f(23,a,69,3065,{left:f(23,a,69,3065,{left:f(12,a,"Not implemented: "),op:"",right:f(9,a,f(21,a,"__name"),[f(1,a,f(38,a),f(12,a,"constructor"))])}),op:"",right:f(12,a,".")}),op:"",right:c(d)}),op:"",right:f(12,a,"()")})])},!0),!0)}),i(f(23,a,30,3066,{left:f(1,a,c(O),c(d)),op:":=",right:c(e)}))):void 0})}var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T;if(n=this,I=a.macroName,H=a.macroData,L=H.name,u=H.generic,S=H.superclass,p=H.body,w=null!=u?[u.head].concat(e(u.tail)):[],this.isIdent(L)?s=L:this.isAccess(L)?(o=L,L=this.isConst(this.child(L))&&"string"==typeof this.value(this.child(L))?null!=(m=this.ident(this.value(this.child(L))))?m:this.tmp("class",!1,"function"):this.tmp("class",!1,"function")):L=this.tmp("class",!1,"function"),this.isIdent(S)&&"Object"===this.name(S)&&(S=null),z=!!S,R=S&&(this.isIdent(S)?S:this.tmp("super",!1,"function")),C=[],T=S?this.tmp(this.isIdent(R)?d(this.name(R))+"_prototype":"super_prototype",!1,"object"):f(1,void 0,f(21,void 0,"Object"),f(12,void 0,"prototype")),O=this.tmp(this.isIdent(L)?d(this.name(L))+"_prototype":"prototype",!1,"object"),S?(C.push(f(23,S,38,2927,{macroName:"let",macroData:{declarable:f(23,S,37,2927,f(23,S,31,2927,{ident:c(T)},!0),!0),value:f(1,S,c(R),f(12,S,"prototype"))}},!0)),C.push(f(23,S,38,2928,{macroName:"let",macroData:{declarable:f(23,S,37,2928,f(23,S,31,2928,{ident:c(O)},!0),!0),value:f(23,S,30,2928,{left:f(1,S,c(L),f(12,S,"prototype")),op:":=",right:f(26,S,[],c(T))})}},!0)),C.push(f(23,S,30,2929,{left:f(1,S,c(O),f(12,S,"constructor")),op:":=",right:c(L)}))):C.push(f(23,L,38,2931,{macroName:"let",macroData:{declarable:f(23,L,37,2931,f(23,L,31,2931,{ident:c(O)},!0),!0),value:f(1,L,c(L),f(12,L,"prototype"))}},!0)),this.isIdent(L)&&(t=this["const"](this.name(L))),null!=t){if(w.length>0&&!this.getConstValue("DISABLE_GENERICS",!1)){for(N=[t,this["const"]("<")],B=0,l=w.length;l>B;++B)v=w[B],B>0&&N.push(this["const"](", ")),N.push(f(23,v,16,2940,{macroName:"if",macroData:{test:f(23,v,8,2940,{left:c(v),inverted:!1,op:"!~=",right:g("null")}),body:f(9,v,f(21,v,"__name"),[c(v)]),elseIfs:[],elseBody:f(12,v,"")}}));N.push(this["const"](">")),t=this.binaryChain("+",N)}C.push(f(23,L,30,2943,{left:f(1,L,c(L),f(12,L,"displayName")),op:":=",right:c(t)}))}if(S&&C.push(f(22,S,f(6,S,f(48,S,"typeof",f(1,S,c(R),f(12,S,"extended"))),"===",f(12,S,"function")),f(9,S,f(1,S,c(R),f(12,S,"extended")),[c(L)]))),p=h(this.macroExpandAll(p)),q=0,this.walk(p,function(a){var b;this.isDef(a)&&(b=this.left(a),this.isConst(b)&&"constructor"===this.value(b)&&++q)}),A=!1,1===q&&this.walk(p,function(a){var b;return this.isDef(a)?(b=this.left(a),this.isConst(b)&&"constructor"===this.value(b)&&this.isFunc(this.right(a))&&!this.funcIsCurried(this.right(a))&&(A=!0),a):a}),Q=this.tmp("this"),A?p=this.walk(p,function(a){var b,d,e;return this.isDef(a)?(d=this.left(a),this.isConst(d)&&"constructor"===this.value(d)?(e=this.right(a),b=this.rewrap(this.func(this.funcParams(e),this.funcBody(e),!1,f(23,e,16,3e3,{macroName:"if",macroData:{test:f(23,e,74,3e3,{left:f(17,e,f(12,e,"this")),inverted:!1,op:"instanceof",right:c(L)},!0),body:f(17,e,f(12,e,"this")),elseIfs:[],elseBody:f(26,e,[],c(O))}},!0)),e),C.unshift(f(23,a,38,3001,{macroName:"let",macroData:{declarable:f(23,a,37,3001,f(23,a,31,3001,{ident:c(L)},!0),!0),value:c(b)}},!0)),this.noop()):void 0):a}):0!==q?(r=this.tmp("ctor",!1,"function"),P=this.tmp("ref"),C.push(f(7,void 0,[f(23,void 0,38,3009,{macroName:"let",macroData:{declarable:f(23,void 0,37,3009,f(23,void 0,31,3009,{isMutable:"mutable",ident:c(r)},!0),!0),value:g("void")}},!0),f(23,void 0,15,3010,{macroName:"let",macroData:{ident:c(L),func:f(23,void 0,118,3010,{op:"",node:f(20,void 0,[],f(7,void 0,[f(23,void 0,38,3011,{macroName:"let",macroData:{declarable:f(23,void 0,37,3011,f(23,void 0,31,3011,{ident:c(Q)},!0),!0),value:f(23,void 0,16,3011,{macroName:"if",macroData:{test:f(23,void 0,74,3011,{left:f(38,void 0),inverted:!1,op:"instanceof",right:c(L)}),body:f(38,void 0),elseIfs:[],elseBody:f(26,void 0,[],c(O))}})}},!0),f(23,void 0,17,3013,{macroName:"if",macroData:{test:f(23,void 0,26,3013,{op:"isFunction!",node:c(r)},!0),body:f(7,void 0,[f(23,void 0,38,3014,{macroName:"let",macroData:{declarable:f(23,void 0,37,3014,f(23,void 0,31,3014,{ident:c(P)},!0),!0),value:f(9,void 0,c(r),[c(Q),f(31,void 0,f(3,void 0))],!1,!0)}},!0),f(23,void 0,17,3015,{macroName:"if",macroData:{test:f(23,void 0,5,3015,{left:f(9,void 0,f(21,void 0,"Object"),[c(P)]),inverted:!1,op:"==",right:c(P)},!0),body:f(23,void 0,39,3016,{macroName:"return",macroData:{node:c(P)}},!0),elseIfs:[]}},!0)]),elseIfs:[{type:"if",test:c(z),body:f(7,void 0,[f(23,void 0,38,3018,{macroName:"let",macroData:{declarable:f(23,void 0,37,3018,f(23,void 0,31,3018,{ident:c(P)},!0),!0),value:f(9,void 0,c(R),[c(Q),f(31,void 0,f(3,void 0))],!1,!0)}},!0),f(23,void 0,17,3019,{macroName:"if",macroData:{test:f(23,void 0,5,3019,{left:f(9,void 0,f(21,void 0,"Object"),[c(P)]),inverted:!1,op:"==",right:c(P)},!0),body:f(23,void 0,39,3020,{macroName:"return",macroData:{node:c(P)}},!0),elseIfs:[]}},!0)])}]}},!0),c(Q)]),!0)},!0)}},!0)])),p=this.walk(p,function(a){var b,d,e,g;return this.isDef(a)&&(e=this.left(a),this.isConst(e)&&"constructor"===this.value(e))?(g=this.right(a),this.isCall(g)&&this.isIdent(this.callFunc(g))&&"__curry"===this.name(this.callFunc(g))&&2===this.callArgs(g).length&&this.isFunc(this.callArgs(g)[1])?(d=this.callArgs(g)[0],b=this.callArgs(g)[1],b=this.rewrap(this.func(this.funcParams(b),this.funcBody(b),!1,f(23,b,16,3034,{macroName:"if",macroData:{test:f(23,b,74,3034,{left:f(17,b,f(12,b,"this")),inverted:!1,op:"instanceof",right:c(L)},!0),body:f(17,b,f(12,b,"this")),elseIfs:[],elseBody:f(26,b,[],c(O))}},!0),!1),g),f(23,a,30,3036,{left:c(r),op:":=",right:f(9,a,f(21,a,"__curry"),[c(d),c(b)])})):this.isFunc(g)?(b=this.rewrap(this.func(this.funcParams(g),this.funcBody(g),!1,f(23,b,16,3042,{macroName:"if",macroData:{test:f(23,b,74,3042,{left:f(17,b,f(12,b,"this")),inverted:!1,op:"instanceof",right:c(L)},!0),body:f(17,b,f(12,b,"this")),elseIfs:[],elseBody:f(26,b,[],c(O))}},!0),this.funcIsCurried(g)),g),f(23,a,30,3044,{left:c(r),op:":=",right:c(b)})):f(23,a,30,3046,{left:c(r),op:":=",right:c(g)})):void 0})):S?(P=this.tmp("ref"),C.push(f(23,L,15,3054,{macroName:"let",macroData:{ident:c(L),func:f(23,L,118,3054,{op:"",node:f(20,L,[],f(7,L,[f(23,L,38,3055,{macroName:"let",macroData:{declarable:f(23,L,37,3055,f(23,L,31,3055,{ident:c(Q)},!0),!0),value:f(23,L,16,3055,{macroName:"if",macroData:{test:f(23,L,74,3055,{left:f(38,L),inverted:!1,op:"instanceof",right:c(L)}),body:f(38,L),elseIfs:[],elseBody:f(26,L,[],c(O))}})}},!0),f(23,L,38,3056,{macroName:"let",macroData:{declarable:f(23,L,37,3056,f(23,L,31,3056,{ident:c(P)},!0),!0),value:f(9,L,c(R),[c(Q),f(31,L,f(3,L))],!1,!0)}},!0),f(23,L,17,3057,{macroName:"if",macroData:{test:f(23,L,5,3057,{left:f(9,L,f(21,L,"Object"),[c(P)]),inverted:!1,op:"==",right:c(P)},!0),body:c(P),elseIfs:[],elseBody:c(Q)}},!0)]),!0)},!0)}},!0))):C.push(f(23,L,15,3050,{macroName:"let",macroData:{ident:c(L),func:f(23,L,118,3050,{op:"",node:f(20,L,[],f(23,L,16,3050,{macroName:"if",macroData:{test:f(23,L,74,3050,{left:f(38,L),inverted:!1,op:"instanceof",right:c(L)},!0),body:f(38,L),elseIfs:[],elseBody:f(26,L,[],c(O))}},!0),!0)},!0)}},!0)),p=i(p),p=this.walk(p,function(a){if(this.isFunc(a)){if(!this.funcIsBound(a))return a}else if(this.isThis(a))return L}),P=f(23,void 0,105,3076,{macroName:"do",macroData:{locals:{ident:c(R),value:c(S),rest:[]},body:f(7,void 0,[c(C),c(p),f(23,void 0,39,3079,{macroName:"return",macroData:{node:c(L)}},!0)])}},!0),w.length>0)if(this.getConstValue("DISABLE_GENERICS",!1)){for(M={},k=0,l=w.length;l>k;++k)v=w[k],L=this.name(v),M[L]=!0;P=this.walk(this.macroExpandAll(P),function(a){var c,d;return this.isBinary(a)&&"instanceof"===this.op(a)&&(d=this.right(a),this.isIdent(d)&&(c=this.name(d),b.call(M,c)))?g("true"):void 0})}else{for(x=this.tmp("cache",!1,"object"),j=[],k=0,l=w.length;l>k;++k)v=w[k],j.push(this.param(v));for(y=j,K=this.tmp("make",!1,"function"),E={},k=0,l=w.length;l>k;++k)v=w[k],L=this.name(v),G=this.tmp("instanceof_"+d(L),!1,"function"),E[L]={key:G,let:f(23,v,38,3104,{macroName:"let",macroData:{declarable:f(23,v,37,3104,f(23,v,31,3104,{ident:c(G)},!0),!0),value:f(9,v,f(21,v,"__getInstanceof"),[c(v)])}},!0),used:!1};P=this.walk(this.macroExpandAll(P),function(a){var d,e,g,h;return this.isBinary(a)&&"instanceof"===this.op(a)&&(h=this.right(a),this.isIdent(h)&&(g=this.name(h),b.call(E,g)))?(d=E[g].key,E[g].used=!0,e=this.left(a),f(9,a,c(d),[c(e)])):void 0}),j=[];for(L in E)b.call(E,L)&&(F=E[L],F.used&&j.push(F.let));D=j,D.length&&(P=f(7,P,[c(D),c(P)])),J=this.func(y,P,!0,!1),P=f(9,void 0,f(21,void 0,"__genericFunc"),[c(w.length),c(J)])}return null!=s?f(23,void 0,38,3128,{macroName:"let",macroData:{declarable:f(23,void 0,37,3128,f(23,void 0,31,3128,{ident:c(s)},!0),!0),value:c(P)}},!0):null!=o?f(23,void 0,30,3130,{left:c(o),op:":=",right:c(P)}):P}}.call(this),options:void 0,params:[["ident","name","many","?","ident","SimpleAssignable"],["ident","generic","many","?","sequence",["const","<"],["ident","head","ident","Identifier"],["ident","tail","many","*","sequence",["const",","],["this","ident","Identifier"]],["const",">"]],["ident","superclass","many","?","sequence",["const","extends"],["this"]],["ident","body","many","?","ident","Body"]],names:"class",id:140},{code:function(a){var b,c,d;return c=a.macroName,b=a.macroData,d=b.node,this.inGenerator||this.error("Can only use yield in a generator function"),this.mutateLast(d||this.noop(),function(a){return this.yield(a)},!0)},options:void 0,params:[["ident","node","many","?","ident","Expression"]],names:"yield",id:141},{code:function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o;return l=a.macroName,k=a.macroData,m=k.node,this.inGenerator||this.error("Can only use yield* in a generator function"),g=[],this.isType(m,"arrayLike")?(f=this.tmp("i",!1,"number"),g.push(c(23,void 0,38,3147,{macroName:"let",macroData:{declarable:c(23,void 0,37,3147,c(23,void 0,31,3147,{ident:b(f)},!0),!0),value:c(12,void 0,0)}},!0)),j=this.tmp("len",!1,"number"),m=this.cache(m,g,"arr",!1),g.push(c(23,void 0,38,3150,{macroName:"let",macroData:{declarable:c(23,void 0,37,3150,c(23,void 0,31,3150,{ident:b(j)},!0),!0),value:c(1,void 0,b(m),c(12,void 0,"length"))}},!0)),c(7,void 0,[c(23,void 0,107,3152,{macroName:"for",macroData:{init:b(g),test:c(23,void 0,9,3152,{left:b(f),inverted:!1,op:"~<",right:b(j)},!0),step:c(23,void 0,104,3152,{left:b(f),op:"+=",right:c(12,void 0,1)}),body:c(23,void 0,141,3153,{macroName:"yield",macroData:{node:c(1,void 0,b(m),b(f))}},!0)}},!0),d("void")])):(i=this.cache(c(9,void 0,c(21,void 0,"__iter"),[b(m)]),g,"iter",!1),e=this.tmp("e",!0),o=this.tmp("send"),h=this.tmp("item"),n=this.tmp("tmp"),c(7,void 0,[b(g),c(23,void 0,38,3163,{macroName:"let",macroData:{declarable:c(23,void 0,37,3163,c(23,void 0,31,3163,{isMutable:"mutable",ident:b(n)},!0),!0),value:d("void")}},!0),c(23,void 0,38,3164,{macroName:"let",macroData:{declarable:c(23,void 0,37,3164,c(23,void 0,31,3164,{isMutable:"mutable",ident:b(o)},!0),!0),value:d("true")}},!0),c(23,void 0,109,3166,{macroName:"while",macroData:{test:d("true"),body:c(7,void 0,[c(23,void 0,38,3167,{macroName:"let",macroData:{declarable:c(23,void 0,37,3167,c(23,void 0,31,3167,{ident:b(h)},!0),!0),value:c(23,void 0,16,3167,{macroName:"if",macroData:{test:b(o),body:c(9,void 0,c(1,void 0,b(i),c(12,void 0,"send")),[b(n)]),elseIfs:[],elseBody:c(9,void 0,c(1,void 0,b(i),c(12,void 0,"throw")),[b(n)])}})}},!0),c(23,void 0,17,3168,{macroName:"if",macroData:{test:c(1,void 0,b(h),c(12,void 0,"done")),body:c(23,void 0,19,3169,{macroName:"break",macroData:{}},!0),elseIfs:[]}},!0),c(23,void 0,120,3170,{macroName:"try",macroData:{tryBody:c(7,void 0,[c(23,void 0,30,3171,{left:b(n),op:":=",right:c(23,void 0,141,3171,{macroName:"yield",macroData:{node:c(1,void 0,b(h),c(12,void 0,"value"))}})},!0),c(23,void 0,30,3172,{left:b(o),op:":=",right:d("true")},!0)]),typedCatches:[],catchPart:{ident:b(e),body:c(7,void 0,[c(23,void 0,30,3174,{left:b(n),op:":=",right:b(e)},!0),c(23,void 0,30,3175,{left:b(o),op:":=",right:d("false")},!0)])}}},!0)])}},!0),c(23,void 0,120,3176,{macroName:"try",macroData:{tryBody:c(9,void 0,c(1,void 0,b(i),c(12,void 0,"close"))),typedCatches:[],catchPart:{ident:b(e),body:d("void")}}},!0),c(1,void 0,b(h),c(12,void 0,"value"))]))},options:void 0,params:[["ident","node","ident","Expression"]],names:"yield*",id:142},{code:function(a,b,c){var d,e,f,g;return e=a.macroName,d=a.macroData,f=d.node,g=d.rest,null==g&&(g=this.noop()),c(7,void 0,[b(g),c(23,void 0,39,3187,{macroName:"return",macroData:{node:b(f)}},!0)])},options:void 0,params:[["ident","node","ident","Expression"],["ident","rest","ident","DedentedBody"]],names:"returning",id:143},{code:function(a){var b,c,d,e;return d=a.macroName,c=a.macroData,b=c.label,e=c.node,this.withLabel(e,b)},options:void 0,params:[["ident","label","ident","Identifier"],["ident","node","choice",["ident","Statement"],["ident","Body"]]],names:"label!",id:146},{code:function(a,b,c){var d,e,f,g;return e=a.macroName,d=a.macroData,g=d.sync,f=d.node,this.isFunc(f)&&!this.funcIsGenerator(f)&&this.error("promise! must be used with a generator function",f),g&&this.isFunc(f)&&this.error("Use .sync() to retrieve asynchronously",g),!g||this.isConst(g)&&!this.value(g)?c(9,void 0,c(21,void 0,"__promise"),[b(f)]):c(9,void 0,c(21,void 0,"__promise"),[b(f),b(g)])},options:void 0,params:[["ident","sync","many","?","sequence",["const","("],["this","ident","Expression"],["const",")"]],["ident","node","ident","Expression"]],names:"promise!",id:155},{code:function(a,b,c){var d,e,f,g,h;return g=a.macroName,f=a.macroData,h=f.sync,d=f.body,e=this.rewrap(this.func([],d,!0,!0,!1,null,!0),d),!h||this.isConst(h)&&!this.value(h)?c(9,void 0,c(21,void 0,"__generatorToPromise"),[c(9,void 0,b(e))]):c(9,void 0,c(21,void 0,"__generatorToPromise"),[c(9,void 0,b(e)),b(h)])},options:void 0,params:[["ident","sync","many","?","sequence",["const","("],["this","ident","Expression"],["const",")"]],["ident","body","ident","GeneratorBody"]],names:"promise!",id:156},{code:function(){var a,b;return a=function(a){var c;if(c=typeof a,"string"===c)return a;if("number"===c)return String(a);throw TypeError("Expected a string or number, got "+b(a))},b=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;return o=b.macroName,n=b.macroData,p=n.parallelism,s=n.value,j=n.index,f=n.array,g=n.body,k=[],s=this.macroExpand1(s),l=null,j&&(l=j.length,j=j.value),null==p&&(p=d(12,void 0,1)),null==j&&(j=this.tmp("i",!0,"number")),this.isCall(f)&&this.isIdent(this.callFunc(f))&&"__range"===this.name(this.callFunc(f))&&!this.callIsApply(f)?((this.isArray(s)||this.isObject(s))&&this.error("Cannot assign a number to a complex declarable",s),s=s.ident,e=this.callArgs(f),q=e[0],h=e[1],r=e[2],i=e[3],this.isConst(q)?"number"!=typeof this.value(q)&&this.error("Cannot start with a non-number: "+a(this.value(q)),q):q=d(23,q,60,3977,{op:"+",node:c(q)}),this.isConst(h)?"number"!=typeof this.value(h)&&this.error("Cannot end with a non-number: "+a(this.value(h)),h):this.isComplex(h)?h=this.cache(d(23,h,60,3983,{op:"+",node:c(h)}),k,"end",!1):k.push(d(23,h,60,3985,{op:"+",node:c(h)})),this.isConst(r)?"number"!=typeof this.value(r)&&this.error("Cannot step with a non-number: "+a(this.value(r)),r):this.isComplex(r)?r=this.cache(d(23,r,60,3991,{op:"+",node:c(r)}),k,"step",!1):k.push(d(23,r,60,3993,{op:"+",node:c(r)})),g=d(7,g,[d(23,g,38,3996,{macroName:"let",macroData:{declarable:d(23,g,37,3996,d(23,g,31,3996,{ident:c(s)},!0),!0),value:d(23,g,49,3996,{left:d(23,g,45,3996,{left:c(j),inverted:!1,op:"~*",right:c(r)}),inverted:!1,op:"~+",right:c(q)})}},!0),c(g)]),m=d(23,f,17,3999,{macroName:"if",macroData:{test:c(i),body:d(23,f,45,4e3,{left:d(23,f,49,4e3,{left:d(23,f,49,4e3,{left:c(h),inverted:!1,op:"~-",right:c(q)}),inverted:!1,op:"~+",right:c(r)}),inverted:!1,op:"~\\",right:c(r)},!0),elseIfs:[],elseBody:d(23,f,45,4002,{left:d(23,f,49,4002,{left:c(h),inverted:!1,op:"~-",right:c(q)}),inverted:!1,op:"~\\",right:c(r)},!0)}}),l?k.push(d(23,f,38,4006,{macroName:"let",macroData:{declarable:d(23,f,37,4006,d(23,f,31,4006,{ident:c(l)},!0),!0),value:c(m)}},!0)):l=m):(f=this.cache(f,k,"arr",!0),g=d(7,g,[d(23,g,38,4011,{macroName:"let",macroData:{declarable:d(23,g,37,4011,d(23,g,31,4011,{ident:c(s)},!0),!0),value:d(1,g,c(f),c(j))}},!0),c(g)]),l?k.push(d(23,f,38,4017,{macroName:"let",macroData:{declarable:d(23,f,37,4017,d(23,f,31,4017,{ident:c(l)},!0),!0),value:d(23,f,60,4017,{op:"+",node:d(1,f,c(f),d(12,f,"length"))})}},!0)):l=d(23,f,60,4015,{op:"+",node:d(1,f,c(f),d(12,f,"length"))})),d(7,void 0,[c(k),d(9,void 0,d(21,void 0,"__promiseLoop"),[d(23,void 0,60,4021,{op:"+",node:c(p)}),c(l),d(9,void 0,d(21,void 0,"__promise"),[d(23,void 0,118,4021,{op:"",node:d(20,void 0,[d(27,void 0,c(j))],c(g),!0,!1,!1,void 0,!0)})])])])}}.call(this),options:void 0,params:[["const","("],["ident","parallelism","ident","Expression"],["const",")"],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["ident","value","ident","Identifier"],["ident","length","many","?","sequence",["const",","],["this","ident","Identifier"]]],["const","in"],["ident","array"],["ident","body","ident","GeneratorBody"]],names:"promisefor",id:164},{code:function(a,b,c){var d,e,f,g,h,i,j,k,l,m,n,o;return j=a.macroName,i=a.macroData,m=i.parallelism,g=i.key,o=i.value,n=i.type,k=i.object,d=i.body,l="of"===n,f=[],k=this.cache(k,f,"obj",!0),e=null,o&&(e=o.index,o=this.macroExpand1(o.value)),o&&(d=c(7,d,[c(23,d,38,4034,{macroName:"let",macroData:{declarable:c(23,d,37,4034,c(23,d,31,4034,{ident:b(o)},!0),!0),value:c(1,d,b(k),b(g))}},!0),b(d)])),h=this.tmp("keys",!0,"stringArray"),c(7,void 0,[b(f),c(23,void 0,38,4040,{macroName:"let",macroData:{declarable:c(23,void 0,37,4040,c(23,void 0,31,4040,{ident:b(h)},!0),!0),value:c(23,void 0,17,4040,{macroName:"if",macroData:{test:b(l),body:c(9,void 0,c(21,void 0,"__keys"),[b(k)]),elseIfs:[],elseBody:c(9,void 0,c(21,void 0,"__allkeys"),[b(k)])}})}},!0),c(23,void 0,164,4044,{macroName:"promisefor",macroData:{parallelism:b(m),value:c(23,void 0,37,4044,c(23,void 0,31,4044,{ident:b(g)},!0),!0),index:{value:b(e)},array:b(h),body:b(d)}},!0)])},options:void 0,params:[["const","("],["ident","parallelism","ident","Expression"],["const",")"],["ident","key","ident","Identifier"],["ident","value","many","?","sequence",["const",","],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]]],["ident","type","choice",["const","of"],["const","ofall"]],["ident","object"],["ident","body","ident","GeneratorBody"]],names:"promisefor",id:165},{code:function(a,b,c){var d,e,f,g,h,i,j;return h=a.macroName,g=a.macroData,i=g.parallelism,j=g.value,e=g.index,f=g.iterator,d=g.body,null==e&&(e=this.tmp("i",!0)),c(9,void 0,c(21,void 0,"__promiseIter"),[c(23,void 0,60,4051,{op:"+",node:b(i)}),c(9,void 0,c(21,void 0,"__iter"),[b(f)]),c(9,void 0,c(21,void 0,"__promise"),[c(23,void 0,118,4051,{op:"",node:c(20,void 0,[c(27,void 0,b(j)),c(27,void 0,b(e))],b(d),!0,!1,!1,void 0,!0)})])])},options:void 0,params:[["const","("],["ident","parallelism","ident","Expression"],["const",")"],["ident","value","ident","Identifier"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","from"],["ident","iterator"],["ident","body","ident","GeneratorBody"]],names:"promisefor",id:166},{code:function(a){var b,c;return c=a.macroName,b=a.macroData,this["const"](this.line())},options:{type:"number"},params:[["const",""]],names:"__LINE__",id:167},{code:function(a){var b,c;return c=a.macroName,b=a.macroData,this["const"](this.column())},options:{type:"number"},params:[["const",""]],names:"__COLUMN__",id:168},{code:function(a){var b,c;return c=a.macroName,b=a.macroData,this["const"](this.file())},options:{type:"string"},params:[["const",""]],names:"__FILE__",id:169},{code:function(a){var b,c;return c=a.macroName,b=a.macroData,this["const"]((new Date).getTime())},options:{type:"number"},params:[["const",""]],names:"__DATEMSEC__",id:170},{code:function(a){var b,c;return c=a.macroName,b=a.macroData,this["const"](this.version())},options:{type:"string"},params:[["const",""]],names:"__VERSION__",id:171}],call:[{code:function(a,b,c){var d,e,f,g,h;return f=a.macroName,e=a.macroData,d=e[0],g=arguments[0].macroData.slice(1),0===g.length?b(d):"statement"===this.position?(h=this.tmp("ref"),c(7,void 0,[c(23,void 0,38,521,{macroName:"let",macroData:{declarable:c(23,void 0,37,521,c(23,void 0,31,521,{ident:b(h)},!0),!0),value:b(d)}},!0),b(g),b(h)])):c(9,void 0,c(21,void 0,"__first"),[b(d),b(g)])},options:void 0,names:"first!",id:58},{code:function(a,b,c){var d,e,f,g,h;return g=a.macroName,f=a.macroData,h=arguments[0].macroData.slice(0,-1),e=(d=arguments[0].macroData)[d.length-1],0===h.length?b(e):c(7,void 0,[b(h),b(e)])},options:void 0,names:"last!",id:59},{code:function(a,b,c,d){var e,f,g,h,i,j;return h=a.macroName,g=a.macroData,f=g[0],j=g[1],this.isFunc(f)?(e=this.funcBody(f),i=this.tmp("once",!0,"boolean"),f=this.rewrap(this.func(this.funcParams(f),c(7,e,[c(23,e,17,2465,{macroName:"if",macroData:{test:b(i),body:c(23,e,17,2466,{macroName:"if",macroData:{test:b(j),body:c(23,e,39,2467,{macroName:"return",macroData:{}},!0),elseIfs:[],elseBody:c(23,e,11,2469,{op:"throw",node:c(9,e,c(21,e,"Error"),[c(12,e,"Attempted to call function more than once")])},!0)}},!0),elseIfs:[],elseBody:c(23,e,30,2471,{left:b(i),op:":=",right:d("true")},!0)}},!0),b(e)]),this.funcIsAutoReturn(f),this.funcIsBound(f),this.funcIsCurried(f),this.funcAsType(f),this.funcIsGenerator(f),this.funcGeneric(f))),c(7,void 0,[c(23,void 0,38,2480,{macroName:"let",macroData:{declarable:c(23,void 0,37,2480,c(23,void 0,31,2480,{isMutable:"mutable",ident:b(i)},!0),!0),value:d("false")}},!0),b(f)])):this.isConst(j)&&!this.value(j)?c(9,void 0,c(21,void 0,"__once"),[b(f)]):c(9,void 0,c(21,void 0,"__once"),[b(f),b(j)])},options:void 0,names:"once!",id:127},{code:function(){var a,b;return a=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+b(a));
return a},b=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d){var e,f,g;return f=b.macroName,e=b.macroData,g=e[0],a(e.length)>1&&this.error("fulfilled! only expects one argument"),this.mutateLast(g||this.noop(),function(a){return d(9,void 0,d(1,void 0,d(21,void 0,"__defer"),d(12,void 0,"fulfilled")),[c(a)])},!0)}}.call(this),options:void 0,names:"fulfilled!",id:157},{code:function(){var a,b;return a=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+b(a));return a},b=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d){var e,f,g;return f=b.macroName,e=b.macroData,g=e[0],a(e.length)>1&&this.error("rejected! only expects one argument"),this.mutateLast(g||this.noop(),function(a){return d(9,void 0,d(1,void 0,d(21,void 0,"__defer"),d(12,void 0,"rejected")),[c(a)])},!0)}}.call(this),options:void 0,names:"rejected!",id:158},{code:function(){var a,b;return a=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+b(a));return a},b=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d){var e,f,g;return f=b.macroName,e=b.macroData,g=e[0],a(e.length)>1&&this.error("from-promise! only expects one argument"),d(9,void 0,d(21,void 0,"__fromPromise"),[c(g)])}}.call(this),options:void 0,names:"fromPromise!",id:159},{code:function(){var a,b,c;return a=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+c(a));return a},b=Array.prototype.slice,c=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(c,d,e,f){var g,h,i,j,k,l,m;return k=c.macroName,j=c.macroData,l=j[0],a(j.length)>1&&this.error("to-promise! only expects one argument"),this.isCall(l)||this.error("to-promise! call expression must be a call",l),h=this.callFunc(l),g=this.callArgs(l),this.callIsNew(l)?(g=this.array(g),e(9,void 0,e(21,void 0,"__toPromise"),[e(21,void 0,"__new"),d(h),d(g)])):this.callIsApply(l)?0!==g.length&&this.isSpread(g[0])?this.maybeCache(this.array(g),function(a,b){return e(9,void 0,e(21,void 0,"__toPromise"),[d(h),e(1,void 0,d(a),e(12,void 0,0)),e(9,void 0,e(1,void 0,d(b),e(12,void 0,"slice")),[e(12,void 0,1)])])}):(i=g[0],m=this.array(b.call(g,1)),e(9,void 0,e(21,void 0,"__toPromise"),[d(h),d(i),d(m)])):(g=this.array(g),this.isAccess(h)?this.maybeCache(this.parent(h),function(a,b){var c;return c=this.child(h),e(9,void 0,e(21,void 0,"__toPromise"),[e(1,void 0,d(a),d(c)),d(b),d(g)])}):e(9,void 0,e(21,void 0,"__toPromise"),[d(h),f("void"),d(g)]))}}.call(this),options:{type:"promise"},names:"toPromise!",id:160},{code:function(){var a,b;return a=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+b(a));return a},b=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d){var e,f,g;return f=b.macroName,e=b.macroData,g=e[0],a(e.length)>1&&this.error("some-promise! only expects one argument"),this.hasType(g,"array")||this.error("some-promise! should be used on an Array",g),d(9,void 0,d(21,void 0,"__somePromise"),[c(g)])}}.call(this),options:void 0,names:"somePromise!",id:161},{code:function(){var a,b;return a=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+b(a));return a},b=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d){var e,f,g;return f=b.macroName,e=b.macroData,g=e[0],a(e.length)>1&&this.error("some-promise! only expects one argument"),this.hasType(g,"array")||this.hasType(g,"object")||this.error("every-promise! should be used on an Array or Object",g),d(9,void 0,d(21,void 0,"__everyPromise"),[c(g)])}}.call(this),options:void 0,names:"everyPromise!",id:162},{code:function(){var a,b;return a=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+b(a));return a},b=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d){var e,f,g,h,i;return g=b.macroName,f=b.macroData,h=f[0],i=f[1],this.hasType(h,"number")||this.error("delay! should take a number in milliseconds"),e=!this.isConst(i)||void 0!==this.value(i),this.isConst(h)&&"number"==typeof this.value(h)&&a(this.value(h))<=0?e?d(9,void 0,d(1,void 0,d(21,void 0,"__defer"),d(12,void 0,"fulfilled")),[c(i)]):d(9,void 0,d(1,void 0,d(21,void 0,"__defer"),d(12,void 0,"fulfilled"))):e?d(9,void 0,d(21,void 0,"__delay"),[c(h),c(i)]):d(9,void 0,d(21,void 0,"__delay"),[c(h)])}}.call(this),options:void 0,names:"delay!",id:163}]}})}("undefined"!=typeof module&&"function"==typeof require?require:void 0);"function"==typeof define&&define.amd?define(function(){return b}):a.GorillaScript=b}(this),function(a){"use strict";var b=function(b){function c(a){var d=Object.prototype.hasOwnProperty;if(d.call(c._cache,a))return c._cache[a];if(d.call(c,a)){var e=c[a];return delete c[a],c._cache[a]=e.call({})}return b?b(a):void 0}return c._cache={},c["./egs"]=function(){var d={exports:this};return function(e){function f(a){var b;return function(){return a&&(b=a(),a=null),b}}function g(a){var b;return b=/^[^\.]+(\..*)$/.exec(ab.basename(a)),b?b[1]:""}function h(a,b){function c(c,f){var g,h;try{g=a[c](f)}catch(i){return x.rejected(i)}if(g.done)return x.fulfilled(g.value);if(h=a.flush())try{b(h)}catch(i){return x.rejected(i)}return g.value.then(d,e,!0)}function d(a){return c("send",a)}function e(a){return c("throw",a)}return d(void 0)}function i(a){var b,c,d,e,f;for(f=[],b=["open","openWrite","openComment","close","closeWrite","closeComment","cache","prelude"],c=0,d=b.length;d>c;++c)e=b[c],f.push(a[e]||"\0");return f.join("\0")}function j(a){return function(){return a}}function k(a){return null==a&&(a={}),{filename:a.filename,embeddedOpen:a.open,embeddedOpenWrite:a.openWrite,embeddedOpenComment:a.openComment,embeddedClose:a.close,embeddedCloseWrite:a.closeWrite,embeddedCloseComment:a.closeComment,prelude:a.prelude,cache:a.cache,undefinedName:a.undefinedName,uglify:a.uglify}}function l(a){var b,c,d;c=a.maybeSync;for(b in a)D.call(a,b)&&(d=a[b],c[b]=d);return c}function m(a,b){return b&&a?(a(b),""):b}function n(a,b,c){var d,e;return null==c&&(c=!1),e=E(function(e){function f(){j=10}function g(f){for(;;)switch(j){case 0:m=c&&d,j=m?3:1;break;case 1:return++j,{done:!1,value:a()};case 2:m=f,c&&(d=m),++j;case 3:k=b(m.isSimple),l=m.func("",e||{},k),j=l&&l.then?4:6;break;case 4:return++j,{done:!1,value:l};case 5:l=f,++j;case 6:j=k.__extendedBy$?7:9;break;case 7:return++j,{done:!1,value:k.__handleExtends$.maybeSync.call(k,l)};case 8:return j=10,{done:!0,value:f};case 9:return++j,{done:!0,value:l};case 10:return{done:!0,value:void 0};default:throw Error("Unknown state: "+j)}}function h(a){throw f(),a}function i(a){try{return g(a)}catch(b){h(b)}}var i,j,g,h,k,l,m;return j=0,{close:f,iterator:function(){return this},next:function(){return i(void 0)},send:i,"throw":function(a){return h(a),i(void 0)}}}),e.sync=function(e){var f,g,h,i;return i=c&&d,i||(i=a().sync(),c&&(d=i)),g=b(i.isSimple),f=i.func,h=(f.sync||f)("",e||{},g),"string"!=typeof h&&(h=h.sync()),g.__extendedBy$?g.__handleExtends$.sync.call(g,h):h},e.stream=function(e){var f,g,h,i,j,k;return f=v(),j=f.send,h=f.end,k=f["throw"],i=f["public"],g=z(function(){function f(){k=11}function g(f){for(;;)switch(k){case 0:p=c&&d,k=p?3:1;break;case 1:return++k,{done:!1,value:a()};case 2:p=f,c&&(d=p),++k;case 3:return n=b(p.isSimple),n.__streamSend$=j,++k,{done:!1,value:x.fulfilled()};case 4:m=p.func,o=m.stream?m.stream(j,"",e||{},n):m("",e||{},n),k=o&&o.then?5:7;break;case 5:return++k,{done:!1,value:o};case 6:o=f,++k;case 7:k=n.__extendedBy$?8:10;break;case 8:return l=n.__handleExtends$,++k,{done:!1,value:l.call(n,o)};case 9:return k=11,{done:!0,value:f};case 10:return++k,{done:!0,value:o};case 11:return{done:!0,value:void 0};default:throw Error("Unknown state: "+k)}}function h(a){throw f(),a}function i(a){try{return g(a)}catch(b){h(b)}}var i,k,g,h,l,m,n,o,p;return k=0,{close:f,iterator:function(){return this},next:function(){return i(void 0)},send:i,"throw":function(a){return h(a),i(void 0)}}}()),g.then(function(a){a&&j(a),h()}).then(null,k),i},e.ready=E(function(){function f(){j=6}function g(f){for(;;)switch(j){case 0:j=c?1:5;break;case 1:j=d?4:2;break;case 2:return++j,{done:!1,value:a()};case 3:d=f,++j;case 4:k=d.func,k.sync&&(k=k.sync),d.isSimple&&(l=b(!0),e.sync=function(a){var b;return b=k("",a||{},l),"string"!=typeof b?b.sync():b}),j=6;break;case 5:return++j,{done:!1,value:a()};case 6:return{done:!0,value:void 0};default:throw Error("Unknown state: "+j)}}function h(a){throw f(),a}function i(a){try{return g(a)}catch(b){h(b)}}var i,j,g,h,k,l;return j=0,{close:f,iterator:function(){return this},next:function(){return i(void 0)},send:i,"throw":function(a){return h(a),i(void 0)}}}),e}function o(a){return{filename:a.filename,open:a.open,openWrite:a.openWrite,openComment:a.openComment,close:a.close,closeWrite:a.closeWrite,closeComment:a.closeComment,cache:a.cache,escape:a.escape,partialPrefix:a.partialPrefix,prelude:a.prelude,context:null}}function p(a){var b,c,d;b=D.call(a,"context")?a.context:a,d=["escape","extends","partial","block"];for(c in Y)D.call(Y,c)&&!B(c,d)&&d.push(c);if(b)for(c in b)D.call(b,c)&&!B(c,d)&&d.push(c);return d.sort()}function q(a,b){var c;return null==b&&(b={context:null}),c=p(b),n(j(M(a,k(b),c)),$(b,c),!0)}function r(a,b){var c;return null==b&&(b={context:null}),b.filename=a,c=p(b),n(O(a,k(b),c),$(b,c),b.cache)}function s(a,b,c){var d;return null==b&&(b={context:null}),d=q(a,o(b)),c||(c=D.call(b,"context")?b.context:b),d.stream(c)}function t(a,b,c){var d;return null==b&&(b={context:null}),b.filename=a,d=r(a,o(b)),c||(c=D.call(b,"context")?b.context:b),d.stream(c)}function u(a,b,c){null==b&&(b={context:null}),y(cb(a,b))(c)}function v(){function a(a,c){var d;b&&(d=b[a],b=null,d&&db(d,c))}var b;return b={},{send:function(a){var c;b&&(c=b.data,c&&c(a))},"throw":function(b){a("error",b)},end:function(){a("end")},"public":{on:function(a,c){return b&&(b[a]=c),this}}}}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb;L=this,w="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},x=function(){function a(){function b(a,b){var f;c&&(f=c,c=null,d=a,e=b,f.length&&db(function(){var a,b;for(b=0,a=f.length;a>b;++b)f[b]()}))}var c,d,e;return d=!1,e=null,c=[],{promise:{then:function(b,f,g){function h(){var a,c;try{a=d?f:b,"function"==typeof a?(c=a(e),c&&"function"==typeof c.then?c.then(j,l,g):j(c)):(d?l:j)(e)}catch(h){l(h)}}var i,j,k,l;return g!==!0&&(g=void 0),i=a(),k=i.promise,j=i.fulfill,l=i.reject,c?c.push(h):g?h():db(h),k},sync:function(){var a,b;switch(b=0,a=0,this.then(function(c){return b=1,a=c},function(c){return b=2,a=c},!0),b){case 0:throw Error("Promise did not execute synchronously");case 1:return a;case 2:throw a;default:throw Error("Unknown state")}}},fulfill:function(a){b(!1,a)},reject:function(a){b(!0,a)}}}return a.fulfilled=function(b){var c;return c=a(),c.fulfill(b),c.promise},a.rejected=function(b){var c;return c=a(),c.reject(b),c.promise},a}(),y=function(a){if("object"!=typeof a||null===a)throw TypeError("Expected promise to be an Object, got "+J(a));if("function"!=typeof a.then)throw TypeError("Expected promise.then to be a Function, got "+J(a.then));return function(b){a.then(function(a){return db(b,null,a)},function(a){return db(b,a)})}},z=function(a,b){function c(c,f){var g;try{g=a[c](f)}catch(h){return x.rejected(h)}return g.done?x.fulfilled(g.value):g.value.then(d,e,b)}function d(a){return c("send",a)}function e(a){return c("throw",a)}if("object"!=typeof a||null===a)throw TypeError("Expected generator to be an Object, got "+J(a));if("function"!=typeof a.send)throw TypeError("Expected generator.send to be a Function, got "+J(a.send));if("function"!=typeof a["throw"])throw TypeError("Expected generator.throw to be a Function, got "+J(a["throw"]));if(null==b)b=!1;else if("boolean"!=typeof b)throw TypeError("Expected allowSync to be a Boolean, got "+J(b));return d(void 0)},A=function(a,b){var c;for(c in b)D.call(b,c)&&(a[c]=b[c]);return a},B="function"==typeof Array.prototype.indexOf?function(){var a;return a=Array.prototype.indexOf,function(b,c){return-1!==a.call(c,b)}}():function(a,b){var c,d;for(d=+b.length,c=-1;++c<d;)if(a===b[c]&&c in b)return!0;return!1},C="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),D=Object.prototype.hasOwnProperty,E=function(a,b){var c;if(null==b)b=!1;else if("boolean"!=typeof b)throw TypeError("Expected allowSync to be a Boolean, got "+J(b));return"function"==typeof a?(c=function(){return z(a.apply(this,arguments))},c.sync=function(){return z(a.apply(this,arguments),!0).sync()},c.maybeSync=function(){return z(a.apply(this,arguments),!0)},c):z(a,b)},F=function(a,b,c){function d(a){return++j,c(a).then(function(b){return i[a]=b,--j,e()},function(a){return g=!0,f.reject(a)})}function e(){for(;!g&&a>j&&b>h;++h)d(h);return!g&&h>=b&&0===j?(g=!0,f.fulfill(i)):void 0}var f,g,h,i,j;if("number"!=typeof a)throw TypeError("Expected limit to be a Number, got "+J(a));if("number"!=typeof b)throw TypeError("Expected length to be a Number, got "+J(b));if("function"!=typeof c)throw TypeError("Expected body to be a Function, got "+J(c));return(1>a||a!==a)&&(a=1/0),i=[],g=!1,j=0,f=x(),h=0,db(e),f.promise},G=Array.prototype.slice,H=function(a){if(null==a)throw TypeError("Expected an object, got "+J(a));if(C(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return G.call(a);throw TypeError("Expected an object with a length property, got "+J(a))},I=function(a,b,c){var d;if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+J(a));return d=x(),a.apply(b,H(c).concat([function(a,b){null!=a?d.reject(a):d.fulfill(b)}])),d.promise},J=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),db="function"==typeof e.setImmediate?e.setImmediate:"undefined"!=typeof process&&"function"==typeof process.nextTick?function(){var a;return a=process.nextTick,function(b){var c;if("function"!=typeof b)throw TypeError("Expected func to be a Function, got "+J(b));return c=G.call(arguments,1),c.length?a(function(){b.apply(void 0,H(c))}):a(b)}}():function(a){var b;if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+J(a));return b=G.call(arguments,1),b.length?setTimeout(function(){a.apply(void 0,H(b))},0):setTimeout(a,0)},T=c("fs"),ab=c("path"),Y=c("./helpers"),fb=c("./utils"),Q=function(a){function b(d){var e,f;return e=this instanceof b?this:w(c),null==d&&(d=""),e.message=d,f=a.call(e,d),"function"==typeof a.captureStackTrace?a.captureStackTrace(e,b):"stack"in f&&(e.stack=f.stack),e}var c,d;return d=a.prototype,c=b.prototype=w(d),c.constructor=b,b.displayName="EgsError","function"==typeof a.extended&&a.extended(b),c.name="EgsError",b}(Error),V=f(function(){var d,e;return e=c("gorillascript"),null!=e?x.fulfilled(e):"function"==typeof define&&define.amd?(d=x(),b(["gorillascript"],function(a){return d.fulfill(a)}),d.promise):"object"==typeof a&&null!==a?a.GorillaScript?x.fulfilled(a.GorillaScript):x.rejected(Error("GorillaScript must be available before EGS requests it")):x.rejected(Error("Unable to detect environment, cannot load GorillaScript"))}),X=function(){var a;return a={},function(b,c){var d,e;return e=D.call(a,c)?a[c]:a[c]={},D.call(e,b)?e[b]:(d=b,ab.extname(d)||(d+=""+g(c)),e[b]=ab.resolve(ab.dirname(c),d))}}(),K=function(){var a,b,c;return b=f(E(function(){function b(){f=6}function c(b){for(;;)switch(f){case 0:i=a,f=i?3:1;break;case 1:return++f,{done:!1,value:I(T.readFile,T,[__dirname+"/../src/egs-prelude.gs","utf8"])};case 2:i=b,++f;case 3:return++f,{done:!1,value:V()};case 4:return g=b,++f,{done:!1,value:g.parse(i)};case 5:return h=b,++f,{done:!0,value:h.macros};case 6:return{done:!0,value:void 0};default:throw Error("Unknown state: "+f)}}function d(a){throw b(),a}function e(a){try{return c(a)}catch(b){d(b)}}var e,f,c,d,g,h,i;return f=0,{close:b,iterator:function(){return this},next:function(){return e(void 0)},send:e,"throw":function(a){return d(a),e(void 0)}}})),c={},[function(a){var d;return null==a&&(a=null),d=b(),a?D.call(c,a)?c[a]:c[a]=z(function(){function b(){g=5}function c(b){for(;;)switch(g){case 0:return++g,{done:!1,value:d};case 1:return h=b,++g,{done:!1,value:I(T.readFile,T,[a,"utf8"])};case 2:return k=b,++g,{done:!1,value:V()};case 3:return i=b,++g,{done:!1,value:i.parse(k,{macros:h})};case 4:return j=b,++g,{done:!0,value:j.macros};case 5:return{done:!0,value:void 0};default:throw Error("Unknown state: "+g)}}function e(a){throw b(),a}function f(a){try{return c(a)}catch(b){e(b)}}var f,g,c,e,h,i,j,k;return g=0,{close:b,iterator:function(){return this},next:function(){return f(void 0)},send:f,"throw":function(a){return e(a),f(void 0)}}}()):d},function(b){return a=b,this}]}(),W=K[0],gb=K[1],U=function(){var a;return a=f(E(function(){function a(){e=2}function b(a){for(;;)switch(e){case 0:return++e,{done:!1,value:V()};case 1:return n=a,h=n.AST,p=function(a,b){var c;return a instanceof h.Call?(c=a.func,c instanceof h.Ident&&c.name===b):void 0},q=function(a,b){var c,d,e;return a instanceof h.Call&&(c=a.func,c instanceof h.Binary&&"."===c.op)?(d=c.left,e=c.right,d instanceof h.Ident&&"context"===d.name&&e.isConst()&&e.constValue()===b):!1},m=function(a){return p(a,"write")&&2===a.args.length&&a.args[1].isConst()&&a.args[1].constValue()?h.Call(a.pos,a.func,[h.Call(a.pos,h.Access(a.pos,h.Ident(a.pos,"context"),h.Const(a.pos,"escape")),[a.args[0]])]):void 0},w=function(a){var b;return q(a,"escape")&&1===a.args.length&&(b=a.args[0],b&&(q(b,"h")||q(b,"html"))&&1===b.args.length)?b.args[0]:void 0},i=function(a){var b;return a.isConst()?"string"!=typeof a.constValue():a instanceof h.Binary?"+"===a.op?i(a.left)&&i(a.right):!0:a instanceof h.IfExpression?i(a.whenTrue)||i(a.whenFalse):a instanceof h.BlockExpression||a instanceof h.BlockStatement?i((b=a.body)[b.length-1]):!q(a,"escape")},r=function(a){var b,c,d,e,f,g,j,k,l,m,n;if(a instanceof h.BlockExpression||a instanceof h.BlockStatement){for(d=a.body.slice(),e=!1,b=H(d),f=0,c=b.length;c>f;++f)l=b[f],j=l.walkWithThis(r),d[f]=j,j!==l&&(e=!0);for(f=0;f<d.length-1;)g=d[f],k=d[f+1],p(g,"write")&&1===g.args.length&&p(k,"write")&&1===k.args.length?(e=!0,d.splice(f,2,h.Call(g.pos,g.func,[h.Binary(g.pos,i(g.args[0])&&i(k.args[0])?h.Binary(g.pos,h.Const(g.pos,""),"+",g.args[0]):g.args[0],"+",k.args[0])]))):++f;if(e)return h.Block(a.pos,d,a.label)}else if((a instanceof h.IfStatement||a instanceof h.IfExpression)&&!a.label&&(n=a.whenTrue.walkWithThis(r),m=a.whenFalse.walkWithThis(r),p(n,"write")&&(p(m,"write")||m.isNoop())))return h.Call(a.pos,n.func,[h.IfExpression(a.pos,a.test.walkWithThis(r),n.args[0],m.isNoop()?h.Const(m.pos,""):m.args[0])])},o=function(a){var b;b={};try{a.walk(function(a){if(a instanceof h.Func)return a;if(q(a,"extends"))throw b})}catch(c){if(c===b)return!0;throw c}return!1},v=function(a){return a instanceof h.Func?a:p(a,"write")?h.Noop(a.pos):void 0},u=function(a){return a instanceof h.Func&&o(a)?a.walk(v):void 0},l=function(a){return p(a,"write")?h.Binary(a.pos,a.func,"+=",a.args[0]).walkWithThis(l):void 0},s=function(a,b){return b instanceof h.Binary&&"+"===b.op?h.Binary(a.pos,s(a,b.left),"+",b.right):h.Binary(a.pos,a,"+",b)},k=function(a){var b,c,d;return a instanceof h.BlockStatement&&(d=(b=a.body)[b.length-1],d instanceof h.Return&&d.node instanceof h.Ident&&"write"===d.node.name&&(c=(b=a.body)[b.length-2],c&&c instanceof h.Binary&&"+="===c.op&&c.left instanceof h.Ident&&"write"===c.left.name))?h.BlockStatement(a.pos,H(G.call(a.body,0,-2)).concat([h.Return(c.pos,s(c.left,c.right))]),a.label):void 0},t=function(a){return a instanceof h.Binary&&"=="===a.op&&a.left instanceof h.Ident&&"context"===a.left.name&&a.right.isConst()&&null==a.right.constValue()?h.Const(a.pos,!1):void 0},j=function(a){return function(b){return b instanceof h.Binary&&"."===b.op&&b.left instanceof h.Ident&&"context"===b.left.name&&b.right.isConst()&&B(b.right.constValue(),a)?h.Binary(b.pos,h.Ident(b.left.pos,"helpers"),".",b.right):void 0}},g=function(a){return a instanceof h.Func&&2===a.params.length&&"write"===a.params[0].name&&"context"===a.params[1].name?h.Func(a.pos,a.name,[a.params[0],a.params[1],h.Ident(a.pos,"helpers")],a.variables,a.body,a.declarations):void 0},f=function(a){var b,c,d;return a instanceof h.Func&&3===a.params.length&&"write"===a.params[0].name&&"context"===a.params[1].name&&"helpers"===a.params[2].name&&a.body instanceof h.BlockStatement&&(c=(b=a.body.body)[b.length-1],c instanceof h.Return&&c.node instanceof h.Obj)?(d=c.pos,h.Func(a.pos,a.name,a.params,a.variables,h.BlockStatement(a.body.pos,H(G.call(a.body.body,0,-1)).concat([h.Return(d,h.Obj(c.node.pos,H(c.node.elements).concat([h.Obj.Pair(d,"flush",h.Func(d,null,[],["flushed"],h.Block(d,[h.Assign(d,h.Ident(d,"flushed"),h.Ident(d,"write")),h.Assign(d,h.Ident(d,"write"),h.Const(d,"")),h.Return(d,h.Ident(d,"flushed"))])))])))])),a.declarations)):void 0},++e,{done:!0,value:function(a){return function(b){return b.walk(m).walk(w).walk(r).walk(u).walk(l).walk(k).walk(t).walk(j(a)).walk(g).walk(f)}}};case 2:return{done:!0,value:void 0};default:throw Error("Unknown state: "+e)}}function c(b){throw a(),b}function d(a){try{return b(a)}catch(d){c(d)}}var d,e,b,c,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;return e=0,{close:a,iterator:function(){return this},next:function(){return d(void 0)},send:d,"throw":function(a){return c(a),d(void 0)}}})),E(function(b){function c(){g=2}function d(c){for(;;)switch(g){case 0:return++g,{done:!1,value:a()};case 1:return h=c,++g,{done:!0,value:h(b)};case 2:return{done:!0,value:void 0};default:throw Error("Unknown state: "+g)}}function e(a){throw c(),a}function f(a){try{return d(a)}catch(b){e(b)}}var f,g,d,e,h;return g=0,{close:c,iterator:function(){return this},next:function(){return f(void 0)},send:f,"throw":function(a){return e(a),f(void 0)}}})}(),N=E(function(a,b,c){function d(){j=9}function e(d){for(;;)switch(j){case 0:return++j,{done:!1,value:W(b.prelude)};case 1:return p=d,++j,{done:!1,value:U(c)};case 2:return l=d,i=A({},b),i.embedded=!0,i.noindent=!0,i.macros=p,i.prelude=null,i.astPipe=l,q=i,o=!1,++j,{done:!1,value:V()};case 3:n=d,++j;case 4:return++j,{done:!1,value:n.compile(a,q)};case 5:k=d,m=k.code,j=8;break;case 6:return q.embeddedGenerator=!0,o=!0,++j,{done:!1,value:n.compile(a,q)};case 7:k=d,m=k.code,++j;case 8:return++j,{done:!0,value:{isGenerator:o,code:m}};case 9:return{done:!0,value:void 0};default:throw Error("Unknown state: "+j)}}function f(a){if(4!==j&&5!==j)throw d(),a;h=a,j=6}function g(a){for(;;)try{return e(a)}catch(b){f(b)}}var h,i,g,j,e,f,k,l,m,n,o,p,q;return j=0,{close:d,iterator:function(){return this},next:function(){return g(void 0)},send:g,"throw":function(a){return f(a),g(void 0)}}}),M=E(function(a,b,c){function d(){j=2}function e(d){for(;;)switch(j){case 0:return++j,{done:!1,value:N(a,b,c)};case 1:return i=d,m=i.isGenerator,k=i.code,++j,{done:!0,value:{func:m?(l=Function("return "+k)(),n=E(l),n.stream=function(a){var b,c;return b=G.call(arguments,1),c=l.apply(this,H(b)),c.flush?h(c,a):z(c)},n):Function("return "+k)(),isSimple:function(){var a,b,c,d,e;for(b=!0,a=["extends","partial","block"],c=0,d=a.length;d>c;++c)if(e=a[c],-1!==k.indexOf("helpers."+e)||-1!==k.indexOf('helpers["'+e+'"]')){b=!1;break}return b}()}};case 2:return{done:!0,value:void 0};default:throw Error("Unknown state: "+j)}}function f(a){throw d(),a}function g(a){try{return e(a)}catch(b){f(b)}}var i,g,j,e,f,k,l,m,n;return j=0,{close:d,iterator:function(){return this},next:function(){return g(void 0)},send:g,"throw":function(a){return f(a),g(void 0)}}}),O=function(){var a;return a={},function(b,c,d){var e,f;return f=D.call(a,b)?a[b]:a[b]={},D.call(f,e=i(c)+"\0"+d.join("\0"))?f[e]:f[e]=function(){var a,e,f,g;return f=E(function(){function a(){h=3}function e(a){for(;;)switch(h){case 0:return++h,{done:!1,value:I(T.readFile,T,[b,"utf8"])};case 1:return i=a,++h,{done:!1,value:M(i,c,d)};case 2:return++h,{done:!0,value:a};case 3:return{done:!0,value:void 0};default:throw Error("Unknown state: "+h)}}function f(b){throw a(),b}function g(a){try{return e(a)}catch(b){f(b)}}var g,h,e,f,i;return h=0,{close:a,iterator:function(){return this},next:function(){return g(void 0)},send:g,"throw":function(a){return f(a),g(void 0)}}}),c.cache?j(f()):(g=E(function(){function a(){f=2}function c(a){for(;;)switch(f){case 0:return++f,{done:!1,value:I(T.stat,T,[b])};case 1:return g=a,++f,{done:!0,value:g.mtime.getTime()};case 2:return{done:!0,value:void 0};default:throw Error("Unknown state: "+f)}}function d(b){throw a(),b}function e(a){try{return c(a)}catch(b){d(b)}}var e,f,c,d,g;return f=0,{close:a,iterator:function(){return this},next:function(){return e(void 0)},send:e,"throw":function(a){return d(a),e(void 0)}}}),a=f(),e=g(),E(function(){function b(){i=4}function c(b){for(;;)switch(i){case 0:return k=g(),++i,{done:!1,value:e};case 1:return j=b,++i,{done:!1,value:k};case 2:return j=j!==b,j&&(a=f(),e=k),++i,{done:!1,value:a};case 3:return++i,{done:!0,value:b};case 4:return{done:!0,value:void 0};default:throw Error("Unknown state: "+i)}}function d(a){throw b(),a}function h(a){try{return c(a)}catch(b){d(b)}}var h,i,c,d,j,k;return i=0,{close:b,iterator:function(){return this},next:function(){return h(void 0)},send:h,"throw":function(a){return d(a),h(void 0)}}}))}()}}(),S=E(function(a,b,c,d){function e(){i=2}function f(e){for(;;)switch(i){case 0:return null==c&&(c={}),k=X(a,b),++i,{done:!1,value:O(k,c,d)()};case 1:return j=e,++i,{done:!0,value:{filepath:k,compiled:j}};case 2:return{done:!0,value:void 0};default:throw Error("Unknown state: "+i)}}function g(a){throw e(),a}function h(a){try{return f(a)}catch(b){g(b)}}var h,i,f,g,j,k;return i=0,{close:e,iterator:function(){return this},next:function(){return h(void 0)},send:h,"throw":function(a){return g(a),h(void 0)}}}),eb=A({},Y),K=A({},Y),K["extends"]=function(a,b){if(!this.__currentFilepath$)throw Q("Can only use extends if the 'filename' option is specified");if(this.__inPartial$)throw Q("Cannot use extends when in a partial");if(this.__extendedBy$)throw Q("Cannot use extends more than once");this.__extendedBy$=this.__fetchCompiled$(a),this.__extendedByLocals$=b},K.partial=l(E(function(a,b,c){function d(){j=5}function e(d){for(;;)switch(j){case 0:if(null==c&&(c={}),!k.__currentFilepath$)throw Q("Can only use partial if the 'filename' option is specified");return a=ab.join(ab.dirname(a),""+k.__partialPrefix$+ab.basename(a)),b=m(k.__streamSend$,b),++j,{done:!1,value:k.__fetchCompiled$(a)};case 1:i=d,l=i.filepath,n=i.compiled.func,h=w(k),h.__currentFilepath$=l,h.__inPartial$=!0,o=h,j=n.maybeSync?2:4;break;case 2:return++j,{done:!1,value:n.maybeSync(b,c,o)};case 3:return j=5,{done:!0,value:d};case 4:return++j,{done:!0,value:n(b,c,o)};case 5:return{done:!0,value:void 0};default:throw Error("Unknown state: "+j)}}function f(a){throw d(),a}function g(a){try{return e(a)}catch(b){f(b)}}var h,i,g,j,e,k,f,l,n,o;return k=this,j=0,{close:d,iterator:function(){return this},next:function(){return g(void 0)},send:g,"throw":function(a){return f(a),g(void 0)}}})),K.block=l(E(function(a,b,c){function d(){h=6}function e(d){for(;;)switch(h){case 0:if(null==c&&(c=null),i.__inPartial$)throw Q("Cannot use block when in a partial");b=m(i.__streamSend$,b),k=i.__blocks$,n=i.__helpers$,h=i.__extendedBy$&&!n.__inBlock$?1:2;break;case 1:return null==c||D.call(k,a)||(k[a]=c),h=6,{done:!0,value:b};case 2:j=D.call(k,a)&&k[a]||c,l=b,h=j?3:5;break;case 3:return n.__inBlock$=!0,++h,{done:!1,value:E(j(b),!0)};case 4:l=d,n.__inBlock$=!1,++h;case 5:return++h,{done:!0,value:l};case 6:return{done:!0,value:void 0};default:throw Error("Unknown state: "+h)}}function f(a){throw d(),a}function g(a){try{return e(a)}catch(b){f(b)}}var g,h,e,i,f,j,k,l,n;return i=this,h=0,{close:d,iterator:function(){return this},next:function(){return g(void 0)},send:g,"throw":function(a){return f(a),g(void 0)}}})),K.__handleExtends$=l(E(function(){function a(){g=9}function b(a){for(;;)switch(g){case 0:return++g,{done:!1,value:h.__extendedBy$};case 1:f=a,i=f.filepath,j=f.compiled.func,e=w(h),e.__currentFilepath$=i,e.__extendedBy$=null,e.__extendedByLocals$=null,l=e,k=h.__extendedByLocals$||{},g=j.maybeSync?2:4;break;case 2:return++g,{done:!1,value:j.maybeSync("",k,l)};case 3:m=a,g=5;break;case 4:m=j("",k,l),++g;case 5:g=l.__extendedBy$?6:8;break;case 6:return++g,{done:!1,value:l.__handleExtends$.call(l,m)};case 7:return g=9,{done:!0,value:a};case 8:return++g,{done:!0,value:m};case 9:return{done:!0,value:void 0};default:throw Error("Unknown state: "+g)}}function c(b){throw a(),b}function d(a){try{return b(a)}catch(d){c(d)}}var e,f,d,g,b,h,c,i,j,k,l,m;return h=this,g=0,{close:a,iterator:function(){return this},next:function(){return d(void 0)},send:d,"throw":function(a){return c(a),d(void 0)}}})),Z=K,$=function(){function a(a,b,c,d,e){var f,g;return f=w(Z),f.__currentFilepath$=b,f.__partialPrefix$=a,f.__fetchCompiled$=c,f.__extendedBy$=null,f.__extendedByLocals$=null,f.__inPartial$=!1,f.__inBlock$=!1,f.escape=d,g=w(eb),g.__currentFilepath$=b,g.escape=d,e&&(A(g,e),A(f,e)),function(a){var b;return a?g:(b=w(f),b.__helpers$=b,b.__blocks$={},b)}}return function(b,c){return a("string"==typeof b.partialPrefix?b.partialPrefix:"_",b.filename,function(){var a,d;return d=b.__inPackage$,d?function(a){return d._find(a,this.__currentFilepath$)}:(a=k(b),function(b){return S(b,this.__currentFilepath$,a,c)})}(),"function"==typeof b.escape?b.escape:fb.escapeHTML,D.call(b,"context")?b.context:b)}}(),bb=E(function(a,b,c){function d(){h=2}function e(d){for(;;)switch(h){case 0:return null==b&&(b={context:null}),i=q(a,o(b)),c||(c=D.call(b,"context")?b.context:b),++h,{done:!1,value:i.maybeSync(c)};case 1:return++h,{done:!0,value:d};case 2:return{done:!0,value:void 0};default:throw Error("Unknown state: "+h)}}function f(a){throw d(),a}function g(a){try{return e(a)}catch(b){f(b)}}var g,h,e,f,i;return h=0,{close:d,iterator:function(){return this},next:function(){return g(void 0)},send:g,"throw":function(a){return f(a),g(void 0)}}}),cb=E(function(a,b,c){function d(){h=2}function e(d){for(;;)switch(h){case 0:return null==b&&(b={context:null}),b.filename=a,i=r(a,o(b)),c||(c=D.call(b,"context")?b.context:b),++h,{done:!1,value:i.maybeSync(c)};case 1:return++h,{done:!0,value:d};case 2:return{done:!0,value:void 0};default:throw Error("Unknown state: "+h)}}function f(a){throw d(),a}function g(a){try{return e(a)}catch(b){f(b)}}var g,h,e,f,i;return h=0,{close:d,iterator:function(){return this},next:function(){return g(void 0)},send:g,"throw":function(a){return f(a),g(void 0)}}}),R=E(function(a,b){function c(){g=3}function d(c){for(;;)switch(g){case 0:return++g,{done:!1,value:I(T.readdir,T,[a])};case 1:return h=c,i=[],++g,{done:!1,value:F(3,+h.length,E(function(c){function d(){k=6}function e(d){for(;;)switch(k){case 0:return m=h[c],l=ab.join(a,m),++k,{done:!1,value:I(T.stat,T,[l])};case 1:n=d,k=n.isDirectory()?2:4;break;case 2:return j=[],++k,{done:!1,value:R(l,b)};case 3:return j.push.apply(j,H(d)),k=6,{done:!0,value:i.push.apply(i,j)};case 4:k=n.isFile()&&ab.extname(m)===b?5:6;break;
case 5:return++k,{done:!0,value:i.push(l)};case 6:return{done:!0,value:void 0};default:throw Error("Unknown state: "+k)}}function f(a){throw d(),a}function g(a){try{return e(a)}catch(b){f(b)}}var j,g,k,e,f,l,m,n;return k=0,{close:d,iterator:function(){return this},next:function(){return g(void 0)},send:g,"throw":function(a){return f(a),g(void 0)}}}))};case 2:return++g,{done:!0,value:i.sort()};case 3:return{done:!0,value:void 0};default:throw Error("Unknown state: "+g)}}function e(a){throw c(),a}function f(a){try{return d(a)}catch(b){e(b)}}var f,g,d,e,h,i;return g=0,{close:c,iterator:function(){return this},next:function(){return f(void 0)},send:f,"throw":function(a){return e(a),f(void 0)}}}),P=E(function(a,b,c){function d(){h=7}function e(d){for(;;)switch(h){case 0:return null==c&&(c={}),++h,{done:!1,value:I(T.stat,T,[a])};case 1:if(j=d,!j.isDirectory())throw Error("Expected '"+a+"' to be a directory.");return++h,{done:!1,value:R(a,".egs")};case 2:return m=d,++h,{done:!1,value:V()};case 3:return l=d,++h,{done:!1,value:W(c.prelude)};case 4:return n=d,++h,{done:!1,value:U(p({}))};case 5:return i=d,k=function(b,d,e){function f(a){var b;return a instanceof e.Call&&(a.func instanceof e.Func||a.func instanceof e.Binary&&"."===a.func.op&&a.func.left instanceof e.Func&&a.func.right.isConst()&&("call"===(b=a.func.right.constValue())||"apply"===b))}function g(b){return b.pos.file&&!D.call(h,b.pos.file)&&f(b)?(h[b.pos.file]=!0,e.Call(b.pos,e.Access(b.pos,e.Ident(b.pos,"templates"),e.Const(b.pos,"set")),[e.Const(b.pos,ab.relative(a,b.pos.file)),b])):void 0}var h;return h={},b=i(b).walk(g),e.Root(b.pos,e.Call(b.pos,e.Access(b.pos,e.Func(b.pos,null,[e.Ident(b.pos,"factory")],[],e.IfStatement(b.pos,e.And(b.pos,e.Binary(b.pos,e.Unary(b.pos,"typeof",e.Ident(b.pos,"module")),"!==",e.Const(b.pos,"undefined")),e.Access(b.pos,e.Ident(b.pos,"module"),e.Const(b.pos,"exports"))),e.Assign(b.pos,e.Access(b.pos,e.Ident(b.pos,"module"),e.Const(b.pos,"exports")),e.Call(b.pos,e.Ident(b.pos,"factory"),[e.Call(b.pos,e.Ident(b.pos,"require"),[e.Const(b.pos,"egs")])])),e.IfStatement(b.pos,e.And(b.pos,e.Binary(b.pos,e.Unary(b.pos,"typeof",e.Ident(b.pos,"define")),"===",e.Const(b.pos,"function")),e.Access(b.pos,e.Ident(b.pos,"define"),e.Const(b.pos,"amd"))),e.Call(b.pos,e.Ident(b.pos,"define"),[e.Arr(b.pos,[e.Const(b.pos,"egs")]),e.Ident(b.pos,"factory")]),e.Assign(b.pos,e.Access(b.pos,e.This(b.pos),e.Const(b.pos,c.globalExport||"EGSTemplates")),e.Call(b.pos,e.Ident(b.pos,"factory"),[e.Access(b.pos,e.This(b.pos),e.Const(b.pos,"EGS"))]))))),e.Const(b.pos,"call")),[e.This(b.pos),e.Func(b.pos,null,[e.Ident(b.pos,"EGS")],["templates"],e.Block(b.pos,[e.IfStatement(b.pos,e.Unary(b.pos,"!",e.Ident(b.pos,"EGS")),e.Throw(b.pos,e.Call(b.pos,e.Ident(b.pos,"Error"),[e.Const(b.pos,"Expected EGS to be available")]))),e.Assign(b.pos,e.Ident(b.pos,"templates"),e.Call(b.pos,e.Access(b.pos,e.Ident(b.pos,"EGS"),e.Const(b.pos,"Package")),[])),b.body,e.Return(b.pos,e.Ident(b.pos,"templates"))]))]),[],[])},++h,{done:!1,value:l.compileFile({input:m,output:b,embedded:!0,embeddedGenerator:!0,noindent:!0,embeddedOpen:c.open,embeddedOpenWrite:c.openWrite,embeddedOpenComment:c.openComment,embeddedClose:c.close,embeddedCloseWrite:c.closeWrite,embeddedCloseComment:c.closeComment,coverage:c.coverage,sourceMap:c.sourceMap,undefinedName:c.undefinedName,uglify:c.uglify,macros:n,astPipe:k})};case 6:return++h,{done:!0,value:d};case 7:return{done:!0,value:void 0};default:throw Error("Unknown state: "+h)}}function f(a){throw d(),a}function g(a){try{return e(a)}catch(b){f(b)}}var g,h,e,f,i,j,k,l,m,n;return h=0,{close:d,iterator:function(){return this},next:function(){return g(void 0)},send:g,"throw":function(a){return f(a),g(void 0)}}}),_=function(){function a(b){var d;return d=this instanceof a?this:w(c),null==b&&(b={}),d.options=b,d.factories={},d.templates={},d}function b(a){return 47!==a.charCodeAt(0)?"/"+a:a}var c;return c=a.prototype,a.displayName="Package",c.set=function(a,c,d){var e;return null==d&&(d={}),a=b(a),e=this.factories[a]=E(c),this.templates[a]=n(j(x.fulfilled({func:e,isSimple:!1})),$(A(A({__inPackage$:this,filename:a},this.options),d)),!0),this},c.get=function(a){var c;if(a=b(a),c=this.templates,D.call(c,a))return c[a];throw Q("Unknown filepath: '"+a+"'")},c.render=E(function(a,b){function c(){g=2}function d(c){for(;;)switch(g){case 0:return null==b&&(b={}),i=h.get(a),++g,{done:!1,value:i(b)};case 1:return++g,{done:!0,value:c};case 2:return{done:!0,value:void 0};default:throw Error("Unknown state: "+g)}}function e(a){throw c(),a}function f(a){try{return d(a)}catch(b){e(b)}}var f,g,d,h,e,i;return h=this,g=0,{close:c,iterator:function(){return this},next:function(){return f(void 0)},send:f,"throw":function(a){return e(a),f(void 0)}}}),c.renderSync=function(a,b){var c;return null==b&&(b={}),c=this.get(a),c.sync(b)},c.renderStream=function(a,b){var c;return null==b&&(b={}),c=this.get(a),c.stream(b)},c._find=function(a,b){var c,d;return d=X(a,b),c=this.factories,D.call(c,d)?x.fulfilled({filepath:d,compiled:{func:c[d],isSimple:!1}}):x.rejected(Q("Cannot find '"+a+"' from '"+d+"', tried '"+d+"'"))},c.express=function(){var a;return a=this,function(b,c,d){y(a.render(b,c))(d)}},a}(),q.version="0.1.7",q.fromFile=r,q.render=bb,q.renderFile=cb,q.renderStream=s,q.renderFileStream=t,q.withEgsPrelude=gb,q.compilePackage=P,q.Package=_,q.EgsError=Q,q.compile=function(a,b,c){return null==a&&(a=""),null==b&&(b={}),null==c&&(c=[]),N(a,k(b),c)},q.__express=u,q.express=function(a){return null==a&&(a={}),function(b,c,d){null==c&&(c={}),u(b,A(A({},a),c),d)}},d.exports=q}.call(this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:this),d.exports},c["./helpers"]=function(){var a={exports:this},b=this;return function(){var a,c;a="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},c=function(){function b(d){var e;return e=this instanceof b?this:a(c),e.text=d,e}var c;return c=b.prototype,b.displayName="RawHTML",c.toHTML=function(){return this.text},b}(),b.h=b.html=function(a){return c(String(a))},b.j=b.javascript=function(){function a(a){return b[a]}var b,d;return b={"\\":"\\\\","\r":"\\r","\u2028":"\\u2028","\u2029":"\\u2029","\n":"\\n","\f":"\\f","'":"\\'",'"':'\\"',"	":"\\t"},d=/[\\\r\u2028\u2029\n\f'"\t]/g,function(b){return c(String(b).replace(d,a))}}()}.call(this),a.exports},c["./utils"]=function(){var a={exports:this},b=this;return function(){var a;a=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),b.escapeHTML=function(){function b(a){return d[a]}function c(a){return a.replace(e,b)}var d,e;return d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},e=/[&<>"']/g,function(b){if("string"==typeof b)return c(b);if("number"==typeof b)return b.toString();if(null!=b&&"function"==typeof b.toHTML)return String(b.toHTML());throw TypeError("Expected a String, Number, or Object with a toHTML method, got "+a(b))}}()}.call(this),a.exports},c("./egs").withEgsPrelude("macro extends(name, locals)\n  let new-context = if locals and not locals.is-const()\n    ASTE {} <<< context <<< $locals\n  else\n    ASTE context\n  ASTE context.extends $name, $new-context\n\nmacro block\n  syntax ident as Identifier, body as GeneratorBody?\n    let name = @const @name(ident)\n    if body?\n      ASTE! write := yield context.block $name, first!(write, (write := '')), #(write)*\n        $body\n        write\n    else\n      ASTE! write := yield context.block $name, first!(write, (write := ''))\n\nmacro partial(name, locals)\n  let new-context = if locals and not locals.is-const()\n    ASTE {} <<< context <<< $locals\n  else\n    ASTE context\n  ASTE! write := yield context.partial $name, first!(write, (write := '')), $new-context\n")};"function"==typeof define&&define.amd?define(function(a){return b(a)}):"undefined"!=typeof module&&"function"==typeof require?module.exports=b(require):a.EGS=b()}(this),function(a){"use strict";var b,c,d,e,f,g,h,i,j,k;b=function(a,b,c,d,e){function g(a,b){k||(--n,null!=a&&null==i&&(i=a),c&&null==i&&arguments.length>1&&m.push(b),o||h())}function h(){for(;!k&&null==i&&a>n&&++l<b;)++n,o=!0,d(l,f(g)),o=!1;k||null==i&&0!==n||(k=!0,null!=i?e(i):e(null,m))}var i,k,l,m,n,o;if("number"!=typeof a)throw TypeError("Expected limit to be a Number, got "+j(a));if("number"!=typeof b)throw TypeError("Expected length to be a Number, got "+j(b));if(null==c)c=!1;else if("boolean"!=typeof c)throw TypeError("Expected hasResult to be a Boolean, got "+j(c));if("function"!=typeof d)throw TypeError("Expected onValue to be a Function, got "+j(d));if("function"!=typeof e)throw TypeError("Expected onComplete to be a Function, got "+j(e));return m=c?[]:null,0>=b?e(null,m):((1>a||a!==a)&&(a=1/0),i=null,n=0,o=!1,k=!1,l=-1,h(),void 0)},c=function(a){if("object"!=typeof a||null===a)throw TypeError("Expected promise to be an Object, got "+j(a));if("function"!=typeof a.then)throw TypeError("Expected promise.then to be a Function, got "+j(a.then));return function(b){a.then(function(a){return k(b,null,a)},function(a){return k(b,a)})}},d="function"==typeof Array.isArray?Array.isArray:function(){var a;return a=Object.prototype.toString,function(b){return"[object Array]"===a.call(b)}}(),e=function(a){if("number"!=typeof a)throw TypeError("Expected a number, got "+j(a));return a},f=function(){function a(){throw Error("Attempted to call function more than once")}function b(){}return function(c,d){if("function"!=typeof c)throw TypeError("Expected func to be a Function, got "+j(c));if(null==d)d=!1;else if("boolean"!=typeof d)throw TypeError("Expected silentFail to be a Boolean, got "+j(d));return function(){var e;return e=c,c=d?b:a,e.apply(this,arguments)}}}(),g=Array.prototype.slice,h=function(a){var b;if(b=typeof a,"string"===b)return a;if("number"===b)return String(a);throw TypeError("Expected a string or number, got "+j(a))},i=function(a){if(null==a)throw TypeError("Expected an object, got "+j(a));if(d(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return g.call(a);throw TypeError("Expected an object with a length property, got "+j(a))},j=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),k="function"==typeof a.setImmediate?a.setImmediate:"undefined"!=typeof process&&"function"==typeof process.nextTick?function(){var a;return a=process.nextTick,function(b){var c;if("function"!=typeof b)throw TypeError("Expected func to be a Function, got "+j(b));return c=g.call(arguments,1),c.length?a(function(){b.apply(void 0,i(c))}):a(b)}}():function(a){var b;if("function"!=typeof a)throw TypeError("Expected func to be a Function, got "+j(a));return b=g.call(arguments,1),b.length?setTimeout(function(){a.apply(void 0,i(b))},0):setTimeout(a,0)},jQuery(function(a){function d(){var b,d;return d=a("#try-input-data").val(),c(GorillaScript.eval(d))((b=!1,function(c,d){var e,f;if(b)throw Error("Attempted to call function more than once");return b=!0,c?(a("#try-input-data-wrap").addClass("error"),a("#try-output-result").val("// Error reading data: "+String(c))):l?(e=[],f=j=l.stream(d).on("data",function(b){return j===f?(a("#try-input-data-wrap").removeClass("error"),e.push(b),a("#try-output-result").val(e.join(""))):void 0}).on("error",function(b){return j===f?(a("#try-input-data-wrap").addClass("error"),a("#try-output-result").val(String(null!=b&&b.stack||stack)),j=void 0):void 0}).on("done",function(){return j===f?j=void 0:void 0})):void 0}))}function f(a){return function(){try{return a.apply(this,arguments)}catch(b){k(function(){throw b})}return!1}}function g(){return o||p||n?void 0:a("#toc").removeClass("hover")}function i(){var c;return Prism.languages.gorillascript?(c=a('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),b(1,e(c.length),!1,function(a,b){var d;return d=c[a],Prism.highlightElement(d),k(b)},function(){})):setTimeout(i,17)}var j,l,m,n,o,p,q;return a("#try-link").removeClass("hide"),m=function(){function b(){var b,f;return e?(m(),void 0):(f=a("#try-input-template").val(),l=EGS(f),e=!0,c(EGS.compile(f))((b=!1,function(c,f){if(b)throw Error("Attempted to call function more than once");return b=!0,e=!1,c?(a("#try-input-template-wrap").addClass("error"),a("#try-output-template").val("// Error compiling template: "+String(c))):(a("#try-input-template-wrap").removeClass("error"),a("#try-output-template").val(f.code)),d()})))}var e,f;return e=!1,function(){return null!=f&&clearTimeout(f),f=setTimeout(b,250)}}(),setInterval(function(){var b;return b="",function(){var c;return c=a("#try-input-template").val(),c!==b?(b=c,m()):void 0}}(),17),setInterval(function(){var b;return b="",function(){var c;return c=a("#try-input-data").val(),c!==b?(b=c,d()):void 0}}(),17),a("a[href=#try]").click(f(function(){var b;return m(),b=a("#try"),b.slideToggle(),a("#run-link").toggleClass("hide"),!1})),a("#irc-button").click(f(function(){var b;return b=a(this).data("url"),a(this).replaceWith(a("<iframe id='irc-iframe' src='"+h(b)+"'></iframe>")),!1})),n="ontouchstart"in window,p=!1,o=!1,a("#toc").removeClass("hover"),n||(a("#toc-label").addClass("no-touch").bind("touchstart",f(function(){return n=!0,a(this).removeClass("no-touch"),!0})),a("#toc-label").hover(f(function(){return n?void 0:(p=!0,a("#toc").addClass("hover"))}),f(function(){return n?void 0:(p=!1,setTimeout(g,17))})),a("#toc").hover(f(function(){return n?void 0:(o=!0,a("#toc").addClass("hover"))}),f(function(){return n?void 0:(o=!1,setTimeout(g,17))}))),a("#toc-label a").click(f(function(){return k(function(){return a("#toc").toggleClass("hover"),setTimeout(g,17)}),!1})),q=function(){function a(){var e,f,g,h;if(0!==b.length&&!d)return d=!0,g=b.shift(),h=g.gsCode,e=g.$jsCode,c(GorillaScript.compile(h,{"return":!0,bare:!0}))((f=!1,function(b,c){var g,h;if(f)throw Error("Attempted to call function more than once");return f=!0,g=e.find("code"),g.text(null!=b?"// Error: "+String(b):c.code),k((h=!1,function(){if(h)throw Error("Attempted to call function more than once");return h=!0,Prism.highlightElement(g[0]),d=!1,a()}))}))}var b,d;return b=[],d=!1,function(c,d){return d.find("code").text("// Compiling..."),b.push({gsCode:c,$jsCode:d}),a()}}(),a(".gs-code").each(function(){var b,c;return c=a(this),c.hasClass("no-convert")?void 0:(b=a("<div>"),c.replaceWith(b),b.append(a("<ul class='tabs'><li class='gs-tab active'><a href='#'>GorillaScript</a><li class='js-tab'><a href='#'>JavaScript</a></ul>")),b.append(c),b.find(".tabs a").on("click",f(function(){var d;return b.find(".tabs li").removeClass("active"),a(this).parent().addClass("active"),a(this).parent().hasClass("gs-tab")?(b.find(".js-code").hide(),b.find(".gs-code").show()):(b.find(".gs-code").hide(),d=b.find(".js-code"),0===d.length&&(d=a("<pre class='js-code'><code class='language-javascript'></code></pre>"),b.append(d),q(c.find("code").text(),d)),d.show()),!1})))}),i()})}.call(this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:this),function(){"use strict";jQuery(function(a){var b,c,d,e,f;for(d=[{name:"Hello, world!",template:"Hello, <%= name %>!",data:{name:"world"}},{name:"Email",template:"Dear <%= title %> <%= name %>,\n\n<%= message %>\n\n    <%= signoff %>,\n    <%= signature %>",data:{title:"Ms.",name:"Sarah Connor",message:"We have your son, John.",signoff:"Lovingly yours",signature:"Skynet"}},{name:"Conditional",template:"<% if user.is-authenticated: %>\n  Welcome, <%= user.name %>\n<% else: %>\n  You should log in.\n<% end %>",data:{user:{isAuthenticated:!0,name:"Some guy"}}},{name:"Looping over an array",template:"<ul>\n  <% for product in products: %>\n    <li><%= product.name %>: $<%= product.price.to-fixed(2) %></li>\n  <% else: %>\n    <li>There are no items to show at this time.</li>\n  <% end %>\n</ul>",data:{products:[{name:"Apples",price:1.28},{name:"Bananas",price:.43},{name:"Cherries",price:4.5},{name:"Dates",price:2.99}]}},{name:"Escaping",template:'Escaped: <%= escaped %>\nUnescaped: <%=h unescaped %>\n<script>var text = "<%=j js-escaped %>"</script>\nCustom escaped: <%= custom-escaped %>',data:"{\n  escaped: \"<script>alert('I am evil!')</script>\"\n  unescaped: \"<script>uhOh()</script>\"\n  js-escaped: '''\n  Newlines\n  Tabs\\tand double \"quotes\" and 'single quotes'\n  '''\n  custom-escaped: {\n    toHTML()\n      \"<span>Some text here</span>\"\n  }\n}"},{name:"Calling helpers",template:"There are <%= get-num-people() %> people online.",data:"{\n  get-num-people: # Math.random() * 100 \\ 1\n}"},{name:"Calling asynchronous helpers",template:"There are <%= yield get-num-people() %> people online.",data:"{\n  get-num-people: promise! #*\n    // take some time to figure it out\n    yield delay! 200_ms\n    Math.random() * 100 \\ 1\n}"},{name:"Streaming",template:"Let's start fetching some data: (at <%= Date() %>)\n<% for c from to-slow-text(text): %><%= yield c %><% end %>\nAnd we're done! (at <%= Date() %>)",data:"{\n  text: \"Hello, world! This part is being yielded in one character at a time.\"\n  to-slow-text: #(text as String)!*\n    for c in text\n      yield delay! 100_ms, ''\n      yield fulfilled! c\n}"},{name:"Comments",template:"<%-- This will not be included in the result source --%>\n<!-- But this, a normal HTML comment, will. -->",data:{}},{name:"Partials",template:"<%-- This actually won't work in this online compiler, since there is no filesystem --%>\n<% partial 'login' %>",data:{}},{name:"Inheritance",template:"<%-- This actually won't work in this online compiler, since there is no filesystem --%>\n<% extends 'layout' %>\n\n<% block body: %>\n  <h1>Hello!</h1>\n<% end %>",data:{}}],b=a("#try-examples select"),e=0,c=d.length;c>e;++e)f=d[e].name,b.append(a("<option />",{value:e,text:f}));return b.change(function(){var c,e;return e=Number(b.val()),e===e&&(c=d[e],c&&(a("#try-input-template").val(c.template),a("#try-input-data").val("string"==typeof c.data?c.data:JSON.stringify(c.data,null,2)))),!1}),b.change()})}.call(this);